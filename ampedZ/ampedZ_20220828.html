<!DOCTYPE html><html><head><meta http-equiv="Content-Type"content="text/html;charset=utf-8"/><meta name="viewport"content="width=device-width,initial-scale=1,user-scalable=yes"/><style type="text/css">body{margin:0px}#divRoot{text-align:center}#divTitle{clear:both;margin:16px}#divFile{margin:16px;display:none}#divInfo{margin:16px}#divHelp{font-family:"Consolas";margin:6px}#divTool{display:none}#divSave{margin:3px}#aStatus{display:none}#divNewSettingViewer{display:none}#divDictViewer{display:none}#divServerListViewer{display:none}#divShopItemViewer{display:none}#divChatMessageViewer{display:none}#divHostInfoViewer{display:none}#divGuildData$SummaryViewer{display:none}#divCommunityUserDataViewer{display:none}#divUserDataViewer{display:none}#divUserListViewer{display:none}#divGameRoomEntryInfoBagViewer{display:none}#divEntryIDViewer{display:none}#divChatRoomIDViewer{display:none}#divTotalRankViewer{display:none}#divQuizSimulator{display:none}#divIconCover{display:none}#imgSource{margin:16px}#imgResult{margin:16px}#fileFileBase{display:none}#aSaveIcon{display:none}#divSetCollector{display:none}#divUserDataPreviewer{display:none}#fileFileLog{display:none}#divCollector{background-color:#333842;width:640px;margin:auto;line-height:0px}#divCopyright{clear:both;margin:16px}input[type=text]{background-color:#666666;border-top:1px solid#333842;border-left:1px solid#333842;border-bottom:1px solid#7F7F7F;border-ritgh:1px solid#7F7F7F;border-radius:2px;outline:none;font-family:"FZDaHei-B02S","HYGothic-Extra","Lucida Bright","Lucida Sans","Lucida Sans Typewriter";color:#FFFFFF}input[type=text]:hover{border-top:1px solid#A7E6FD;border-left:1px solid#A7E6FD;border-bottom:1px solid#E6F6FD;border-ritgh:1px solid#E6F6FD}table{background-color:#454E5A;border-collapse:collapse;font-family:"FZDaHei-B02S","HYGothic-Extra","Lucida Bright","Lucida Sans","Lucida Sans Typewriter";color:#FFFFFF;margin:auto}th,td{border:2px solid#585858}td{white-space:nowrap}</style></head><body><div id="divRoot"><div id="divMessage"></div><div id="divTitle"></div><div id="divFile"><input id="fileFile"type="file"multiple="multiple"/></div><div id="divInfo">loading</div><div id="divOperate"><div id="divFileList"></div><div id="divTool"><div><select id="selectTool"title="Tool"><option value="NewSettingViewer"title="NewSettingViewer">NewSettingViewer</option><option value="DictViewer"title="DictViewer">DictViewer</option><option value="ServerListViewer"title="ServerListViewer">ServerListViewer</option><option value="ShopItemViewer"title="ShopItemViewer">ShopItemViewer</option><option value="ChatMessageViewer"title="ChatMessageViewer">ChatMessageViewer</option><option value="HostInfoViewer"title="HostInfoViewer">HostInfoViewer</option><option value="GuildData$SummaryViewer"title="GuildData$SummaryViewer">GuildData$SummaryViewer</option><option value="CommunityUserDataViewer"title="CommunityUserDataViewer">CommunityUserDataViewer</option><option value="UserDataViewer"title="UserDataViewer">UserDataViewer</option><option value="UserListViewer"title="UserListViewer">UserListViewer</option><option value="GameRoomEntryInfoBagViewer"title="GameRoomEntryInfoBagViewer">GameRoomEntryInfoBagViewer</option><option value="EntryIDViewer"title="EntryIDViewer">EntryIDViewer</option><option value="ChatRoomIDViewer"title="ChatRoomIDViewer">ChatRoomIDViewer</option><option value="TotalRankViewer"title="TotalRankViewer">TotalRankViewer</option><option value="QuizSimulator"title="QuizSimulator">QuizSimulator</option><option value="IconCover"title="IconCover">IconCover</option><option value="SetCollector"title="SetCollector">SetCollector</option><option value="UserDataPreviewer"title="UserDataPreviewer">UserDataPreviewer</option></select></div><div><select id="selectNewSettingViewerList"title="List"></select></div><div><select id="selectDictViewerList"title="List"></select></div><div><select id="selectServerListViewerList"title="List"></select></div></div><div id="divSave"><a id="aStatus"title="Status">状态</a></div><div id="divHelp"></div></div><div id="divResult"><div id="divNewSettingViewer"><div id="divNewSetting"></div></div><div id="divDictViewer"><div id="divDict"></div></div><div id="divServerListViewer"><div id="divServerList"></div></div><div id="divShopItemViewer"><div id="divShopItem"></div></div><div id="divChatMessageViewer"><div id="divChatMessage"></div></div><div id="divHostInfoViewer"><div id="divHostInfo"></div></div><div id="divGuildData$SummaryViewer"><div id="divGuildData$Summary"></div></div><div id="divCommunityUserDataViewer"><div id="divCommunityUserData"></div></div><div id="divUserDataViewer"><div id="divUserData"></div></div><div id="divUserListViewer"><div id="divUserList"></div></div><div id="divGameRoomEntryInfoBagViewer"><div id="divGameRoomEntryInfoBag"></div></div><div id="divEntryIDViewer"><div id="divEntryID"></div></div><div id="divChatRoomIDViewer"><div id="divChatRoomID"></div></div><div id="divTotalRankViewer"><div id="divTotalRank"></div></div><div id="divQuizSimulator"></div><div id="divIconCover"><div id="divSelector"></div><div><img id="imgSource"/><img id="imgResult"/></div><input id="fileFileBase"type="file"/><a id="aSaveIcon"></a></div><div id="divSetCollector"><div id="divMultiple"></div><input id="fileFileLog"type="file"/><div><a id="aLoadLog">导入记录</a>｜<a id="aSaveLog">保存记录</a>｜<a id="aSavePic">保存图片</a></div><div id="divCollector"></div></div><div id="divUserDataPreviewer"><div id="divUserDataPreview"></div></div></div><div id="divCopyright"></div></div><script type="text/javascript">"use strict";var Title="ampedZ";var Version="20220828";var Search="";(function(){var script=document.createElement("script");script.type="text/javascript";script.src="search.js";document.getElementsByTagName("head")[0].appendChild(script);})();window.isNull=function(t){return!t&&(typeof t!=="undefined")&&(t!=0);};window.isUndefined=function(t){return typeof t==="undefined";};window.isObject=function(t){return typeof t==="object";};window.isArray=function(t){return Array.isArray(t);};window.isString=function(t){return typeof t==="string";};window.isInteger=function(t){return Math.round(t)==t;};window.lsLocal=function(t){var img=new Image();img.src="";return img.src.startsWith("file");};window.copyObject=function(o){if(isUndefined(o)||(o===null)){return o;}
if(o instanceof Float32Array){var r=new Float32Array(o.length);for(var i=0;i<o.length;i++){r[i]=o[i];}
return r;}
if(Array.isArray(o)){var r=[];for(var i=0;i<o.length;i++){r[i]=copyObject(o[i]);}
return r;}
if(o instanceof Object){var r={};for(var t in o){if(o.hasOwnProperty(t)){r[t]=copyObject(o[t]);}}
return r;}
return o;};window.mergeObject=function(o,t){var c=(arguments.length>1?arguments[1]:true);o=copyObject(o);for(var n in t){if(!isUndefined(t[n])){if(c){o[n]=copyObject(t[n]);}
else{o[n]=(!isUndefined(o[n])?o[n]:copyObject(t[n]));}}}
return o;};Number.prototype.toAbbreviated=function(l){return Math.round(this*Math.pow(10,l))/Math.pow(10,l);};Number.prototype.toAccurated=function(){var l=(arguments.length>0?arguments[0]:12);var v=this;for(var i=l-2;i>1;i--){var va=v.toAbbreviated(i);if(v.toAbbreviated(i+2)==va){v=va;}}
return v;};Number.prototype.toByteLength=function(){var l=(arguments.length>0?arguments[0]:0);var v=this;var m=["B","KB","MB","GB","TB","PB","EB","ZB","YB","DB","NB"];var n=0;while(n<m.length-1){if(v>1024){n+=1;v/=1024;}
else{break;}}
return v.toFixed(n?l:0)+m[n];};Number.prototype.getFlag=function(s){var l=(arguments.length>1?arguments[1]:1);var e=s+l;var m=0;for(var i=s;i<e;i++){m+=1<<i;}
return(this&m)>>s;};Number.prototype.mergeLong=function(t){return(this-(this.getFlag(0x3F)?0x100000000:0))*0x100000000+t;};String.prototype.splitEvery=function(n){var r=[];for(var i=0;i<this.length;i++){r.push(this.slice(i,i+n));i+=n-1;}
return r;};String.prototype.insertEvery=function(n,c){return this.splitEvery(n).join(c);};String.prototype.toHtml=function(){return this.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").replace(/"/g,"&quot;");};Array.prototype.writes=function(t){var s=(arguments.length>1?arguments[1]:this.length);if(isUndefined(t.length)||!isObject(t)){t=[t];}
if(t.length==0){return this;}
if(s<0){s=0;}
for(var i=0;i<t.length;i++){this[s+i]=t[i];}
return this;};Array.prototype.write=function(t){var s=(arguments.length>1?arguments[1]:this.length);this.writes([t],s);return this;};Array.prototype.inserts=function(t){var s=(arguments.length>1?arguments[1]:this.length);if(isUndefined(t)||!isObject(t)){t=[t];}
if(t.length==0){return this;}
if(s<0){s=0;}
var a=[];for(var i=s;i<this.length;i++){a.push(this[i]);}
this.splice(s);this.writes(t);this.writes(a);return this;};Array.prototype.insert=function(t){var s=(arguments.length>1?arguments[1]:this.length);this.inserts([t],s);return this;};Array.prototype.unrepeat=function(){var r=[];var h=[];for(var i=0;i<this.length;i++){var e=this[i];if(!h[e]){r.push(e);h[e]=true;}}
return r;};Uint8Array.prototype.find=function(t){var s=(arguments.length>1?arguments[1]:0);var buffer=this;if(buffer.length<t.length){return-1;}
for(var i=s;i<buffer.length;i++){var isMatch=(function(){for(var j=0;j<t.length;j++){if(buffer[i+j]!=t[j]){return false;}}
return true;})();if(isMatch){return i;}}
return-1;};Uint8Array.prototype.startsWith=function(t){return this.find(t,0)==0;};Uint8Array.prototype.equal=function(t){return(this.length==t.length)&&this.every(function(e,i){return e===t[i];});};Uint8Array.prototype.concat=function(){var a=arguments;var l=this.length;for(var i=0;i<a.length;i++){l+=a[i].length;}
var r=new Uint8Array(l);var w=0;r.set(this,w);w+=this.length;for(var i=0;i<a.length;i++){r.set(a[i],w);w+=a[i].length;}
return r;};Uint8Array.prototype.fromBase64=function(t){var format=(function(){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");var e=0
var n=t.length;while(true){n=t.lastIndexOf("=",n-1);if(n!=-1){e+=1;}
else{break;}}
if(e>2){t=t.slice(0,t.length-(e-2));}})();var z=0;if(t[t.length-1]=="="){z+=1;if(t[t.length-2]=="="){z+=1;}}
var r=new Uint8Array(t.length/4*3-z);var c=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];var c1;var c2;var c3;var c4;var i=0;var j=0;while(i<t.length){do{c1=c[t.charCodeAt(i++)&0xFF];}while((i<t.length)&&(c1==-1));if(c1==-1){break;}
do{c2=c[t.charCodeAt(i++)&0xFF];}while((i<t.length)&&(c2==-1));if(c2==-1){break;}
r[j++]=((c1<<2)|((c2&0x30)>>4));do{c3=t.charCodeAt(i++)&0xFF;if(c3==0x3D){return r;}
c3=c[c3];}while((i<t.length)&&(c3==-1));if(c3==-1){break;}
r[j++]=(((c2&0x0F)<<4)|((c3&0x3C)>>2));do{c4=t.charCodeAt(i++)&0xFF;if(c4==0x3D){return r;}
c4=c[c4];}while((i<t.length)&&(c4==-1));if(c4==-1){break;}
r[j++]=(((c3&0x03)<<6)|c4);}
return r;};Uint8Array.prototype.fromHex=function(t){var format=(function(){t=t.replace(/[^A-Fa-f0-9]/g,"").replace(/(\s|\r|\n)/g,"").toUpperCase();if(t==""){return new Uint8Array(0);}
if(t.length%2!=0){t+="0";}})();var r=new Uint8Array(t.length/2);for(var i=0;i<r.length;i++){r[i]=parseInt(t.slice(i*2,i*2+2),16);}
return r;};Uint8Array.prototype.fromText=function(t){return new Uint8Array(unescape(encodeURIComponent(t)).split("").map(function(c){return c.charCodeAt();}));};Uint8Array.prototype.fromInt32=function(t){var e=(arguments.length>1?arguments[1]:LittleEndian);var r=new ArrayBuffer(4);new DataView(r,0,4).setInt32(0,t,e);return new Uint8Array(r);};Uint8Array.prototype.setInt32=function(t){var s=(arguments.length>1?arguments[1]:0);var e=(arguments.length>2?arguments[2]:LittleEndian);if((s<0)||(s>this.length-1)){return this;}
new DataView(this.buffer,s,4).setInt32(0,t,e);return this;};Uint8Array.prototype.getInt8=function(){var s=(arguments.length>0?arguments[0]:0);if((s<0)||(s>this.length-1)){return 0;}
return new DataView(this.buffer,s,1).getInt8(0);};Uint8Array.prototype.getInt16=function(){var s=(arguments.length>0?arguments[0]:0);var e=(arguments.length>1?arguments[1]:LittleEndian);if((s<0)||(s>this.length-1)){return 0;}
return new DataView(this.buffer,s,2).getInt16(0,e);};Uint8Array.prototype.getInt32=function(){var s=(arguments.length>0?arguments[0]:0);var e=(arguments.length>1?arguments[1]:LittleEndian);if((s<0)||(s>this.length-1)){return 0;}
return new DataView(this.buffer,s,4).getInt32(0,e);};Uint8Array.prototype.getInt=function(l){var s=(arguments.length>1?arguments[1]:0);var e=(arguments.length>2?arguments[2]:LittleEndian);if((s<0)||(s>this.length-1)){return 0;}
switch(l){case 1:return this.getInt8(s);break;case 2:return this.getInt16(s,e);break;case 3:if(e){return this.getInt16(s,e)+this.getInt8(s+2)*0x10000;}
else{return this.getInt8(s)*0x10000+this.getInt16(s+1,e);}
break;case 4:return this.getInt32(s,e);break;case 8:if(e){return this.getUint32(s,e)+this.getInt32(s+4,e)*0x100000000;}
else{return this.getInt32(s,e)*0x100000000+this.getUint32(s+4,e);}
break;}
return 0;};Uint8Array.prototype.getUint8=function(){var s=(arguments.length>0?arguments[0]:0);if((s<0)||(s>this.length-1)){return 0;}
return new DataView(this.buffer,s,1).getUint8(0);};Uint8Array.prototype.getUint16=function(){var s=(arguments.length>0?arguments[0]:0);var e=(arguments.length>1?arguments[1]:LittleEndian);if((s<0)||(s>this.length-1)){return 0;}
return new DataView(this.buffer,s,2).getUint16(0,e);};Uint8Array.prototype.getUint32=function(){var s=(arguments.length>0?arguments[0]:0);var e=(arguments.length>1?arguments[1]:LittleEndian);if((s<0)||(s>this.length-1)){return 0;}
return new DataView(this.buffer,s,4).getUint32(0,e);};Uint8Array.prototype.getUint=function(l){var s=(arguments.length>1?arguments[1]:0);var e=(arguments.length>2?arguments[2]:LittleEndian);if((s<0)||(s>this.length-1)){return 0;}
switch(l){case 1:return this.getUint8(s);break;case 2:return this.getUint16(s,e);break;case 3:if(e){return this.getUint16(s,e)+this.getUint8(s+2)*0x10000;}
else{return this.getUint8(s)*0x10000+this.getUint16(s+1,e);}
break;case 4:return this.getUint32(s,e);break;case 8:if(e){return this.getUint32(s,e)+this.getUint32(s+4,e)*0x100000000;}
else{return this.getUint32(s,e)*0x100000000+this.getUint32(s+4,e);}}
return 0;};Uint8Array.prototype.getFloat16=function(){var s=(arguments.length>0?arguments[0]:0);var e=(arguments.length>1?arguments[1]:LittleEndian);if((s<0)||(s>this.length-1)){return 0;}
var mantissa=function(n){var v=0;switch(true){case(n>=1)&&(n<1024):var m=n<<13;var e=0;while((m&0x00800000)==0){e-=0x00800000;m<<=1;}
m&=~0x00800000;e+=0x38800000;v=m|e;break;case(n>=1024)&&(n<2048):v=0x38000000+((n-1024)<<13);break;}
return v;};var exponent=function(n){var v=0;switch(true){case(n>=1)&&(n<31):v=n<<23;break;case(n==31):v=0x47800000;break;case(n==32):v=0x80000000;break;case(n>=33)&&(n<63):v=0x80000000+((n-32)<<23);break;case(n==63):v=0xC7800000;break;}
return v;};var offset=function(n){var v=0;switch(true){case(n>=1)&&(n<64):v=(n==32?0:1024);break;}
return v;};var float32=new Float32Array(1);var int32=new Int32Array(float32.buffer);var b=new DataView(this.buffer,s,2).getInt16(0,e)
var m=b>>10;int32[0]=mantissa((b&0x3FF)+offset(m))+exponent(m);return float32[0].toAccurated();};Uint8Array.prototype.getFloat32=function(){var s=(arguments.length>0?arguments[0]:0);var e=(arguments.length>1?arguments[1]:LittleEndian);if((s<0)||(s>this.length-1)){return 0;}
return new DataView(this.buffer,s,4).getFloat32(0,e).toAccurated();};Uint8Array.prototype.getFloat64=function(){var s=(arguments.length>0?arguments[0]:0);var e=(arguments.length>1?arguments[1]:LittleEndian);if((s<0)||(s>this.length-1)){return 0;}
return new DataView(this.buffer,s,8).getFloat64(0,e).toAccurated();};Uint8Array.prototype.getFloat=function(l){var s=(arguments.length>1?arguments[1]:0);var e=(arguments.length>2?arguments[2]:LittleEndian);if((s<0)||(s>this.length-1)){return 0;}
switch(l){case 2:return this.getFloat16(s,e);break;case 4:return this.getFloat32(s,e);break;case 8:return this.getFloat64(s,e);break;}
return 0;};Uint8Array.prototype.getBit=function(n){var e=(arguments.length>1?arguments[1]:LittleEndian);return(this[n>>3]||0)>>(e?n%8:7-n%8)&1;};Uint8Array.prototype.getBits=function(){var s=(arguments.length>0?arguments[0]:0);var l=(arguments.length>1?arguments[1]:this.length*8-s);var e=(arguments.length>2?arguments[2]:LittleEndian);if((s<0)||(s>this.length*8-1)){return new Uint8Array();}
l=Math.min(l,this.length*8-s);var r=new Uint8Array(l);for(var i=0;i<r.length;i++){r[i]=this.getBit(s+i,e);}
return r;};Uint8Array.prototype.getBase64=function(){var s=(arguments.length>0?arguments[0]:0);var l=(arguments.length>1?arguments[1]:this.length-s);if((s<0)||(s>this.length-1)){return"";}
l=Math.min(l,this.length-s);var r=[];var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var i=s;var e=s+l;while(i<e){var c1=this[i++]&0xFF;if(i==e){r.push(c.charAt(c1>>2));r.push(c.charAt((c1&0x03)<<4));r.push("==");break;}
var c2=this[i++];if(i==e){r.push(c.charAt(c1>>2));r.push(c.charAt(((c1&0x03)<<4)|((c2&0xF0)>>4)));r.push(c.charAt((c2&0x0F)<<2));r.push("=");break;}
var c3=this[i++];r.push(c.charAt(c1>>2));r.push(c.charAt(((c1&0x3)<<4)|((c2&0xF0)>>4)));r.push(c.charAt(((c2&0xF)<<2)|((c3&0xC0)>>6)));r.push(c.charAt(c3&0x3F));}
return r.join("");};Uint8Array.prototype.getHex=function(){var s=(arguments.length>0?arguments[0]:0);var l=(arguments.length>1?arguments[1]:this.length-s);var c=(arguments.length>2?arguments[2]:"");var b=(arguments.length>3?arguments[3]:true);if((s<0)||(s>this.length-1)){return"";}
l=Math.min(l,this.length-s);var r=[];var e=s+l;for(var i=s;i<e;i++){r.push((this.buffer[i]||this[i]).toString(16).padStart(2,"0"));}
r=r.join(c);if(b){r=r.toUpperCase();}
return r;};Uint8Array.prototype.getText=function(){var s=(arguments.length>0?arguments[0]:0);var l=(arguments.length>1?arguments[1]:this.length-s);if((s<0)||(s>this.length-1)){return"";}
l=Math.min(l,this.length-s);if(l==0){return"";}
return decodeURIComponent("%"+this.getHex(s,l).insertEvery(2,"%"));};Uint8Array.prototype.getCRC32=function(){var s=(arguments.length>0?arguments[0]:0);var l=(arguments.length>1?arguments[1]:this.length-s);if((s<0)||(s>this.length-1)){return"00000000";}
l=Math.min(l,this.length-s);var t=(function(){var r=new Int32Array(256);var c;for(var i=0;i<256;i++){c=i;for(var j=0;j<8;j++){if(c&1){c=(c>>>1)^0xEDB88320;}
else{c=c>>>1;}}
r[i]=c;}
return r;})();var c=~0;for(var i=0;i<l;i++){c=(c>>>8)^t[c&0xFF^this[i+s]];}
return new Uint8Array().fromInt32(~c>>>0,false).getHex();};Uint8Array.prototype.getAdler32=function(){var s=(arguments.length>0?arguments[0]:0);var l=(arguments.length>1?arguments[1]:this.length-s);if((s<0)||(s>this.length-1)){return"00000000";}
l=Math.min(l,this.length-s);var m=0xFFF1;var a=1;var b=0;for(var i=0;i<this.length;i++){a=(a+this[i])%m;b=(b+a)%m;}
return new Uint8Array().fromInt32((b<<16|a)>>>0,false).getHex();};Uint8Array.prototype.deflate=function(){var mode=(arguments.length>0?arguments[0]:-1);var type=(arguments.length>1?arguments[1]:"");if(!this.length){return new Uint8Array();}
var buffer=this;var mO=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];var mL=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258];var mD=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];var lzL=258;var lzD=32768;var lzs=4*1024;var ss=0xFFFF;var ws=32*1024;var r=[];var s=0;var e=0;var lz=[];var w=0;var tB;var tL;var tD;var huffman=function(a,l){var r=new Uint8Array(a.length);var reverse=function(freqs,limit){var r=new Uint8Array(freqs.length);var minCost=new Uint16Array(limit);var value=new Array(limit);var excess=(1<<limit)-freqs.length;var half=(1<<(limit-1));var flag=new Uint8Array(limit);var type=new Array(limit);var position=new Array(limit);var take=function(j){var x=type[j][position[j]];if(x==freqs.length){take(j+1);take(j+1);}
else{r[x]-=1;}
position[j]+=1;};minCost[limit-1]=freqs.length;for(var j=0;j<limit;j++){if(excess<half){flag[j]=0;}
else{flag[j]=1;excess-=half;}
excess<<=1;minCost[limit-2-j]=(minCost[limit-1-j]/2|0)+freqs.length;}
minCost[0]=flag[0];value[0]=new Array(minCost[0]);type[0]=new Array(minCost[0]);for(var j=1;j<limit;j++){if(minCost[j]>2*minCost[j-1]+flag[j]){minCost[j]=2*minCost[j-1]+flag[j];}
value[j]=new Array(minCost[j]);type[j]=new Array(minCost[j]);}
for(var i=0;i<freqs.length;i++){r[i]=limit;}
for(var k=0;k<minCost[limit-1];k++){value[limit-1][k]=freqs[k];type[limit-1][k]=k;}
for(var i=0;i<limit;i++){position[i]=0;}
if(flag[limit-1]==1){r[0]-=1;position[limit-1]+=1;}
for(var j=limit-2;j>-1;j--){var i=0;var weight=0;var next=position[j+1];for(var k=0;k<minCost[j];k++){weight=value[j+1][next]+value[j+1][next+1];if(weight>freqs[i]){value[j][k]=weight;type[j][k]=freqs.length;next+=2;}
else{value[j][k]=freqs[i];type[j][k]=i;i+=1;}}
position[j]=0;if(flag[j]==1){take(j);}}
return r;};var Heap=function(length){var buffer=new Uint16Array(length*2);var getParent=function(index){return((index-2)/4|0)*2;};var getChild=function(index){return index*2+2;};this.length=0;this.push=function(index,value){var current=this.length;buffer[this.length++]=value;buffer[this.length++]=index;while(current){var parent=getParent(current);var swap;if(buffer[current]>buffer[parent]){swap=buffer[current];buffer[current]=buffer[parent];buffer[parent]=swap;swap=buffer[current+1];buffer[current+1]=buffer[parent+1];buffer[parent+1]=swap;current=parent;}
else{break;}}
return this.length;};this.pop=function(){var value=buffer[0];var index=buffer[1];this.length-=2;buffer[0]=buffer[this.length];buffer[1]=buffer[this.length+1];var parent=0;while(true){var current=getChild(parent);var swap;if(current>=this.length){break;}
if((current+2<this.length)&&(buffer[current+2]>buffer[current])){current+=2;}
if(buffer[current]>buffer[parent]){swap=buffer[parent];buffer[parent]=buffer[current];buffer[current]=swap;swap=buffer[parent+1];buffer[parent+1]=buffer[current+1];buffer[current+1]=swap;}
else{break;}
parent=current;}
return{"index":index,"value":value,"length":this.length};};};var heap=new Heap(286*2);for(i=0;i<a.length;i++){if(a[i]){heap.push(i,a[i]);}}
var nodes=new Array(heap.length/2);var values=new Uint32Array(heap.length/2);if(nodes.length==1){r[heap.pop().index]=1;return r;}
for(var i=0;i<nodes.length;i++){nodes[i]=heap.pop();values[i]=nodes[i].value;}
var codeLength=reverse(values,l);for(var i=0;i<nodes.length;i++){r[nodes[i].index]=codeLength[i];}
return r;};var getTree=function(t){var v=[];var d=[];for(var i=0;i<t.length;i++){d[t[i]]=d[t[i]]||[];d[t[i]].push(i);}
var c=0;for(var i=1;i<d.length;i++){c<<=1;if(d[i]){for(var j=0;j<d[i].length;j++){v.push([i,c,d[i][j]]);c+=1;}}}
return v;};var getL=function(v){for(var i=1;i<mL.length;i++){if(v<mL[i]){return i-1;}}
return mL.length-1;};var getD=function(v){for(var i=1;i<mD.length;i++){if(v<mD[i]){return i-1;}}
return mD.length-1;};var writeInt=function(n,v){var e=(arguments.length>2?arguments[2]:LittleEndian);for(var i=0;i<n;i++){var j=w>>3;r[j]=r[j]||0;r[j]+=((v>>(e?i:n-1-i))%2)<<(w%8);w++;}};var writeCode=function(t,v){for(var i=0;i<t.length;i++){if(t[i][2]==v){writeInt(t[i][0],t[i][1],false);}}};var writeL=function(v){var n=getL(v);var c=(n/4|0)-1;c=(c<0?0:c);c=(c>5?0:c);writeCode(tL,n+256+1);writeInt(c,v-mL[n],true);};var writeD=function(v){var n=getD(v);var c=(n/2|0)-1;c=(c<0?0:c);writeCode(tD,n);writeInt(c,v-mD[n],true);};var writeData=function(d){for(var i=0;i<d.length;i++){if(d[i][1]){writeL(d[i][0]);writeD(d[i][1]);}
else{writeCode(tL,d[i][0]);}}};var writeChunk=function(h,m){switch(m){case 0:var s0=s;while(s0<e){var e0=Math.min(s0+0xFFFF,e);writeInt(1,(e0==e?h:0),true);writeInt(2,m,true);writeInt(8-(w%8||8),0,true);writeInt(16,e0-s0,true);writeInt(16,~(e0-s0)&0xFFFF,true);for(var i=s0;i<e0;i++){r.push(buffer[i]);}
w+=(e0-s0)*8;s0=e0;}
break;case 1:tL=(function(){var v=[];for(var i=0;i<286;i++){switch(true){case(i<144):v.push([8,i+48,i]);break;case(i<256):v.push([9,i+256,i]);break;case(i<280):v.push([7,i-256,i]);break;case(i<286):v.push([8,i-88,i]);break;}}
return v;})();tD=(function(){var v=[];for(var i=0;i<30;i++){v.push([5,i,i]);}
return v;})();writeInt(1,h,true);writeInt(2,m,true);writeData(lz);break;case 2:var cL=(function(){var v=[];for(var i=0;i<lz.length;i++){var n=(lz[i][1]?getL(lz[i][0])+256+1:lz[i][0]);v[n]=(v[n]||0)+1;}
var h=huffman(v,15);tL=getTree(h);return h;})();var cD=(function(){var v=[];for(var i=0;i<lz.length;i++){var n=(lz[i][1]?getD(lz[i][1]):lz[i][1]);v[n]=(v[n]||0)+1;}
var h=huffman(v,7);tD=getTree(h);return h;})();var sq=(function(){var v=[];var encode=function(c){var record=function(s,min,max){while(n>=min){var c=(n>=max?max:n);v.push(s);v.push(c-min);n-=c;}};for(var i=0;i<c.length;i++){var n=1;while((i+1<c.length)&&(c[i+1]==c[i])){n+=1;i+=1;}
if(c[i]||(n<3)){v.push(c[i]);n-=1;}
if(c[i]){record(16,3,6);}
else{record(18,11,138);record(17,3,6);}
while(n>0){v.push(c[i]);n-=1;}}};encode(cL);encode(cD);return v;})();var cB=(function(){var v=[];for(var i=0;i<19;i++){v[i]=v[i]||0;}
for(var i=0;i<sq.length;i++){v[sq[i]]+=1;switch(sq[i]){case 16:case 17:case 18:i+=1;break;}}
var h=huffman(v,7);tB=getTree(h);for(var i=0;i<mO.length;i++){v[i]=h[mO[i]];}
while(v.length&&(v[v.length-1]==0)){v.pop();}
return v;})();writeInt(1,h,true);writeInt(2,m,true);writeInt(5,cL.length-256-1,true);writeInt(5,cD.length-1,true);writeInt(4,cB.length-4,true);for(var i=0;i<cB.length;i++){writeInt(3,cB[i],true);}
for(var i=0;i<sq.length;i++){writeCode(tB,sq[i]);switch(sq[i]){case 16:writeInt(2,sq[++i],true);break;case 17:writeInt(3,sq[++i],true);break;case 18:writeInt(7,sq[++i],true);break;}}
writeData(lz);break;}};while(s<buffer.length){if(mode!=0){lz=(function(){var v=[];e=buffer.length;var table=[];var ms=[];var match=function(p){var m=[buffer[p],0];if(p+2<e){var h=buffer[p]+","+buffer[p+1]+","+buffer[p+2];table[h]=table[h]||[];table[h].push(p);for(var i=table[h].length-2;i>-1;i--){var l=table[h][i];var n=0;while((p+n<e)&&(buffer[l+n]==buffer[p+n])&&(n<lzL)){n+=1;}
if((n>=3)&&(!m[1]||(n>=m[0]))){m=[n,p-l];}}}
return m;};for(var i=s;i<e;i++){ms=[match(i)];while(ms[0][1]){if(v.length+ms[0][0]+1>=lzs){ms.push([256,0]);}
else{for(var j=1;j<ms[0][0];j++){var m=match(i+j);if(m[1]){if(m[0]>ms[0][0]){if(j>=3){m[0]-=ms[0][0]-j;}
else{ms[0]=[buffer[i],0];}}
else{m=[buffer[i+j],0];}}
ms.push(m);if(m[1]){break;}}}
if(!ms[0][1]){i+=ms.length-1;var t=ms.pop();v.writes(ms);ms=[t];}
else{i+=ms[0][0]-1;ms=[ms[0]];break;}}
v.push(ms[0]);if(v.length+1==lzs){e=i+1;break;}}
v.push([256,0]);return v;})();}
else{e=Math.min(s+ss,buffer.length);}
var h=(e==buffer.length?1:0);switch(mode){case 0:case 1:case 2:break;default:mode=(function(){var nL=0;var nC=0;for(var i=0;i<lz.length;i++){if(lz[i][1]){nL+=lz[i][0];nC+=1;}}
return(32+(nL-nC)*8<lzL+nC*12?0:2);})();break;}
writeChunk(h,mode);s=e;}
r=new Uint8Array(r);switch(type){case"zlib":r=new Uint8Array().concat([0x78,0x9C],r,new Uint8Array().fromHex(buffer.getAdler32()));break;case"gzip":r=new Uint8Array().concat([0x1F,0x8B,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00],r,new Uint8Array().fromHex(buffer.getCRC32()).reverse(),new Uint8Array().fromInt32(buffer.length,true));break;}
return r;};Uint8Array.prototype.inflate=function(){if(!this.length){return new Uint8Array();}
var buffer=this;switch(true){case buffer.startsWith([0x78,0x9C]):buffer=buffer.slice(2,buffer.length-4);break;case buffer.startsWith([0x1F,0x8B]):var f=new Uint8Array([buffer[3]]).getBits();var s=10;if(f[1]){s+=2;}
if(f[2]){s+=2+buffer.getUint(s,2,true);}
if(f[3]){while(buffer[s]){s+=1;}
s+=1;}
if(f[4]){while(buffer[s]){s+=1;}
s+=1;}
if(f[5]){s+=12;}
buffer=buffer.slice(s,buffer.length-8);break;}
var r=[];var w=0;var p=0;var mO=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];var mL=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258];var mD=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];var getTree=function(t){var v=[];var d=[];for(var i=0;i<t.length;i++){d[t[i]]=d[t[i]]||[];d[t[i]].push(i);}
var c=0;for(var i=1;i<d.length;i++){c<<=1;if(d[i]){for(var j=0;j<d[i].length;j++){v.push([i,c,d[i][j]]);c+=1;}}}
return v;};var readInt=function(n){var v=0;for(var i=0;i<n;i++){v+=buffer.getBit(p+i,true)<<i;}
p+=n;return v;};var readCode=function(t){var v=0;var n=0;for(var i=0;i<t.length;i++){while(n<t[i][0]){v<<=1;v+=buffer.getBit(p+n,true);n+=1;}
if((n==t[i][0])&&(v==t[i][1])){p+=t[i][0];return t[i][2];}}
var v=0;var n=0;var o={};for(var i=0;i<t.length;i++){while(n<t[i][0]){v<<=1;v+=buffer.getBit(p+n,true);n+=1;o[n]=v;}
if(o[t[i][0]]==t[i][1]){p+=t[i][0];return t[i][2];}}};var readC=function(l){var v=[];var c=0;while(v.length<l){var s=readCode(tB);switch(s){case 16:var n=readInt(2)+3;for(var i=0;i<n;i++){v.push(c);}
break;case 17:var n=readInt(3)+3;for(var i=0;i<n;i++){v.push(0);}
break;case 18:var n=readInt(7)+11;for(var i=0;i<n;i++){v.push(0);}
break;default:c=s;v.push(c);break;}}
return v;};var readL=function(n){var c=(n/4|0)-1;c=(c<0?0:c);c=(c>5?0:c);return mL[n]+readInt(c);};var readD=function(n){var c=(n/2|0)-1;c=(c<0?0:c);return mD[n]+readInt(c);};var readData=function(){var e=buffer.length*8;while(p<e){var s=readCode(tL);if(s<256){r[w++]=s;}
else if(s>256){var l=readL(s-256-1);var d=readD(readCode(tD));for(var i=0;i<l;i++){r[w++]=r[w-1-d];}}
else if(s==256){break;}}};while(true){var h=readInt(1);var m=readInt(2);switch(m){case 0:p+=8-(p%8||8);var l=readInt(16);var nl=readInt(16);var a=buffer.slice(p/8,p/8+l);for(var i=0;i<a.length;i++){r[w++]=a[i];}
p+=l*8;break;case 1:var tL=(function(){var v=[];for(var i=0;i<286;i++){switch(true){case(i<144):v.push([8,i+48,i]);break;case(i<256):v.push([9,i+256,i]);break;case(i<280):v.push([7,i-256,i]);break;case(i<286):v.push([8,i-88,i]);break;}}
return v;})();var tD=(function(){var v=[];for(var i=0;i<30;i++){v.push([5,i,i]);}
return v;})();readData();break;case 2:var lL=readInt(5)+256+1;var lD=readInt(5)+1;var lB=readInt(4)+4;var cB=(function(){var v=[];var d=[];for(var i=0;i<lB;i++){d.push(readInt(3));}
for(var i=lB;i<19;i++){d.push(0);}
for(var i=0;i<mO.length;i++){v[mO[i]]=d[i];}
return v;})();var tB=getTree(cB);var cL=readC(lL);var tL=getTree(cL);var cD=readC(lD);var tD=getTree(cD);readData();break;}
if(h){break;}}
return new Uint8Array(r);};Uint8Array.prototype.unserializeSer=function(){var buffer=this;var p=0;var table=[];var BV={"STREAM_MAGIC":0xACED,"STREAM_VERSION":0x0005,"baseWireHandle":0x7E0000};var TS={"BYTE":0x42,"CHAR":0x43,"DOUBLE":0x44,"FLOAT":0x46,"INTEGER":0x49,"LONG":0x4A,"SHORT":0x53,"BOOLEAN":0x5A,"ARRAY":0x5B,"OBJECT":0x4C,};var TC={"NULL":0x70,"REFERENCE":0x71,"CLASSDESC":0x72,"OBJECT":0x73,"STRING":0x74,"ARRAY":0x75,"CLASS":0x76,"BLOCKDATA":0x77,"ENDBLOCKDATA":0x78,"RESET":0x79,"BLOCKDATALONG":0x7A,"EXCEPTION":0x7B,"LONGSTRING":0x7C,"PROXYCLASSDESC":0x7D,"ENUM":0x7E};var SC={"WRITE_METHOD":0x01,"SERIALIZABLE":0x02,"EXTERNALIZABLE":0x04,"BLOCK_DATA":0x08,"ENUM":0x10};var isTC=function(s){for(var key in TC){if(TC[key]==s){return true;}}
return false;};var readUint=function(n){var r=buffer.getUint(n,p,false);p+=n;return r;};var readInt=function(n){var r=buffer.getInt(n,p,false);p+=n;return r;};var readFloat=function(n){var r=buffer.getFloat(n,p,false);p+=n;return r;};var readUtf=function(n){var r=buffer.getText(p,n);p+=n;return r;};var readNull=function(){return{"type":TC["NULL"],"value":null};};var readHandle=function(){return table[readUint(4)-BV["baseWireHandle"]];};var readByte=function(){return readUint(1);};var readChar=function(){return String.fromCharCode(readUint(2));};var readDouble=function(){return readFloat(8);};var readSingle=function(){return readFloat(4);};var readInteger=function(){return readInt(4);};var readLong=function(){return readUint(4).mergeLong(readUint(4));};var readShort=function(){return readInt(2);};var readBoolean=function(){return(readByte()!=0?true:false);};var readBuffer=function(n){var r=new Uint8Array(buffer.slice(p,p+n));p+=n;return r;};var readText=function(){return readUtf(readUint(2));};var readClassDesc=function(){var r={"type":TC["CLASSDESC"],"value":{}};r["value"]["class"]=readText();r["value"]["suid"]=readLong();addHandle(r);r["value"]["flag"]=readByte();var size=readUint(2);r["value"]["field"]=(function(){var v=[];for(var i=0;i<size;i++){var f={};f["type"]=readByte();f["key"]=readText();f["class"]=(function(){switch(f["type"]){case TS["ARRAY"]:case TS["OBJECT"]:return getString();break;}})();v.push(f);}
if(buffer[p]==TC["ENDBLOCKDATA"]){p+=1;}
return v;})();return r;};var readObject=function(){var getData=function(index){for(var i=0;i<r["value"]["desc"][0]["value"]["inherits"][index]["value"]["field"].length;i++){r["value"]["data"][r["value"]["desc"][0]["value"]["inherits"][index]["value"]["field"][i]["key"]]=getValue(r["value"]["desc"][0]["value"]["inherits"][index]["value"]["field"][i]["type"]);}};var r={"type":TC["OBJECT"],"value":{}};r["value"]["desc"]=getClassDesc();addHandle(r);r["value"]["data"]={};r["value"]["content"]=[];for(var index=r["value"]["desc"][0]["value"]["inherits"].length-1;index>-1;index--){if((r["value"]["desc"][0]["value"]["inherits"][index]["value"]["flag"]&SC["EXTERNALIZABLE"])&&(r["value"]["desc"][0]["value"]["inherits"][index]["value"]["flag"]&SC["BLOCK_DATA"])>0){index=0;}
getData(index);r["value"]["content"]=(function(){switch(true){case((r["value"]["desc"][0]["value"]["inherits"][index]["value"]["flag"]&SC["SERIALIZABLE"])&&(r["value"]["desc"][0]["value"]["inherits"][index]["value"]["flag"]&SC["WRITE_METHOD"])==0):var v=[];switch(r["value"]["desc"][0]["value"]["inherits"][index]["value"]["class"]){case"com.cyberstep.ring.data.ChallengeClearData":var b=8;var n=r["value"]["data"]["clearflag"]["value"]["data"].length;var s=p-n*b;for(var j=0;j<n;j++){for(var k=0;k<b;k++){v.push(buffer[s+(j+1)*8-k-1]);}}
v={"type":TC["BLOCKDATA"],"value":new Uint8Array(v)};break;}
return v;break;case((r["value"]["desc"][0]["value"]["inherits"][index]["value"]["flag"]&SC["SERIALIZABLE"])&&(r["value"]["desc"][0]["value"]["inherits"][index]["value"]["flag"]&SC["WRITE_METHOD"])>0):var v=[];switch(r["value"]["desc"][0]["value"]["inherits"][index]["value"]["class"]){case"java.util.Hashtable":case"java.util.HashMap":var block=transBlockData(getBlockData());var size=block.getInt(4,4,false);for(var j=0;j<size;j++){v.push({"key":getObject(),"value":getObject()});}
break;case"java.util.TreeMap":var block=transBlockData(getBlockData());var size=block.getInt(4,0,false);for(var j=0;j<size;j++){v.push({"key":getObject(),"value":getObject()});}
break;case"java.util.TreeSet":var sort=getObject();var block=transBlockData(getBlockData());var size=block.getInt(4,0,false);for(var j=0;j<size;j++){v.push({"key":getObject(),"value":getObject()});}
break;case"java.util.ArrayList":var block=getBlockData();var size=r["value"]["data"]["size"];for(var j=0;j<size;j++){v.push(getObject());}
break;case"java.util.BitSet":var b=8;var n=r["value"]["data"]["bits"]["value"]["data"].length;var s=p-n*b;for(var j=0;j<n;j++){for(var k=0;k<b;k++){v.push(buffer[s+(j+1)*8-k-1]);}}
v={"type":TC["BLOCKDATA"],"value":new Uint8Array(v)};break;case"com.cyberstep.ring.util.Prog":v={"type":TC["STRING"],"value":getString()};break;case"com.cyberstep.onstage.gfx.ParticleConstructer$Range":p-=6;getData(index);break;case"com.cyberstep.ring.world3d.check.Bound3D":p-=14;getData(index);break;case"java.util.Vector":case"com.cyberstep.onstage.gfx.Faces":case"com.cyberstep.onstage.gfx.Primitive":case"com.cyberstep.ring.data.ObjectData":case"com.cyberstep.ring.data.SkinData":case"com.cyberstep.ring.data.SkinPlayerBody":while((buffer[p]==0x00)||(buffer[p]==0x70)){p+=1;}
break;default:console.log("index: 1, "+"flag: "+r["value"]["desc"][0]["value"]["inherits"][index]["value"]["flag"]+" class :"+r["value"]["desc"][0]["value"]["inherits"][index]["value"]["class"],p);break;}
if(buffer[p]==TC["ENDBLOCKDATA"]){p+=1;}
return v;break;case((r["value"]["desc"][0]["value"]["inherits"][index]["value"]["flag"]&SC["EXTERNALIZABLE"])&&(r["value"]["desc"][0]["value"]["inherits"][index]["value"]["flag"]&SC["BLOCK_DATA"])>0):var v=[];switch(r["value"]["desc"][0]["value"]["inherits"][index]["value"]["class"]){case"com.cyberstep.ring.util.Counter":var block=transBlockData(getBlockData());var size=block.getInt(2,0,false);for(var j=0;j<size;j++){v.push({"key":getObject(),"value":getBlockData()});}
break;case"com.cyberstep.ring.util.Param":case"com.cyberstep.ring.data.UserBaggage":var block=transBlockData(getBlockData());var size=block.getInt(4,0,false);for(var j=0;j<size;j++){var key=getObject();var block=transBlockData(getBlockData());switch(block[0]){case 0:v.push({"key":key,"value":block.getInt(1,1,false)});break;case 1:v.push({"key":key,"value":block.getInt(2,1,false)});break;case 2:v.push({"key":key,"value":block.getInt(4,1,false)});break;case 3:v.push({"key":key,"value":block.getInt(8,1,false)});break;case 4:v.push({"key":key,"value":block.getFloat(4,1,false)});break;case 5:v.push({"key":key,"value":block.getFloat(8,1,false)});break;case 6:v.push({"key":key,"value":(block.getInt(1,1,false)?true:false)});break;case 7:v.push({"key":key,"value":getObject()});break;case 8:v.push({"key":key,"value":block.slice(5,5+block.getInt(4,1,false))});break;case 9:v.push({"key":key,"value":{"type":TC["NULL"],"value":null}});break;}}
break;case"keelx.gfx.image.ArrayGLImage":case"com.cyberstep.geometry.Triangle":case"com.cyberstep.geometry.Quaternion":case"com.cyberstep.geometry.Vector3D":case"com.cyberstep.ring.shop.ShopItem":case"com.cyberstep.ring.shop.ShopItemConsumable":case"com.cyberstep.ring.sys.chat.ChatRoomID":case"com.cyberstep.ring.sys.chat.ChatMessage":case"com.cyberstep.ring.sys.event.EventInfoData":case"com.cyberstep.ring.sys.event.EventSavedInfoBaggage":case"com.cyberstep.ring.sys.EntryID":case"com.cyberstep.ring.sys.guild.GuildID":case"com.cyberstep.ring.sys.HostInfo":case"com.cyberstep.ring.sys.TotalRank":case"com.cyberstep.ring.sys.room.GameRoomEntryID":case"com.cyberstep.ring.sys.room.GameRoomEntryInfoBag":case"com.cyberstep.ring.sys.UserID":case"com.cyberstep.ring.sys.EUserID":case"com.cyberstep.ring.util.SimpleID":case"com.cyberstep.ring.sys.UserList":case"com.cyberstep.ring.util.Property":case"com.cyberstep.ring.data.SkinHead":case"com.cyberstep.ring.data.RecentRecord":case"com.cyberstep.ring.data.UserProfile":case"com.cyberstep.ring.data.GuildData$Summary":case"com.cyberstep.ring.data.CommunityConfig":case"com.cyberstep.ring.data.CommunityUserData":case"com.cyberstep.ring.data.UserData":case"com.cyberstep.ring.data.UserDataForClient":case"com.cyberstep.ring.data.SkinAccessory":case"com.cyberstep.ring.data.ReplayData":case"com.cyberstep.onstage.gfx.map.MapParts":case"com.cyberstep.onstage.gfx.KeyFrame":case"com.cyberstep.onstage.gfx.Texture":case"com.cyberstep.onstage.gfx.Particle2":case"com.cyberstep.onstage.gfx.MorphData":case"com.cyberstep.onstage.gfx.map.MapViewParts":v=getExternal();break;default:console.log("index: 2, "+"flag: "+r["value"]["desc"][0]["value"]["inherits"][index]["value"]["flag"]+" class :"+r["value"]["desc"][0]["value"]["inherits"][index]["value"]["class"],p);break;}
if(buffer[p]==TC["ENDBLOCKDATA"]){p+=1;}
return v;break;}})();}
return r;};var readString=function(){var size=readUint(2);var v={"type":TC["STRING"],"value":readUtf(size)};addHandle(v);return v;};var readArray=function(){var r={"type":TC["ARRAY"],"value":{}};r["value"]["desc"]=getClassDesc();addHandle(r);var size=readUint(4);r["value"]["data"]=(function(){var v=[];var type=r["value"]["desc"][0]["value"]["class"].charCodeAt(1);for(var i=0;i<size;i++){v.push(getValue(type));}
return v;})();return r;};var readClass=function(){var r={"type":TC["CLASS"],"value":{}};r["value"]["desc"]=getClassDesc();addHandle(r);return r;};var readBlockData=function(){return{"type":TC["BLOCKDATA"],"value":readBuffer(readByte())};};var readBlockDataLong=function(){return{"type":TC["BLOCKDATALONG"],"value":readBuffer(readUint(4))};};var readException=function(){return{"type":TC["EXCEPTION"]};};var readLongString=function(){var size=readLong();var v={"type":TC["LONGSTRING"],"value":readUtf(size)};addHandle(v);return v;};var readProxyClassDesc=function(){var r={"type":TC["PROXYCLASSDESC"],"value":{}};addHandle(r);var size=readUint(4);r["value"]["interface"]=(function(){var v=[];for(var i=0;i<size;i++){var name=readText();v.push(name);}
return v;})();return r;};var readEnum=function(){var r={"type":TC["ENUM"],"value":{}};r["value"]["desc"]=getClassDesc();addHandle(r);r["value"]["name"]=getString();return r;};var addHandle=function(object){object["handle"]=table.length;table.push(object);};var toSimple=function(data){var d=(arguments.length>1?arguments[1]:data);if(data["value"]["data"]&&data["value"]["data"]["id"]&&data["value"]["data"]["id"]["value"]){return data["value"]["data"]["id"];}
else if(data["value"]["data"]&&data["value"]["data"]["name"]&&data["value"]["data"]["name"]["value"]){return data["value"]["data"]["name"];}
else{return d;}};var getValue=function(type){switch(type){case TS["BYTE"]:return readInt(1);break;case TS["CHAR"]:return readChar();break;case TS["DOUBLE"]:return readDouble();break;case TS["FLOAT"]:return readSingle();break;case TS["INTEGER"]:return readInteger();break;case TS["LONG"]:return readLong();break;case TS["SHORT"]:return readShort();break;case TS["BOOLEAN"]:return readBoolean();break;case TS["ARRAY"]:case TS["OBJECT"]:return getObject();break;}};var getString=function(){var code=readByte();switch(code){case TC["NULL"]:return readNull();break;case TC["REFERENCE"]:return readHandle();break;case TC["STRING"]:return readString();break;case TC["LONGSTRING"]:return readLongString();break;default:p-=1;break;}};var getBlockData=function(){var code=readByte();switch(code){case TC["NULL"]:return readNull();break;case TC["REFERENCE"]:return readHandle();break;case TC["BLOCKDATA"]:return readBlockData();break;case TC["BLOCKDATALONG"]:return readBlockDataLong();break;default:p-=1;break;}};var getBlockDataLarge=function(){var v={};var a=[];while(true){if((buffer[p]==TC["BLOCKDATA"])||(buffer[p]==TC["BLOCKDATALONG"])){v=getBlockData();a.push(v["value"]);}
else{break;}}
if((v["type"]==TC["BLOCKDATA"])||(v["type"]==TC["BLOCKDATALONG"])){v["value"]=new Uint8Array().concat.apply(new Uint8Array(),a);if(v["value"].length>0xFF){v["type"]=TC["BLOCKDATALONG"];}}
return v;};var getClassDesc=function(){var v=[];var fillInherits=function(){for(var i=v.length-1;i>-1;i--){v[i]["value"]["inherits"]=v[i]["value"]["inherits"]||(function(){var a=[v[i]];if(i+1<v.length){for(var j=0;j<v[i+1]["value"]["inherits"].length;j++){a.push(v[i+1]["value"]["inherits"][j]);}}
return a;})();}
return v;};while(true){var code=readByte();switch(code){case TC["NULL"]:return fillInherits();break;case TC["REFERENCE"]:v.push(readHandle());return fillInherits();break;case TC["CLASSDESC"]:v.push(readClassDesc());break;case TC["PROXYCLASSDESC"]:v.push(readProxyClassDesc());break;default:p-=1;return;break;}}};var getExternal=function(){var r={};var v=[];while(true){if(!isTC(buffer[p])||(buffer[p]==TC["ENDBLOCKDATA"])){break;}
else if((buffer[p]==TC["BLOCKDATA"])||(buffer[p]==TC["BLOCKDATALONG"])){v.push(getBlockDataLarge());}
else{v.push(getObject());}}
if(v.length==1){r=v[0];}
else{r=v;}
return r;};var getObject=function(){var r={};var code=readByte();switch(code){case TC["NULL"]:r=readNull();break;case TC["REFERENCE"]:r=readHandle();switch(r["type"]){case TC["OBJECT"]:r=toSimple(r);break;}
break;case TC["CLASSDESC"]:r=readClassDesc();break;case TC["OBJECT"]:r=readObject();break;case TC["STRING"]:r=readString();break;case TC["ARRAY"]:r=readArray();break;case TC["CLASS"]:r=readClass();break;case TC["BLOCKDATA"]:case TC["BLOCKDATALONG"]:p-=1;r=getExternal();break;case TC["RESET"]:table=[];break;case TC["EXCEPTION"]:r=readException();table=[];break;case TC["LONGSTRING"]:r=readLongString();break;case TC["PROXYCLASSDESC"]:r=readProxyClassDesc();break;case TC["ENUM"]:r=readEnum();break;}
return r;};var getSet=function(){if(readUint(2)!=BV["STREAM_MAGIC"]){return;}
if(readUint(2)!=BV["STREAM_VERSION"]){return;}
var r;while(true){if(isTC(buffer[p])){if(buffer[p]==TC["ENDBLOCKDATA"]){p+=1;break;}
else{r=getObject();}}
else{break;}}
return r;};var transObject=function(object){var handles=(arguments.length>1?arguments[1]:[]);var r={};switch(object["desc"][0]["value"]["class"]){case"java.util.Hashtable":case"java.util.HashMap":case"java.util.TreeMap":case"com.cyberstep.ring.util.Counter":case"com.cyberstep.ring.util.Param":case"com.cyberstep.ring.data.UserBaggage":for(var i=0;i<object["content"].length;i++){var key=transData(object["content"][i]["key"],handles.slice());var value=transData(object["content"][i]["value"],handles.slice());if(!isUndefined(key)&&!isNull(key)&&(key!="")){if(!isUndefined(key["value"])){key=key["value"];}
if(key!="this$0"){r[key]=value;}}}
break;case"java.util.ArrayList":case"com.cyberstep.onstage.gfx.MorphData":case"com.cyberstep.ring.sys.room.GameRoomEntryInfoBag":case"com.cyberstep.ring.data.UserData":case"com.cyberstep.ring.data.CommunityUserData":case"com.cyberstep.ring.data.ReplayData":return transArray(object["content"],handles.slice());break;case"java.util.BitSet":case"com.cyberstep.ring.sys.event.EventSavedInfoBaggage":case"com.cyberstep.ring.data.UserBaggage":case"com.cyberstep.ring.data.RecentRecord":case"com.cyberstep.ring.data.ChallengeClearData":return transData(object["content"],handles.slice());break;case"java.util.Vector":return transArray(object["data"]["elementData"]["value"]["data"],handles.slice());break;default:if(Object.keys(object["data"]).length){for(var key in object["data"]){var data=transData(object["data"][key],handles.slice());if(key!="this$0"){r[key]=data;}}}
else{return transData(object["content"],handles.slice());}
break;}
return r;};var transBlockData=function(blockData){if(blockData){if(blockData.length){var r=[];for(var i=0;i<blockData.length;i++){r.push(transData(blockData[i]));}
return r;}
else{return blockData["value"];}}
return new Uint8Array();};var transString=function(string){if(!isUndefined(string)&&!isUndefined(string["value"])){return string["value"];}
return"";};var transArray=function(array){var handles=(arguments.length>1?arguments[1]:[]);var r=[];for(var i=0;i<array.length;i++){r.push(transData(array[i],handles.slice()));}
return r;};var transData=function(data){var handles=(arguments.length>1?arguments[1]:[]);if(isArray(data)){return transArray(data);}
var r=(function(){if(!isUndefined(data["handle"])){var h=handles.indexOf(data["handle"]);if(h!=-1){switch(table[handles[h]]["type"]){case TC["OBJECT"]:return transString(toSimple(data,undefined));break;}}
handles.push(data["handle"]);}
if(isUndefined(data["type"])){return data;}
switch(data["type"]){case TC["NULL"]:return null;break;case TC["REFERENCE"]:case TC["CLASSDESC"]:case TC["CLASS"]:case TC["RESET"]:case TC["EXCEPTION"]:case TC["PROXYCLASSDESC"]:case TC["ENUM"]:return undefined;break;case TC["BLOCKDATA"]:case TC["BLOCKDATALONG"]:return transBlockData(data);break;case TC["OBJECT"]:return transObject(data["value"],handles.slice());break;case TC["STRING"]:case TC["LONGSTRING"]:return transString(data);break;case TC["ARRAY"]:return transArray(data["value"]["data"],handles.slice());break;}})();if(isNull(r)){r="";}
if(!isArray(r)&&(isObject(r)&&!Object.getOwnPropertyNames(r).length)){r="";}
return r;};var s=getSet();var d=transData(s);if(d.length&&(d.length==4)&&d[0].equal([1])&&(d[1]=="")&&d[2].equal([1,7])){d=d[3];}
if(d.length&&(d.length==2)&&d[0].equal([0,0,0,0,0,1,7])){d=d[1];}
return d;};Uint8Array.prototype.transData=function(s,t){var n=(arguments.length>2?arguments[2]:"");var buffer=this;if(!buffer.length){return new Uint8Array();}
switch(t){case"html":if(!s||(SupportSer.indexOf(s)!=-1)){return new Uint8Array().fromText(buffer.transHtml(s,n));}
break;default:switch(s){case"tex":var imageData=(function(){if(buffer.startsWith([0xAC,0xED,0x00,0x05])){buffer=buffer.unserializeSer();}
if(!buffer.length){return;}
var readUint=function(n){var r=buffer.getUint(n,p,false);p+=n;return r;};var readInt=function(n){var r=buffer.getInt(n,p,false);p+=n;return r;};var readFloat=function(n){var r=buffer.getFloat(n,p,false);p+=n;return r;};var readUtf=function(n){var r=buffer.getText(p,n);p+=n;return r;};var readByte=function(){return readUint(1);};var readSingle=function(){return readFloat(4);};var readInteger=function(){return readInt(4);};var readBoolean=function(){return(readByte()!=0?true:false);};var readBuffer=function(n){var r=new Uint8Array(buffer.slice(p,p+n));p+=n;return r;};var readText=function(){return readUtf(readUint(2));};var p=0;var name=readText();var pixelType=readInteger();var width=readInteger();var height=readInteger();var repeat=readBoolean();var count=readSingle();var priority=readSingle();var data=readBuffer(readInteger());var texture=data.inflate();var rgba=(function(){var l=width*height;var v=new Uint8Array(l*4);switch(pixelType){case-2:for(var i=0;i<l;i++){v[i*4+0]=((texture[i*4+0]<<2)+(texture[i*4+1]>>>6))>>>2;v[i*4+1]=(((texture[i*4+1]&0x3F)<<4)+(texture[i*4+2]>>>4))>>>2;v[i*4+2]=(((texture[i*4+2]&0x0F)<<6)+((texture[i*4+3]&0xFC)>>>2))>>>2;v[i*4+3]=(texture[i*4+3]&0x03)<<6;}
break;case-1:for(var i=0;i<l;i++){v[i*4+0]=(texture[i*2+0]>>>3)<<3;v[i*4+1]=(((texture[i*2+0]&0x07)<<2)+((texture[i*2+1]&0xC0)>>>6))<<3;v[i*4+2]=((texture[i*2+1]&0x3E)>>>1)<<3;v[i*4+3]=((texture[i*2+1]&0x01)?255:0);}
break;case 1:for(var i=0;i<l;i++){v[i*4+0]=texture[i*3+0];v[i*4+1]=texture[i*3+1];v[i*4+2]=texture[i*3+2];v[i*4+3]=255;}
break;case 2:for(var i=0;i<l;i++){v[i*4+0]=255;v[i*4+1]=255;v[i*4+2]=255;v[i*4+3]=texture[i*1+0];}
break;case 3:for(var i=0;i<l;i++){v[i*4+0]=texture[i*4+0];v[i*4+1]=texture[i*4+1];v[i*4+2]=texture[i*4+2];v[i*4+3]=texture[i*4+3];}
break;case 5:for(var i=0;i<l;i++){v[i*4+0]=(texture[i*2+0]>>>3)<<3;v[i*4+1]=(((texture[i*2+0]&0x07)<<3)+((texture[i*2+1]&0xE0)>>>5))<<2;v[i*4+2]=(texture[i*2+1]&0x1F)<<3;v[i*4+3]=255;}
break;case 6:for(var i=0;i<l;i++){v[i*4+0]=texture[i*2+0]&0xF0;v[i*4+1]=(texture[i*2+0]&0x0F)<<4;v[i*4+2]=texture[i*2+1]&0xF0;v[i*4+3]=(texture[i*2+1]&0x0F)<<4;}
break;default:console.log("pixelType: "+pixelType+" unknown at "+name+" for: "+texture[0]+", "+texture[1]+", "+texture[2]+", "+texture[3]+"...");break;}
return v;})();var img=new Image();img.width=width;img.height=height;var cvs=document.createElement("canvas");cvs.width=img.width;cvs.height=img.height;var ctx=cvs.getContext("2d");var d=ctx.getImageData(0,0,cvs.width,cvs.height);for(var y=0;y<cvs.height;y++){for(var x=0;x<cvs.width;x++){var n=(y*cvs.width+x)*4;var n2=((cvs.height-1-y)*cvs.width+x)*4;d.data[n]=rgba[n2];d.data[n+1]=rgba[n2+1];d.data[n+2]=rgba[n2+2];d.data[n+3]=rgba[n2+3];}}
return d;})();switch(t){case"bmp":return new Uint8Array().packageBmp(imageData);break;case"png":var img=new Image();img.width=imageData.width;img.height=imageData.height;var cvs=document.createElement("canvas");cvs.width=img.width;cvs.height=img.height;var ctx=cvs.getContext("2d");ctx.putImageData(imageData,0,0);return new Uint8Array().fromBase64(cvs.toDataURL("image/png").split(",")[1]);break;}
break;case"sr":switch(t){case"wav":var ser=buffer.unserializeSer();var fmt={};fmt["formatTag"]=0x01;fmt["channelCount"]=ser["channel"];fmt["samplesPerSec"]=ser["freq"];fmt["bitsPerSample"]=ser["samplebits"];fmt["blockAlign"]=fmt["channelCount"]*fmt["bitsPerSample"]/8|0;fmt["avgBytesPerSec"]=fmt["samplesPerSec"]*fmt["blockAlign"];return new Uint8Array(ser["data"]).packageWav(fmt,"PCM");break;}
break;case"sc":switch(t){case"txt":var ser=buffer.unserializeSer();return new Uint8Array().fromText(ser["source"]);break;}
break;};break;}};Uint8Array.prototype.extractTab=function(){var buffer=this;var pl=[];var fl=[];var p=0;var readUint=function(n){var r=buffer.getUint(n,p,true);p+=n;return r;};var readText=function(n){var r=buffer.getText(p,n);p+=n;return r;};var readBuffer=function(n){var r=buffer.slice(p,p+n);p+=n;return r;};var lp=readUint(1);for(var i=0;i<lp;i++){pl.push({"n":readText(readUint(1)),"l":readUint(1)});}
while(p<buffer.length){var v={};for(var i=0;i<pl.length;i++){var lv=readUint(pl[i]["l"]);switch(pl[i]["n"]){case"path":v[pl[i]["n"]]=readText(lv);break;default:v[pl[i]["n"]]=readBuffer(lv);break;}}
fl.push(v);}
return fl;};Date.prototype.fromDos=function(dos){this.setTime(new Date(((dos>>25)&0x7F)+1980,((dos>>21)&0x0F)-1,(dos>>16)&0x1F,(dos>>11)&0x1F,(dos>>5)&0x3F,(dos&0x1F)*2,0).getTime());return this;};Date.prototype.format=function(){var m=(arguments.length>0?arguments[0]:"datetime");var r=[];if(m.indexOf("date")!=-1){r.push(this.getFullYear().toString().padStart(4,"0")+"."+(this.getMonth()+1).toString().padStart(2,"0")+"."+this.getDate().toString().padStart(2,"0"));}
if(m.indexOf("time")!=-1){r.push(this.getHours().toString().padStart(2,"0")+":"+this.getMinutes().toString().padStart(2,"0")+":"+this.getSeconds().toString().padStart(2,"0"));}
return r.join(" ");};window.BufferReader=function(buffer){var p=(arguments.length>1?arguments[1]:0);var findByte=function(t){for(var i=p;i<buffer.length;i++){if(buffer[i]==t){return i;}}
return buffer.length;};var peekByte=function(){return buffer[p];};var readUint=function(n,e){var r=buffer.getUint(n,p,e);p+=n;return r;};var readInt=function(n,e){var r=buffer.getInt(n,p,e);p+=n;return r;};var readFloat=function(n,e){var r=buffer.getFloat(n,p,e);p+=n;return r;};var readBoolean=function(){return(readUint(1)?true:false);};var readText=function(n){var c=(arguments.length>1?arguments[1]:"");var nullTerminated=(n<0);n=(nullTerminated?findByte(0x00)-p:n);var r=buffer.getText(p,n,c);p+=n+(nullTerminated?1:0);return r;};var readBytes=function(n){var r=new Uint8Array(n);for(var i=0;i<n;i++){r[i]=buffer[p++];}
return r;};var find=function(t){p=0;return findNext(t);};var findNext=function(t){if(buffer.length<t.length){p=buffer.length;}
else{while(p<buffer.length){var isMatch=(function(){for(var i=0;i<t.length;i++){if(buffer[p+i]!=t[i]){return false;}}
return true;})();if(isMatch){break;}
else{p+=1;}}}
return p;};var seek=function(o,w){var w=(arguments.length>1?arguments[1]:1);switch(w){case 0:p=0;break;case 1:break;case 2:p=buffer.length;break;}
p+=o;};var tell=function(){return p;};var eof=function(){return p>=buffer.length;};this.peekByte=peekByte;this.readUint=readUint;this.readInt=readInt;this.readFloat=readFloat;this.readBoolean=readBoolean;this.readText=readText;this.readBytes=readBytes;this.find=find;this.findNext=findNext;this.seek=seek;this.tell=tell;this.eof=eof;this.readByteJava=function(){return readInt(1);};this.readShortJava=function(){return readInt(2,false);};this.readIntJava=function(){return readInt(4,false);};this.readLongJava=function(){return readInt(8,false);};this.readFloatJava=function(){return readFloat(4,false);};this.readDoubleJava=function(){return readFloat(8,false);};this.readBooleanJava=function(){return(readInt(1)?true:false);};this.readCharJava=function(){return String.fromCharCode(readUint(2,false));};this.readUTFJava=function(){return readText(readUint(2,false));};};var LittleEndian=(function(){var b=new ArrayBuffer(2);new DataView(b).setInt16(0,1,true);return new Int16Array(b)[0]===1;})();var SupportAPI=function(n){switch(n){case"File":return!isUndefined(window.Blob&&window.File&&window.FileList&&window.FileReader&&window.URL);break;case"TypedArrays":return!isUndefined(window.ArrayBuffer&&window.Int8Array&&window.Int16Array&&window.Int32Array&&window.Uint8Array&&window.Uint8ClampedArray&&window.Uint16Array&&window.Uint32Array&&window.Float32Array&&window.Float64Array&&window.DataView);break;}};var IncludeAgent=function(n){switch(n){case"MSIE":case"Mozilla":case"Chrome":case"AppleWebKit":case"Safari":case"Mobile Safari":case"UCBrowser":case"MQQBrowser":case"QQ":case"MicroMessenger":return((" "+navigator.userAgent).indexOf(" "+n+"/")!=-1);break;}};var ExistFont=function(n){var v=false;var m=[Title];var d=document.getElementsByTagName("body")[0];var s=document.createElement("span");s.innerHTML=Title;s.style.fontSize="72px";d.appendChild(s);var w={};var h={};for(var i=0;i<m.length;i++){s.style.fontFamily=m[i];w[m[i]]=s.offsetWidth;h[m[i]]=s.offsetHeight;}
for(var i=0;i<m.length;i++){s.style.fontFamily=n+","+m[i];if((s.offsetWidth!=w[m[i]])||(s.offsetHeight!=h[m[i]])){v=true;break;}}
d.removeChild(s);return v;};function getChecked(t){var c=(typeof t=="string"?document.getElementById(t):t);if(c){return c.checked;}}
function setChecked(t,v){var c=(typeof t=="string"?document.getElementById(t):t);if(c){c.checked=v;return true;}}
function getSelected(t){var l=(arguments.length>1?arguments[1]:-1);if(l!=-1){var n=(t.startsWith("select")?t.slice(6):t);document.getElementsByName(n).forEach(function(a){var i=a.index;if(i==l){return a.options[a.selectedIndex].value;}});}
else{var s=(typeof t=="string"?document.getElementById(t):t);if(s&&s.options&&s.options[s.selectedIndex]){return s.options[s.selectedIndex].value;}}}
function setSelected(t,v){var s=(typeof t=="string"?document.getElementById(t):t);if(s&&s.options){for(var i=0;i<s.options.length;i++){if(s.options[i].value==v){s.options[i].selected=true;return true;}}}
return false;}</script><script type="text/javascript">"use strict";function Zar(){var isValid=false;var Component={"NewSettingViewer":{"list":["com.cyberstep.ring.setting.NewSetting"],"needResource":true},"DictViewer":{"list":["com.cyberstep.ring.util.Dict"],"needResource":false},"ServerListViewer":{"list":["com.cyberstep.ring.util.Dict_server"],"needResource":false},"ShopItemViewer":{"list":["[Lcom.cyberstep.ring.shop.ShopItem;"],"needResource":false},"ChatMessageViewer":{"list":["[Lcom.cyberstep.ring.sys.chat.ChatMessage;"],"needResource":false},"HostInfoViewer":{"list":["[Lcom.cyberstep.ring.sys.HostInfo;"],"needResource":false},"GuildData$SummaryViewer":{"list":["com.cyberstep.ring.data.GuildData$Summary"],"needResource":false},"CommunityUserDataViewer":{"list":["com.cyberstep.ring.data.CommunityUserData"],"needResource":false},"UserDataViewer":{"list":["com.cyberstep.ring.data.UserData"],"needResource":false},"UserListViewer":{"list":["com.cyberstep.ring.sys.UserList"],"needResource":false},"GameRoomEntryInfoBagViewer":{"list":["com.cyberstep.ring.sys.room.GameRoomEntryInfoBag"],"needResource":false},"EntryIDViewer":{"list":["com.cyberstep.ring.sys.EntryID"],"needResource":false},"ChatRoomIDViewer":{"list":["com.cyberstep.ring.sys.chat.ChatRoomID"],"needResource":false},"TotalRankViewer":{"list":["com.cyberstep.ring.sys.TotalRank"],"needResource":false},"QuizSimulator":{"list":["com.cyberstep.ring.util.Dict"],"needResource":false},"IconCover":{"list":["Resource"],"needResource":true},"SetCollector":{"list":["com.cyberstep.ring.setting.NewSetting","Resource"],"needResource":true},"UserDataPreviewer":{"list":["com.cyberstep.ring.setting.NewSetting","com.cyberstep.ring.util.Dict","com.cyberstep.ring.data.UserData","Resource"],"needResource":true}};var List={"NewSetting":["StyleGroup","Style","Head","Race","Face","Body","Accessory","AccessoryScalingPolicy","Item","Rule","Stage","Tournament","NPC","Quest","ETC","Prize","Ranking","ValueSet","SurvivalTournament","SurvivalPrize","SurvivalSpecialPrize","SurvivalPrizeSet","GuildClass","Attribute","Emotion","Emoticon","ChampTournament","ChampPrize","ChampSpecialPrize","ChampPrizeSet","RandomEntry","NewPlayer","Furniture","CustomizeCard","CustomizeEffect","DailyQuest","PrizeGroup","TreasureBox","PC-VAN","Coupon","Emblem","DesignCombine","CollectionBook","NewCombine","SubAccessory","BattleQuest","HelpLibrary","NewQuest","LoginLuckySet","HunterMissions","MapObject"],"Dict":["Contract","Chatfilter","Tips","Oracle","Loginstamp","Presentbox","Rod","Fish","Tool","Mineral","Quiz","Map"],"ServerList":["Map"]};var File={};var Ser={};var Data={};var Icon={};var Change={};var Translate={};var Table={};var Set={};var ID={};var LostIcon={};var checkIconPath=function(t){t=(t.startsWith(".")?"":t)
t=(t.startsWith("/")||!t?t:"/"+t);while(t.startsWith("//")){t=t.slice(1);}
return t;};var checkIcon=function(t){var c=(arguments.length>1?arguments[1]:true);if(!isArray(t)){t=[t];}
t.forEach(function(a){a=checkIconPath(a);if(a){if(c){LostIcon[a]=c;}
else{delete LostIcon[a];}}});};var getLostIconList=function(t){var v=[];for(var n in LostIcon){if(LostIcon[n]){v.push(n);}}
v.sort(function(a,b){return a-b;});return v;};var getInputFilter=function(n){var i=document.createElement("input");i.type="text";switch(n){case"STR":case"TEC":case"SPD":case"JMP":case"DEF":case"size":case"sex":case"anger":case"grudge":case"setidx":case"multiaccs":case"editable":case"iconmax":case"pts":case"gm":case"type":case"period":case"periodstr":case"priceGrade":case"HP":case"MP":case"CA":case"FA":case"IA":case"EA":case"HA":case"RA":case"CR":case"FR":case"IR":case"ER":case"HR":case"DR":case"rank":case"category":case"nowrank":case"ranknum":case"exp":case"grade":case"time":case"level":case"bonusPoint":case"facetype":case"guts":case"seriousness":case"savagery":case"guile":case"responsibility":case"urgency":case"userSkin":case"equiprate":case"score":case"ratio":case"zoomoutmax":case"fixedCameraZoomOut":case"fixedCameraLayer":case"fixedCameraCenter":case"limit":case"stagenum":case"clearIndex":case"num":case"index":case"goodsType":case"gmPrice":case"rmPrice":case"rare":case"neverForSale":case"requireType":case"chatRoomID":case"playersNum":case"maxPlayersNum":case"pid":case"lastUpdate":case"mailinfoMax":case"mailinfoReceived":case"guildID":case"points":case"availSlot":case"selectSlot":case"d_o_w":case"goal":case"goalPoint":case"valueDiff":case"goalValue":case"logindays":case"totaltime":case"correctPenalty":case"lastChatKind":case"repeatCount":case"repeatHistory":case"repeatPenalty":case"rushCount":case"rushTime":case"rushPenalty":case"userMotion":case"roominvite":case"average":case"totalbattle":case"invidualbattlerank1":case"invidualbattlerank2":case"invidualbattlerank3":case"invidualbattlerank4":case"teambattlewon":case"teambattlelost":case"killtimes":case"dietimes":case"knocktimes":case"knockscore":case"knockedtimes":case"knockedscore":case"totalscore":case"singlescoremax":case"singlescoremin":case"killerprize":case"muscleprize":case"cruelprize":case"defendprize":case"peaceprize":case"fastdieprize":case"goalprize":case"fairprize":case"foulprize":case"fsprize":case"singleBattleTimes":case"singleWonTimes":case"teamBattleTimes":case"teamWonTimes":case"version":case"serverLoad":case"state":case"invite":case"exeType":case"rate":case"roomID":case"entryMax":case"param_num":case"param_item":case"param_pcvan":case"param_type":case"param_turbo":case"param_number":case"param_status":case"param_watch":case"param_masterGuildID":case"param_challengerGuildID":case"param_story_id":case"param_story_mode":case"param_gameoption":case"matchingUserNum":case"entryID":case"total":case"buyCount":i.title="number";break;default:i.title="string";break;}
i.style.display="block";i.style.width="100%";i.onchange=function(){var input=this;var table=input.parentElement.parentElement.parentElement.parentElement;var columl=input.parentElement.cellIndex;for(var i=1;i<table.rows.length;i++){var target=table.rows[i].cells[columl].innerHTML;table.rows[i].cells[columl].isFilter=(function(){switch(input.title){case"string":return!target.match(input.value);break;case"number":var v=input.value.trim();var a=v.split("&&");var o=v.split("||");var check=function(t){var m=["==",">",">=","<","<=","!="];for(var j=0;j<m.length;j++){if(!t||(t.startsWith(m[j])&&!isNaN(parseFloat(t.slice(m[j].length))))){return true;}}
return false;};if(a.length+o.length>3){return true;}
if(a.length==2){return(check(a[0])&&check(a[1])?!(eval(target+a[0])&&eval(target+a[1])):true);}
else if(o.length==2){return(check(o[0])&&check(o[1])?!(eval(target+o[0])||eval(target+o[1])):true);}
else{return(check(v)?!eval(target+v):true);}
break;}
return false;})();}
for(var i=1;i<table.rows.length;i++){var isFilter=(function(){for(var j=0;j<table.rows[i].cells.length;j++){if(table.rows[i].cells[j].isFilter){return true;}}
return false;})();if(isFilter){table.rows[i].style.display="none";}
else{table.rows[i].style.display="";}}};return i;};var translateId=function(id){var c=(arguments.length>1?arguments[1]:"");if(c){Translate[c+"Viewer"]=true;}
var v=[];var fromQuantity=function(s){var t=":";if(s.startsWith(t)){var n=parseInt(s.slice(t.length));if(!isNaN(n)){return"×"+n;}}
return"";};var period=(function(){var m={"_PERIOD":"consume.period",":P":"consume.period"};for(var n in m){m[n]=(Ser["Dict"]&&Ser["Dict"][0]&&Ser["Dict"][0]["map"]&&Ser["Dict"][0]["map"][m[n]]?Ser["Dict"][0]["map"][m[n]].replace("%d",""):"");}
return m;})();var fromPeriod=function(s){for(var t in period){if(s.startsWith(t)){var n=parseInt(s.slice(t.length));if(!isNaN(n)){return"（"+n+period[t]+"）";}}}
return"";};var suffix=(function(){var m={"gm":"lang.gamemoney","rm":"lang.realmoney","pts":"lang.score"};for(var n in m){m[n]=(Ser["Dict"]&&Ser["Dict"][0]&&Ser["Dict"][0]["map"]&&Ser["Dict"][0]["map"][m[n]]?Ser["Dict"][0]["map"][m[n]]:"");}
return m;})();var fromSuffix=function(s){for(var t in suffix){if(s.endsWith(t)){var n=parseInt(s.slice(0,s.length-t.length));if(!isNaN(n)){return n+suffix[t];}}}
return"";};var other={"miss":"无","NULL":"空","total":"合计"};var fromOther=function(s){for(var n in other){if(n==id){return other[n];}}
return"";};var fromId=function(s){if(ID[s]){return ID[s];}
if(Data["NewSetting"]){for(var i=0;i<List["NewSetting"].length;i++){if(Data["NewSetting"][List["NewSetting"][i]]){for(var j=0;j<Data["NewSetting"][List["NewSetting"][i]].length;j++){if((Data["NewSetting"][List["NewSetting"][i]][j]["id"]==s)&&Data["NewSetting"][List["NewSetting"][i]][j]["name"]){ID[s]=Data["NewSetting"][List["NewSetting"][i]][j]["name"];return ID[s];}}}}}
return"";};var list=id.split("+");for(var i=0;i<list.length;i++){var q=(function(){var v="";var l=list[i].lastIndexOf(":");if(l!=-1){v=fromQuantity(list[i].slice(l));if(v){list[i]=list[i].slice(0,l);}}
return v;})();var p2=(function(){var v="";var l=list[i].lastIndexOf(":");if(l!=-1){v=fromPeriod(list[i].slice(l));if(v){list[i]=list[i].slice(0,l);}}
return(v=="（990000天）"?"":v);})();var p1=(function(){var v="";var l=list[i].lastIndexOf("_");if(l!=-1){v=fromPeriod(list[i].slice(l));if(v){list[i]=list[i].slice(0,l);}}
return(v=="（990000天）"?"":v);})();var s=fromSuffix(list[i])||fromOther(list[i])||fromId(list[i]);if(s){s+=p1+p2+q;v.push(s);}}
return v.join("、");};var translateDate=function(date){var d=parseInt(date);return(!isNaN(d)?new Date(d).format().replace(/\./g,"/"):"");};var insertCellContent=function(c,row,t,n){var cell=row.insertCell();switch(n){case"id":case"group":case"race":case"styleId":case"materials":case"prizes":case"prize":case"list":case"duplicate":case"value":case"needs":case"result":case"equipment":case"condition":case"useEmblem":case"useStyle":case"useAccs":case"useSubaccs":case"useItem":case"cost":case"cardid":case"effectid":case"info":case"emblem":case"style":case"accessory":case"subAccessory":case"mapValue":case"consumeID":case"orgID":if(typeof t[n]=="string"){var r=t[n].split("<br/>");for(var i=0;i<r.length;i++){var a=r[i].split(",");for(var j=0;j<a.length;j++){var span=document.createElement("span");span.innerText=a[j];span.title=span.title||translateId(span.innerText,c);if(span.title){span.style.color=Color["cellTitle"];}
cell.appendChild(span);if(j<a.length-1){var cm=document.createElement("span");cm.innerText=",";cell.appendChild(cm);}}
if(i<r.length-1){var br=document.createElement("br");cell.appendChild(br);}}}
else{cell.innerHTML=t[n];}
break;case"strongitems":case"useableaccessories":case"useablebodies":case"useableheads":case"eyes":case"noses":case"mouths":case"stagetypes":case"headId":case"bodyId":case"eyeId":case"noseId":case"mouthId":case"pcvan.style":case"pcvan.head":case"pcvan.eye":case"pcvan.nose":case"pcvan.mouth":case"pcvan.body":case"pcvan.skin":case"pcvan.accs":case"pcvan.subaccs":case"pcvan.premium.style":case"pcvan.premium.head":case"pcvan.premium.eye":case"pcvan.premium.nose":case"pcvan.premium.mouth":case"pcvan.premium.body":case"pcvan.premium.skin":case"pcvan.premium.accs":case"pcvan.premium.subaccs":case"prizelist":case"present":case"promotion":case"stages":case"values":case"baggagestyles":case"baggageheads":case"baggageeyes":case"baggagenoses":case"baggagemouths":case"baggagebodies":case"baggageaccs":case"baggagesubaccs":case"baggageemblems":case"baggageetc":case"baggageconsumabletrialList":case"shortcut":case"presentCheck":case"flags":case"skinslot":case"bookmark":case"favorite":case"mapeditor":case"ch_clear":if(t[n]){var a=t[n].split("<br/>");var details=document.createElement("details");details.style.textAlign="left";var summary=document.createElement("summary");summary.style.whiteSpace="nowrap";summary.innerText=a.length+" item"+(a.length>1?"s":"");details.appendChild(summary);var div=document.createElement("div");for(var i=0;i<a.length;i++){var span=document.createElement("span");span.innerText=a[i];span.title=span.title||translateId(span.innerText,c);if(span.title){span.style.color=Color["cellTitle"];}
div.appendChild(span);if(i<a.length-1){div.appendChild(document.createElement("br"));}}
details.appendChild(div);cell.appendChild(details);}
break;case"temp_ct":case"temp_last_login_time":case"consumeValue":case"sendDate":case"msAddedDate":case"timeChatResctriction":case"rushHistory":case"date":case"starttime":case"lastUpdate":if(typeof t[n]=="number"){t[n]=t[n].toString();}
var r=t[n].split("<br/>");for(var i=0;i<r.length;i++){var a=r[i].split(",");for(var j=0;j<a.length;j++){var span=document.createElement("span");span.innerText=a[j];span.title=span.title||translateDate(span.innerText);if(span.title){span.style.color=Color["cellTitle"];}
cell.appendChild(span);if(j<a.length-1){var cm=document.createElement("span");cm.innerText=",";cell.appendChild(cm);}}
if(i<r.length-1){var br=document.createElement("br");cell.appendChild(br);}}
break;case"newPlayerStyleSetList":case"components":case"setting":case"baggageitems":case"baggagecoupons":case"baggagecustomizecard":case"baggagefurnitures":case"baggagecustomizeeffect":case"baggagecustomizeslot":case"ced":case"ced4excustom":case"baggageconsumableconsumeTable":case"temp_event_info_bag":case"treasurebox":case"presentbox":case"collection":case"loginstamp":case"temp_equip_record":case"blacklist":case"avators":case"chatrestriction":case"battlerecord":case"ratematching_data":case"hunter_data":case"dailyquest":case"renewal_quest":case"recent_record":case"missionmissionnpcData":case"missionprogressData":case"missionclearMissionList":case"param":case"infoList":if(t[n]){var details=document.createElement("details");details.style.textAlign="left";var summary=document.createElement("summary");summary.style.whiteSpace="nowrap";summary.innerText=t[n].length+" record"+(t[n].length>1?"s":"");details.appendChild(summary);details.appendChild(generateTable(t[n]));cell.appendChild(details);}
break;case"goodsType":case"param_type":case"param_status":case"state":if(isObject(t[n])){var span=document.createElement("span");span.innerText=t[n]["value"];span.title=span.title||((t[n]["title"]||{})[t[n]["value"]]||"");if(span.title){span.style.color=Color["cellTitle"];}
cell.appendChild(span);}
else{cell.innerHTML=t[n];}
break;case"flag":if(isObject(t[n])){var span=document.createElement("span");span.innerText=t[n]["value"];span.title=span.title||(function(){var v=[];var b=new Uint8Array([t[n]["value"]]).getBits();for(var i=0;i<b.length;i++){if(b[i]&&t[n]["flag"][i]){v.push(t[n]["flag"][i]);}}
return v.join(",");})();if(span.title){span.style.color=Color["cellTitle"];}
cell.appendChild(span);}
else{cell.innerHTML=t[n];}
break;case"icon":case"bigIcon":case"iconc":case"icono":case"basetex":var name=checkIconPath(t[n]);if(Icon[name]){var img=new Image();img.src=Icon[name];img.title=t[n];switch(c){case"Emblem":var base=Icon[IconSpace];if(base){img.style.backgroundImage="url("+base+")";}
break;}
cell.appendChild(img);}
else{cell.innerHTML=name;}
break;case"icons":var d=(function(){var v=[];var iconmax=t["iconmax"]|0;var icons=t["icons"].split("<br/>");var animtime=t["animtime"].split("<br/>");if(!iconmax){return false;}
for(var j=0;j<iconmax;j++){var name=checkIconPath(icons[j]);var time=animtime[j]|0;if(Icon[name]&&time){v.push({"src":Icon[name],"title":icons[j],"titles":icons,"interval":time});}
else{return false;}}
return v;})();if(d){var div=document.createElement("div");div.tag=c;div.currentIndex=0;div.lastTime=new Date();for(var j=0;j<d.length;j++){var img=new Image();img.src=d[j]["src"];img.title=d[j]["titles"].join("\r\n");img.interval=d[j]["interval"];img.style.display=(j?"none":"inline");img.style.zIndex=j;div.appendChild(img);}
AnimeTarget.push(div);cell.appendChild(div);}
else{cell.innerHTML=t[n];}
break;default:cell.innerHTML=t[n];break;}
switch(n){case"contract":cell.style.whiteSpace="pre-wrap";cell.style.textAlign="left";cell.style.width="592px";break;case"tip":cell.style.whiteSpace="pre-wrap";cell.style.textAlign="left";cell.style.width="304px";break;case"mapKey":case"mapValue":cell.style.textAlign="left";break;}
cell.innerHTML=cell.innerHTML.replace(/\n/g,"<br/>");};var generateTable=function(t,c){var r=document.createElement("table");r.name=c;var th=r.createTHead();if(t&&t.length){var header=th.insertRow();for(var n in t[0]){var h=document.createElement("th");h.innerHTML=n;var i=getInputFilter(n);h.appendChild(i);header.appendChild(h);}}
var tb=r.createTBody();if(t){for(var i=0;i<t.length;i++){var row=tb.insertRow();for(var n in t[i]){insertCellContent(c,row,t[i],n);}}}
var tf=r.createTFoot();return r;};var getTable=function(n,c){if(!List[n]||List[n].indexOf(c)!=-1){return generateTable(Data[n][c],c);}};var getSet=function(c){var r=[];if(List["NewSetting"].indexOf(c)!=-1){var t=Data["NewSetting"][c];for(var i=0;i<t.length;i++){r.push({"setidx":t[i]["setidx"],"id":t[i]["id"],"name":t[i]["name"],"icon":t[i]["icon"]});}}
return r;};var addFiles=function(files){var getClassName=function(bf){var v="";var m=["com.sun.","java.","javax.","org.","sun.","sunw.","backstage.","keel.","keelx.","bmpviewer.","com.","kotori.","link."];var n=(function(){var c=bf.slice(0,0x20);for(var i=0;i<m.length;i++){var l=c.find(new Uint8Array().fromText(m[i]));if(l!=-1){return l;}}
return-1;})();while((n>6)&&((bf[n-2]!=0x72)||(bf[n-1]!=0x00))){n-=1;}
if(n>6){v=bf.slice(n+1,n+1+bf[n]).getText();}
return v;};var spl=function(s){return(s||"").split(",");};var map=function(o){o=o||{};var v=[];for(var n in o){v.push(n+","+o[n]);}
return v;};var brk=function(a){return(a||[]).join("<br/>");};var eda=function(o){var v=[];if(o["elementData"]){for(var i=0;i<o["elementData"].length;i++){if(o["elementData"][i]){v.push(o["elementData"][i]);}}}
return brk(v);};var e={};var needRefresh=false;for(var i=0;i<files.length;i++){var l=files[i]["name"].lastIndexOf(".");var ext=(l!=-1?files[i]["name"].slice(l+1):"ser");var cn="";switch(ext){case"ser":cn=getClassName(files[i]["buffer"]);if((cn=="com.cyberstep.ring.util.Dict")&&(files[i]["buffer"].length<10*1024)){cn+="_server";}
break;case"tab":cn=(files[i]["buffer"].length?"Resource":"");break;}
if(cn){File[cn]=File[cn]||[];var crc32=files[i]["buffer"].getCRC32();var l=(function(){for(var j=0;j<File[cn].length;j++){if(File[cn][j]["crc32"]==crc32){return j;}}
return-1;})();if(l!=-1){File[cn][l]["name"]=files[i]["name"];}
else{File[cn].push({"name":files[i]["name"],"buffer":files[i]["buffer"],"crc32":crc32});Change[cn.slice(cn.lastIndexOf(".")+1)]=true;e[cn]=true;}}}
for(var cn in e){if(e[cn]){switch(cn){case"com.cyberstep.ring.setting.NewSetting":Data["NewSetting"]=(function(){var r={};Ser["Setting"]=Ser["Setting"]||[];Ser["Setting"][0]=File[cn][File[cn].length-1]["buffer"].unserializeSer();var ser=Ser["Setting"][0];r["StyleGroup"]=(function(){var d=[];var k="stylegroups";if(ser[k]){for(var i=0;i<ser[k].length;i++){d.push({"id":ser[k][i]["id"],"name":ser[k][i]["name"]});}}
return d;})();r["Style"]=(function(){var d=[];var k="styles";if(ser[k]){for(var n in ser[k]){var v=ser[k][n];var index=parseInt(n);if(v["id"]){d.push({"id":v["id"],"name":v["name"],"icon":v["path"]+"/icon.tex","path":v["path"],"desc":v["desc"],"race":v["race"],"group":v["group"],"sex":v["sex"],"STR":v["STR"],"TEC":v["TEC"],"SPD":v["SPD"],"JMP":v["JMP"],"DEF":v["DEF"],"size":v["size"],"advanced":v["advanced"],"initial":v["initial"],"strongitems":brk(v["strongitems"].split(",")),"anger":v["anger"],"grudge":v["grudge"],"useableheads":eda(v["useableheads"]),"useablebodies":eda(v["useablebodies"]),"useableaccessories":eda(v["useableaccessories"])});}}}
return d;})();checkIcon(r["Style"].map(function(a){return a["icon"]}));r["Head"]=(function(){var d=[];var k="heads";if(ser[k]){for(var n in ser[k]){var v=ser[k][n];if(v["id"]){d.push({"id":v["id"],"name":v["name"],"icon":v["icon"],"path":v["path"],"sex":v["sex"],"init":v["init"]});}}
d=d.sort(function(a,b){return a["id"].localeCompare(b["id"]);});}
return d;})();checkIcon(r["Head"].map(function(a){return a["icon"]}));r["Race"]=(function(){var d=[];var k="races";if(ser[k]){for(var n in ser[k]){var v=ser[k][n];if(v["id"]){d.push({"id":v["id"],"name":v["name"],"basetex":v["basetex"],"sex":v["sex"],"facetype":v["facetype"],"eyes":brk(v["eyes"].map(function(a){return a["id"];})),"noses":brk(v["noses"].map(function(a){return a["id"];})),"mouths":brk(v["mouths"].map(function(a){return a["id"];}))});}}}
return d;})();checkIcon(r["Race"].map(function(a){return a["basetex"]}));r["Face"]=(function(){var d=[];var k="races";if(ser[k]){var m=["eyes","noses","mouths"];for(var c=0;c<m.length;c++){for(var n in ser[k]){for(var j=0;j<ser[k][n][m[c]].length;j++){var v=ser[k][n][m[c]][j];if(v["id"]){d.push({"id":v["id"],"name":v["name"],"icon":v["icon"],"path":v["path"],"race":v["race"],"init":v["init"]});}}}}}
return d;})();checkIcon(r["Face"].map(function(a){return a["icon"]}));r["Body"]=(function(){var d=[];var k="bodies";if(ser[k]){for(var n in ser[k]){var v=ser[k][n];if(v["id"]){d.push({"id":v["id"],"name":v["name"],"icon":v["icon"],"path":v["path"],"init":v["init"]});}}
d=d.sort(function(a,b){return a["id"].localeCompare(b["id"]);});}
return d;})();checkIcon(r["Body"].map(function(a){return a["icon"]}));r["Accessory"]=(function(){var d=[];var k="accs";if(ser[k]){for(var n in ser[k]){var v=ser[k][n];if(v["id"]){d.push({"setidx":v["setidx"],"id":v["id"],"name":v["name"],"icon":v["icon"],"path":v["path"],"desc":v["desc"],"editable":v["editable"],"sex":v["sex"],"multiaccs":v["multiaccs"],"pcvan":v["pcvan"],"slotnum":v["slotnum"]});}}
d=d.sort(function(a,b){return a["setidx"]-b["setidx"];});}
return d;})();checkIcon(r["Accessory"].map(function(a){return a["icon"]}));r["AccessoryScalingPolicy"]=(function(){var d=[];var k="acpolicies";if(ser[k]){for(var n in ser[k]){var v=ser[k][n];if(v["id"]){var sizes=(function(){var a=[];for(var t in v["sizes"]){a.push(t+":"+v["sizes"][t]["value"]);}
return a;})();d.push({"targetID":v["id"],"sizes":brk(sizes)});}}}
return d;})();r["Item"]=(function(){var d=[];var k="items";if(ser[k]){for(var n in ser[k]){var v=ser[k][n];if(v["id"]){d.push({"id":v["id"],"name":v["name"],"icon":v["icon"],"path":v["path"],"desc":v["desc"],"option":brk(spl(v["option"])),"cls":v["cls"].join(""),"sex":v["sex"]});}}
d=d.sort(function(a,b){return a["id"].localeCompare(b["id"]);});}
return d;})();checkIcon(r["Item"].map(function(a){return a["icon"]}));r["Rule"]=(function(){var d=[];var k="rules";if(ser[k]){for(var n in ser[k]){var v=ser[k][n];if(v["id"]){d.push({"id":v["id"],"path":v["path"],"singledesc":v["singledesc"],"team1desc":v["team1desc"],"team2desc":v["team2desc"]});}}
d=d.sort(function(a,b){return a["id"].localeCompare(b["id"]);});}
return d;})();r["Stage"]=(function(){var d=[];var k="stages";if(ser[k]){for(var n in ser[k]){var v=ser[k][n]||{};var br=new BufferReader(v["fixedCameraCenter"]);var fixedCameraCenter=[br.readFloat(4,false),br.readFloat(4,false),br.readFloat(4,false)];d.push({"id":n,"name":v["name"]||"","mapdata":v["mapdata"]||"","path":v["path"]||"","rule":v["rule"]||"","rulepath":v["rulepath"]||"","time":(isUndefined(v["time"])?"":v["time"]),"zoomoutmax":(isUndefined(v["zoomoutmax"])?"":v["zoomoutmax"]),"fixedCameraCenter":fixedCameraCenter.join(","),"fixedCameraZoomOut":(isUndefined(v["fixedCameraZoomOut"])?"":v["fixedCameraZoomOut"]),"fixedCameraLayer":(isUndefined(v["fixedCameraLayer"])?"":v["fixedCameraLayer"]),"optionTable":brk(map(v["optionTable"])),"guideplane":brk((v["guideplane"]||[]).map(function(a){return map(a).join(";");})),"name4room":v["name4room"]||""});}
d=d.sort(function(a,b){return a["id"].localeCompare(b["id"]);});}
return d;})();r["Tournament"]=(function(){var d=[];var k="tours";if(ser[k]){for(var i=0;i<ser[k].length;i++){d.push({"id":ser[k][i]["id"],"name":ser[k][i]["name"],"path":ser[k][i]["path"],"desc":ser[k][i]["desc"],"initial":ser[k][i]["initial"],"type":ser[k][i]["type"],"rankingtype":ser[k][i]["rankingtype"],"rankingorder":ser[k][i]["rankingorder"],"stagenum":ser[k][i]["stagenum"],"stages":brk(ser[k][i]["stages"].map(function(a){return a["stages"].join(",");})),"people":brk(ser[k][i]["people"]),"prizes":brk(ser[k][i]["prizes"]),"turbo":ser[k][i]["turbo"],"itemenabled":ser[k][i]["itemenabled"],"npcenabled":ser[k][i]["npcenabled"],"angerenabled":ser[k][i]["angerenabled"],"accslimitenabled":ser[k][i]["accslimitenabled"],"editable":ser[k][i]["editable"],"options":brk(spl(ser[k][i]["options"])),"conditions":brk(ser[k][i]["conditions"]),"clearIndex":ser[k][i]["clearIndex"]});}
d=d.sort(function(a,b){return a["id"].localeCompare(b["id"]);});}
return d;})();r["NPC"]=(function(){var d=[];var k="npcs";if(ser[k]){for(var n in ser[k]){var v=ser[k][n];if(v["id"]){d.push({"id":v["id"],"name":v["name"],"isEvent":v["isEvent"],"HP":v["HP"],"MP":v["MP"],"STR":v["STR"],"TEC":v["TEC"],"SPD":v["SPD"],"JMP":v["JMP"],"DEF":v["DEF"],"size":v["size"],"guts":v["guts"],"seriousness":v["seriousness"],"savagery":v["savagery"],"guile":v["guile"],"responsibility":v["responsibility"],"urgency":v["urgency"],"playerdata":v["playerdata"],"headname":v["headname"],"facename":v["facename"],"bodyname":v["bodyname"],"strongitems":v["strongitems"],"dropitem":v["dropitem"],"stylename":v["stylename"],"equipment":v["equipment"],"equiprate":v["equiprate"],"accsname":v["accsname"],"accessory":v["accessory"],"subAccessory":v["subAccessory"],"userSkin":v["userSkin"],"taste":brk(map(v["taste"])),"serif":brk(map(v["serif"])),"uid":v["uid"],"guildID":v["guildID"],"isError":v["isError"]});}}
d=d.sort(function(a,b){return a["id"].localeCompare(b["id"]);});}
return d;})();r["Quest"]=(function(){var d=[];var k="quests";if(ser[k]){for(var i=0;i<ser[k].length;i++){d.push({"id":ser[k][i]["id"],"name":ser[k][i]["name"],"desc":ser[k][i]["desc"],"prize":ser[k][i]["prize"],"mission":ser[k][i]["mission"],"classname":ser[k][i]["classname"]});}
d=d.sort(function(a,b){return a["id"].localeCompare(b["id"]);});}
return d;})();r["ETC"]=(function(){var d=[];var k="etcs";if(ser[k]){for(var n in ser[k]){var v=ser[k][n];if(v["id"]){d.push({"id":v["id"],"name":v["name"],"icon":v["icon"],"desc":v["desc"],"bigIcon":v["bigIcon"],"neednum":brk(v["neednum"]),"bonusnum":brk(v["bonusnum"]),"meter":v["meter"]||"","onceFree":v["onceFree"]||"","onceFreePCVAN":v["onceFreePCVAN"]||"","sex":v["sex"],"type":v["type"],"arg":v["arg"]});}}
d=d.sort(function(a,b){return a["id"].localeCompare(b["id"]);});}
return d;})();checkIcon(r["ETC"].map(function(a){return a["icon"]}));checkIcon(r["ETC"].map(function(a){return a["bigIcon"]}));r["Prize"]=(function(){var d=[];var k="prizes";if(ser[k]){for(var n in ser[k]){var v=ser[k][n];if(v["id"]){d.push({"id":v["id"],"name":v["name"],"icon":v["icon"],"classname":v["classname"],"score":v["score"],"color":v["color"].join(",")});}}}
return d;})();checkIcon(r["Prize"].map(function(a){return a["icon"]}));r["Ranking"]=(function(){var d=[];var k="rankings";if(ser[k]){for(var i=0;i<ser[k].length;i++){d.push({"id":ser[k][i]["id"],"name":ser[k][i]["name"],"unit":ser[k][i]["unit"],"type":ser[k][i]["type"],"point":ser[k][i]["point"],"where":ser[k][i]["where"],"order":ser[k][i]["order"],"limit":ser[k][i]["limit"]});}}
return d;})();r["ValueSet"]=(function(){var d=[];var k="valuesets";if(ser[k]){for(var n in ser[k]){var v=ser[k][n];if(v["id"]){d.push({"id":v["id"],"name":v["name"],"icon":v["icon"],"desc":v["desc"],"bigIcon":v["bigIcon"],"sex":v["sex"]});}}
d=d.sort(function(a,b){return a["id"].localeCompare(b["id"]);});}
return d;})();checkIcon(r["ValueSet"].map(function(a){return a["icon"]}));checkIcon(r["ValueSet"].map(function(a){return a["bigIcon"]}));r["SurvivalTournament"]=(function(){var d=[];var k="svtours";if(ser[k]){for(var n in ser[k]){var v=ser[k][n];if(v["id"]){d.push({"id":v["id"],"path":v["path"],"isTeam":v["isTeam"],"stagetypes":brk(v["stagetypes"]),"offsets":brk(v["offsets"]),"defratio":brk(v["defratio"])});}}}
return d;})();r["SurvivalPrize"]=(function(){var d=[];var k="svprizes";if(ser[k]){for(var n in ser[k]){var v=ser[k][n];if(v["id"]){d.push({"id":v["id"],"name":v["name"],"desc":v["desc"],"prize":v["prize"]});}}
d=d.sort(function(a,b){return a["id"].localeCompare(b["id"]);});}
return d;})();r["SurvivalSpecialPrize"]=(function(){var d=[];var k="svspprizes";if(ser[k]){for(var n in ser[k]){var v=ser[k][n];if(v["id"]){d.push({"id":v["id"],"name":v["name"],"desc":v["desc"],"conds":brk(v["conds"])});}}}
return d;})();r["SurvivalPrizeSet"]=(function(){var d=[];var k="svspprizes";var setGM=ser["gmprizesets"]||ser["_gmprizesets"];if(setGM){for(var n in setGM){var m=["m2m","guild","gm"];for(var c=0;c<m.length;c++){var num=(setGM[m[c]+".maxwin.num"]?setGM[m[c]+".maxwin.num"]["value"]:0);if(num){for(var i=0;i<=num;i++){var s=m[c]+"."+"prizeset"+i+".prize";var prize=setGM[s];if(prize){d.push({"set":s,"prize":prize["prize"],"specials":brk(prize["specials"])});}}}}}}
var setRM=ser["rmprizesets"]||ser["_rmprizesets"];if(setRM){for(var n in setRM){var m=["m2mhardcore","rm"];for(var c=0;c<m.length;c++){var num=(setRM[m[c]+".maxwin.num"]?setRM[m[c]+".maxwin.num"]["value"]:0);if(num){for(var i=0;i<=num;i++){var s=m[c]+"."+"prizeset"+i+".prize";var prize=setRM[s];if(prize){d.push({"set":s,"prize":prize["prize"],"specials":brk(prize["specials"])});}}}}}}
return d;})();r["GuildClass"]=(function(){var o={};if(ser["guildmemberclasses"]){for(var n in ser["guildmemberclasses"]){o[n]=o[n]||{};o[n]["id"]=ser["guildmemberclasses"][n]["id"];o[n]["name"]=ser["guildmemberclasses"][n]["name"];o[n]["icon"]=ser["guildmemberclasses"][n]["icon"];o[n]["authority"]=ser["guildmemberclasses"][n]["authority"];o[n]["level"]=ser["guildmemberclasses"][n]["level"];}}
if(ser["guildmemberclassgmratios"]){for(var n in ser["guildmemberclassgmratios"]){o[n]=o[n]||{};o[n]["id"]=n;o[n]["gmratio"]=ser["guildmemberclassgmratios"][n]["value"];}}
var d=[];for(var n in o){d.push({"id":o[n]["id"],"name":o[n]["name"],"icon":o[n]["icon"],"authority":o[n]["authority"],"level":o[n]["level"],"gmratio":o[n]["gmratio"]});}
d=d.sort(function(a,b){return a["level"]-b["level"];});return d;})();r["Attribute"]=(function(){var d=[];var k="attribute";if(ser[k]){for(var n in ser[k]){var v=ser[k][n];if(v["id"]){d.push({"id":v["id"],"x":v["x"]||0,"y":v["y"]||0,"x_m":v["x_m"]||0,"y_m":v["y_m"]||0,"path":v["path"]||""});}}}
return d;})();r["Emotion"]=(function(){var d=[];var k="emotions";if(ser[k]){for(var n in ser[k]){var v=ser[k][n];if(v["id"]){d.push({"id":v["id"],"name":v["name"],"path":v["path"],"grade":v["grade"]});}}}
return d;})();r["Emoticon"]=(function(){var d=[];var k="emoticons";if(ser[k]){for(var n in ser[k]){var v=ser[k][n];if(v["id"]){d.push({"id":v["id"],"name":v["name"],"icon":v["icon"],"path":brk(v["path"]),"time":v["time"],"loop":v["loop"],"grade":v["grade"]});}}}
return d;})();checkIcon(r["Emoticon"].map(function(a){return a["icon"]}));r["ChampTournament"]=(function(){var d=[];var k="champTours";if(ser[k]){var ch={"min":10,"max":20};for(var c=ch["min"];c<ch["max"];c++){var s="ch"+c+"."+"champ"+"defauttournamentinfo_amped";var amped=ser[k][c][s];if(amped){d.push({"id":amped["id"],"path":amped["path"],"isTeam":amped["isTeam"],"stagetypes":brk(amped["stagetypes"]),"offsets":brk(amped["offsets"]),"defratio":brk(amped["defratio"])});}
var s="ch"+c+"."+"champ"+"defauttournamentinfo_team";var team=ser[k][c][s];if(team){d.push({"id":team["id"],"path":team["path"],"isTeam":team["isTeam"],"stagetypes":brk(team["stagetypes"]),"offsets":brk(team["offsets"]),"defratio":brk(team["defratio"])});}}}
return d;})();r["ChampPrize"]=(function(){var d=[];var k="champPrizes";if(ser[k]){var ch={"min":10,"max":20};for(var c=ch["min"];c<ch["max"];c++){if(ser[k][c]){for(var n in ser[k][c]){d.push({"id":ser[k][c][n]["id"],"name":ser[k][c][n]["name"],"desc":ser[k][c][n]["desc"],"prize":ser[k][c][n]["prize"]});}}}
d=d.sort(function(a,b){return a["id"].localeCompare(b["id"]);});}
return d;})();r["ChampSpecialPrize"]=(function(){var d=[];var k="champSpPrizes";if(ser[k]){var ch={"min":10,"max":20};for(var c=ch["min"];c<ch["max"];c++){if(ser[k][c]){for(var n in ser[k][c]){d.push({"id":ser[k][c][n]["id"],"name":ser[k][c][n]["name"],"desc":ser[k][c][n]["desc"],"conds":brk(ser[k][c][n]["conds"])});}}}}
return d;})();r["ChampPrizeSet"]=(function(){var d=[];var k="champPrizeSets";if(ser[k]){var ch={"min":10,"max":20};for(var c=ch["min"];c<ch["max"];c++){if(ser[k][c]){for(var i=0;i<ser[k][c].length;i++){d.push({"id":"ch"+c+"."+"chprizeset"+i,"prize":ser[k][c][i]["prize"],"specials":brk(ser[k][c][i]["specials"])});}}}}
return d;})();r["RandomEntry"]=(function(){var d=[];var k="randomEntrys";if(ser[k]){for(var i=0;i<ser[k].length;i++){d.push({"id":ser[k][i]["id"],"name":ser[k][i]["name"],"desc":ser[k][i]["desc"],"idAmped":ser[k][i]["idAmped"],"idTeam":ser[k][i]["idTeam"]});}
d=d.sort(function(a,b){return a["id"].localeCompare(b["id"]);});}
return d;})();r["NewPlayer"]=(function(){var d=[];var k="newplayer";if(ser[k]){var newPlayerStyleSetList=(function(){var v=[];for(var i=0;i<ser[k]["newPlayerStyleSetList"].length;i++){v.push({"styleId":ser[k]["newPlayerStyleSetList"][i]["styleId"],"headId":brk(ser[k]["newPlayerStyleSetList"][i]["headId"]),"bodyId":brk(ser[k]["newPlayerStyleSetList"][i]["bodyId"]),"eyeId":brk(ser[k]["newPlayerStyleSetList"][i]["eyeId"]),"noseId":brk(ser[k]["newPlayerStyleSetList"][i]["noseId"]),"mouthId":brk(ser[k]["newPlayerStyleSetList"][i]["mouthId"])});}
return v;})();d.push({"accsId":ser[k]["accsId"],"itemId":ser[k]["itemId"],"itemNum":ser[k]["itemNum"],"newPlayerStyleSetList":newPlayerStyleSetList});}
return d;})();r["Furniture"]=(function(){var d=[];var k="furnitures";if(ser[k]){for(var n in ser[k]){var v=ser[k][n];if(v["id"]){d.push({"id":v["id"],"name":v["name"],"icon":v["icon"],"path":v["path"],"desc":v["desc"],"type":v["type"]});}}
d=d.sort(function(a,b){return a["id"].localeCompare(b["id"]);});}
return d;})();checkIcon(r["Furniture"].map(function(a){return a["icon"]}));r["CustomizeCard"]=(function(){var d=[];var k="customizecard";if(ser[k]){for(var n in ser[k]){var v=ser[k][n];if(v["id"]){d.push({"id":v["id"],"name":v["name"],"icon":v["icon"],"desc":v["desc"],"bigIcon":v["bigIcon"],"elements":brk(v["elements"].map(function(a){return a["effectid"];})),"excustomaccs":brk(v["excustomaccs"]),"priceGrade":v["priceGrade"]});}}
d=d.sort(function(a,b){return a["id"].localeCompare(b["id"]);});}
return d;})();checkIcon(r["CustomizeCard"].map(function(a){return a["icon"]}));checkIcon(r["CustomizeCard"].map(function(a){return a["bigIcon"]}));r["CustomizeEffect"]=(function(){var d=[];var k="customizeeffect";if(ser[k]){for(var n in ser[k]){var v=ser[k][n];if(v["id"]){v["amount3"]=v["amount3"]||[0,0,0,0];d.push({"id":v["id"],"STR":v["amount"][0],"TEC":v["amount"][1],"SPD":v["amount"][2],"JMP":v["amount"][3],"DEF":v["amount"][4],"size":v["scale"],"HP":v["amount2"][0],"MP":v["amount2"][1],"CR":v["amount2"][2],"FR":v["amount2"][3],"IR":v["amount2"][4],"ER":v["amount2"][5],"CA":v["amount2"][6],"FA":v["amount2"][7],"IA":v["amount2"][8],"EA":v["amount2"][9],"HR":v["amount3"][0],"DR":v["amount3"][1],"HA":v["amount3"][2],"DA":v["amount3"][3],"rank":v["rank"]||"","needs":brk(spl(v["needs"])),"result":brk(v["result"]),"ratio":brk(v["ratio"]),"strongitems":v["strongitems"]});}}
d=d.sort(function(a,b){return a["id"].localeCompare(b["id"]);});}
return d;})();r["DailyQuest"]=(function(){var d=[];var k="dailyquests";if(ser[k]){for(var i=0;i<ser[k].length;i++){d.push({"id":ser[k][i]["id"],"name":ser[k][i]["name"],"desc":ser[k][i]["desc"],"prize":ser[k][i]["prize"],"mission":ser[k][i]["mission"],"classname":ser[k][i]["classname"]});}
d=d.sort(function(a,b){return a["id"].localeCompare(b["id"]);});}
return d;})();r["PrizeGroup"]=(function(){var d=[];var k="prizegroups";if(ser[k]){for(var i=0;i<ser[k].length;i++){d.push({"id":ser[k][i]["id"],"prize":brk(spl(ser[k][i]["prize"])),"ratio":brk(spl(ser[k][i]["ratio"])),"dupindex":ser[k][i]["dupindex"]});}
d=d.sort(function(a,b){return a["id"].localeCompare(b["id"]);});}
return d;})();r["TreasureBox"]=(function(){var d=[];var k="treasureboxes";if(ser[k]){for(var n in ser[k]){var v=ser[k][n];if(v["id"]){d.push({"id":v["id"],"name":v["name"],"icon":v["icon"],"desc":v["desc"],"icono":v["icono"],"iconc":v["iconc"],"exp":v["exp"],"type":v["type"],"prize":brk(v["prize"]),"ratio":brk(v["ratio"]),"dupindex":brk(v["dupindex"]),"announce":brk(v["announce"]),"tournament":v["tournament"],"accessory":v["accessory"],"style":v["style"],"secret":v["secret"]});}}
d=d.sort(function(a,b){return a["id"].localeCompare(b["id"]);});}
return d;})();checkIcon(r["TreasureBox"].map(function(a){return a["icon"]}));checkIcon(r["TreasureBox"].map(function(a){return a["icono"]}));checkIcon(r["TreasureBox"].map(function(a){return a["iconc"]}));r["PC-VAN"]=(function(){var d=[];var k="pcvan";if(ser[k]){var v={};var m=["style","head","eye","nose","mouth","body","skin","accs","subaccs"];for(var i=0;i<m.length;i++){v["pcvan."+m[i]]=brk(ser[k]["pcvan."+m[i]]);}
for(var i=0;i<m.length;i++){v["pcvan.premium."+m[i]]=brk(ser[k]["pcvan.premium."+m[i]]);}
d.push(v);}
return d;})();r["Coupon"]=(function(){var d=[];var k="coupons";if(ser[k]){for(var n in ser[k]){var v=ser[k][n];if(v["id"]){d.push({"id":v["id"],"name":v["name"],"icon":v["icon"],"desc":v["desc"],"type":v["type"],"value":v["value"],"period":v["period"],"periodstr":v["periodstr"],"present":v["present"],"category":brk(v["category"])});}}
d=d.sort(function(a,b){return a["id"].localeCompare(b["id"]);});}
return d;})();checkIcon(r["Coupon"].map(function(a){return a["icon"]}));r["Emblem"]=(function(){var d=[];var k="emblems";if(ser[k]){for(var n in ser[k]){var v=ser[k][n];if(v["id"]){var getOdds=function(c){for(var i=0;i<v["elements"].length;i++){if(v["elements"][i]["effectid"]==c){return v["elements"][i]["odds"];}}
return 1;};d.push({"id":v["id"],"name":v["name"],"icon":v["icon"],"desc":v["desc"],"bigIcon":v["bigIcon"],"pts":getOdds("pts"),"gm":getOdds("gm"),"msg":v["msg"],"conditions":brk(v["conditions"]),"get_type":brk(v["get_type"]),"iconmax":v["iconmax"],"icons":brk(v["icons"]),"animtime":brk(v["animtime"]),"sex":v["sex"]});}}
d=d.sort(function(a,b){return a["id"].localeCompare(b["id"]);});}
return d;})();checkIcon(r["Emblem"].map(function(a){return a["icon"]}));checkIcon(r["Emblem"].map(function(a){return a["bigIcon"]}));checkIcon((function(){var v=[];r["Emblem"].forEach(function(a){v.writes(a["icons"].split("<br/>"));});return v;})());r["DesignCombine"]=(function(){var d=[];var k="designcombines";if(ser[k]){for(var i=0;i<ser[k].length;i++){d.push({"id":ser[k][i]["id"],"name":ser[k][i]["name"],"materials":brk(ser[k][i]["materials"]),"prizes":brk(ser[k][i]["prizes"]),"ratios":brk(ser[k][i]["ratios"]),"dupindex":brk(ser[k][i]["dupindex"])});}
d=d.sort(function(a,b){return a["id"].localeCompare(b["id"]);});}
return d;})();checkIcon(r["DesignCombine"].map(function(a){return a["icon"]}));r["CollectionBook"]=(function(){var d=[];var k="collectionbooks";if(ser[k]){for(var n in ser[k]){var v=ser[k][n];if(v["id"]){d.push({"id":v["id"],"name":v["name"],"icon":v["icon"],"desc":v["desc"],"level":v["level"],"list":brk(spl(v["list"])),"condition":brk(v["condition"]),"prize":brk(spl(v["prize"])),"duplicate":brk(spl(v["duplicate"])),"bonusPoint":v["bonusPoint"],"point":v["point"]});}}
d=d.sort(function(a,b){return a["id"].localeCompare(b["id"]);});}
return d;})();checkIcon(r["CollectionBook"].map(function(a){return a["icon"]}));r["NewCombine"]=(function(){var d=[];var k="newcombines";if(ser[k]){for(var i=0;i<ser[k].length;i++){d.push({"id":ser[k][i]["id"],"name":ser[k][i]["name"],"icon":ser[k][i]["icon"],"desc":ser[k][i]["desc"],"materials":brk(ser[k][i]["materials"]),"prizes":brk(ser[k][i]["prizes"]),"ratios":brk(ser[k][i]["ratios"]),"dupindex":brk(ser[k][i]["dupindex"]),"showpreview":ser[k][i]["showpreview"],"announce":brk(ser[k][i]["announce"]),"svindex":brk(ser[k][i]["svindex"]),"svmate":brk(ser[k][i]["svmate"]),"category":ser[k][i]["category"],"keepcustom":ser[k][i]["keepcustom"],"ranknum":ser[k][i]["ranknum"],"rankmaterials":brk((ser[k][i]["rankmaterials"]||[]).map(function(a){return a.join(",");})),"announce":brk(ser[k][i]["mission"]),"nowrank":ser[k][i]["nowrank"]});}
d=d.sort(function(a,b){return a["id"].localeCompare(b["id"]);});}
return d;})();checkIcon(r["NewCombine"].map(function(a){return a["icon"]}));r["SubAccessory"]=(function(){var d=[];var k="subaccs";if(ser[k]){for(var n in ser[k]){var v=ser[k][n];if(v["id"]){d.push({"setidx":v["setidx"],"id":v["id"],"name":v["name"],"icon":v["icon"],"path":v["path"],"desc":v["desc"],"editable":v["editable"],"sex":v["sex"],"multiaccs":v["multiaccs"],"pcvan":v["pcvan"],"slotnum":v["slotnum"]});}}
d=d.sort(function(a,b){return a["setidx"]-b["setidx"];});}
return d;})();checkIcon(r["SubAccessory"].map(function(a){return a["icon"]}));r["BattleQuest"]=(function(){var d=[];var k="battleQuest";if(ser[k]){for(var i=0;i<ser[k]["list"].length;i++){d.push({"id":ser[k]["list"][i]["cond"],"name":ser[k]["list"][i]["name"],"desc":ser[k]["list"][i]["desc"],"prizes":brk(ser[k]["list"][i]["prizes"]),"ratios":brk(ser[k]["list"][i]["ratios"]),"dupindex":brk(ser[k]["list"][i]["dupindex"]),"value":ser[k]["list"][i]["value"],"ratio":ser[k]["ratio"][ser[k]["table"].indexOf(ser[k]["list"][i]["cond"])]});}}
return d;})();r["HelpLibrary"]=(function(){var d=[];var k="helplibraries";if(ser[k]){for(var i=0;i<ser[k].length;i++){var components=(function(){var v=[];for(var j=0;j<ser[k][i]["components"].length;j++){v.push({"image":ser[k][i]["components"][j][0],"desc":ser[k][i]["components"][j][1]});}
return v;})();d.push({"id":ser[k][i]["id"],"title":ser[k][i]["title"],"parent":ser[k][i]["parent"],"components":components});}}
return d;})();r["NewQuest"]=(function(){var d=[];var k="newQuests";if(ser[k]){for(var i=0;i<ser[k].length;i++){d.push({"id":ser[k][i]["id"],"name":ser[k][i]["name"],"icon":ser[k][i]["icon"],"desc":ser[k][i]["desc"],"level":ser[k][i]["level"],"prize":brk(spl(ser[k][i]["prize"])),"condition":brk(spl(ser[k][i]["condition"])),"repeat":ser[k][i]["repeat"]});}}
return d;})();checkIcon(r["NewQuest"].map(function(a){return a["icon"]}));r["LoginLuckySet"]=(function(){var d=[];var k="loginLuckySets";if(ser[k]){for(var n in ser[k]){var setting=(function(){var v=[];if(ser[k][n]["setting"]){v[0]={"index":0,"prize":ser[k][n]["setting"]["prize"]||"","msg":ser[k][n]["setting"]["msg"]||"","pmsg":ser[k][n]["setting"]["pmsg"]||"","announce":ser[k][n]["setting"]["announce"]||""}
for(var i=1;i<32767;i++){if(ser[k][n]["setting"]["prize"+i]||ser[k][n]["setting"]["msg"+i]||ser[k][n]["setting"]["announce"+i]){v.push({"index":i,"prize":ser[k][n]["setting"]["prize"+i]||"","msg":ser[k][n]["setting"]["msg"+i]||"","pmsg":ser[k][n]["setting"]["pmsg + i"]||"","announce":ser[k][n]["setting"]["announce + i"]||""});}}}
return v;})();d.push({"id":ser[k][n]["id"],"max":ser[k][n]["max"],"ratio":ser[k][n]["ratio"],"setting":setting});}
d=d.sort(function(a,b){return a["id"].localeCompare(b["id"]);});}
return d;})();r["HunterMissions"]=(function(){var d=[];var k="hmissions2";if(ser[k]){for(var n in ser[k]){var v=ser[k][n];if(v["id"]){d.push({"id":v["id"],"name":v["name"],"icon":v["icon"],"desc":v["desc"],"successdesc":v["successdesc"],"rank":v["rank"],"cpDesc":brk(v["cpDesc"]),"cpability":brk(v["cpability"]),"cpsymbol":brk(v["cpsymbol"]),"cpvalue":brk(v["cpvalue"]),"cpsuccess":v["cpsuccess"],"time":v["time"],"success":v["success"],"cost":v["cost"],"exp":v["exp"],"prize":brk(v["prize"]),"ratio":brk(v["ratio"]),"listratio":v["listratio"],"condition":brk(v["condition"]),"onlyonce":v["onlyonce"],"accsbonus":v["accsbonus"],"itembonus":v["itembonus"],"num":v["num"]});}}}
return d;})();checkIcon(r["HunterMissions"].map(function(a){return a["icon"]}));r["MapObject"]=(function(){var d=[];var k="mapobjects";if(ser[k]){for(var n in ser[k]){var v=ser[k][n];if(v["id"]){d.push({"id":v["id"],"name":v["name"],"icon":v["icon"],"path":v["path"],"desc":v["desc"],"type":v["type"],"cost":v["cost"]});}}
d=d.sort(function(a,b){return a["id"].localeCompare(b["id"]);});}
return d;})();checkIcon(r["SubAccessory"].map(function(a){return a["icon"]}));checkIcon(CoverList);checkIcon([IconSpace]);return r;})();needRefresh=true;break;case"com.cyberstep.ring.util.Dict":Data["Dict"]=(function(){var r={};Ser["Dict"]=Ser["Dict"]||[];Ser["Dict"][0]=File[cn][File[cn].length-1]["buffer"].unserializeSer();var ser=Ser["Dict"][0];r["Contract"]=(function(){var d=[];if(ser["map"]){var m=ser["map"];if(m["contract.text.message"]){d.push({"contract":m["contract.text.message"].replace(/\n/g,"<br/>")});}}
return d;})();r["Chatfilter"]=(function(){var d=[];if(ser["chatfilter"]){var c=ser["chatfilter"];for(var i=0;i<c.length;i++){d.push({"filter":c[i]});}}
return d;})();r["Tips"]=(function(){var d=[];if(ser["map"]){var m=ser["map"];var c=parseInt(m["tips.num"])||0;for(var i=0;i<c;i++){if(m["tips"+(i+1)]){d.push({"tip":m["tips"+(i+1)].replace(/\n/g,"<br/>")});}}}
return d;})();r["Oracle"]=(function(){var d=[];if(ser["map"]){var m=ser["map"];if(Data["NewSetting"]&&Data["NewSetting"]["ETC"]&&Data["NewSetting"]["ETC"].length){var indexOf=function(id){for(var i=0;i<Data["NewSetting"]["ETC"].length;i++){if(Data["NewSetting"]["ETC"][i]["id"]==id){return i;}}
return-1;};var n=1;while(true){var l=indexOf("oracle"+n);if(l!=-1){if(m["oracle"+n+".prizelist"]){d.push({"id":"oracle"+n,"prizelist":brk(m["oracle"+n+".prizelist"].split(","))});}
n+=1;}
else{break;}}}}
return d;})();r["Loginstamp"]=(function(){var d=[];if(ser["map"]){var m=ser["map"];if(Data["NewSetting"]&&Data["NewSetting"]["ETC"]&&Data["NewSetting"]["ETC"].length){for(var i=0;i<Data["NewSetting"]["ETC"].length;i++){if(Data["NewSetting"]["ETC"][i]["id"].startsWith("loginstamp")){var id=Data["NewSetting"]["ETC"][i]["id"];if(m[id+".presentmax"]){var n=parseInt(m[id+".presentmax"]);if(!isNaN(n)){var list=[];for(var j=0;j<n;j++){list.push(m[id+".present"+(j+1)]||"");}
d.push({"id":id,"present":brk(list)});}}}}}}
return d;})();r["Presentbox"]=(function(){var d=[];if(ser["map"]){var m=ser["map"];var list=["promotion1","promotion2","promotion_Spring_Festival","promotion_mayday2017","promotion_rare","promotion_rare2","promotion_rare3","promotion_rare_2018","promotion_rare_2019","promotion_rare_2020","promotion_week","promotion_xmas2016"];for(var i=0;i<list.length;i++){if(m["presentbox."+list[i]]){d.push({"id":list[i],"promotion":brk(m["presentbox."+list[i]].split(","))});}}}
return d;})();r["Rod"]=(function(){var d=[];if(ser["map"]){var m=ser["map"];if(Data["NewSetting"]&&Data["NewSetting"]["Coupon"]&&Data["NewSetting"]["Coupon"].length){for(var i=0;i<Data["NewSetting"]["Coupon"].length;i++){if(Data["NewSetting"]["Coupon"][i]["id"].startsWith("rod")){var id=Data["NewSetting"]["Coupon"][i]["id"];if(m[id+".model"]&&m[id+".chatch.time"]&&m[id+".prize"]&&m[id+".ratio"]){d.push({"id":id,"model":m[id+".model"],"chatchTime":m[id+".chatch.time"],"prize":brk(spl(m[id+".prize"])),"ratio":brk(spl(m[id+".ratio"])),"option":brk(spl(m[id+".option"]||""))});}}}}}
return d;})();r["Fish"]=(function(){var d=[];if(ser["map"]){var m=ser["map"];if(Data["NewSetting"]&&Data["NewSetting"]["Coupon"]&&Data["NewSetting"]["Coupon"].length){for(var i=0;i<Data["NewSetting"]["Coupon"].length;i++){if(Data["NewSetting"]["Coupon"][i]["id"].startsWith("fish")){var id=Data["NewSetting"]["Coupon"][i]["id"];if(m[id+".model"]&&m[id+".rank"]&&m[id+".prize"]&&m[id+".ratio"]){d.push({"id":id,"model":m[id+".model"],"rank":m[id+".rank"],"prize":brk(spl(m[id+".prize"])),"ratio":brk(spl(m[id+".ratio"])),"dupindex":brk(spl(m[id+".dupindex"]||""))});}}}}}
return d;})();r["Tool"]=(function(){var d=[];if(ser["map"]){var m=ser["map"];if(Data["NewSetting"]&&Data["NewSetting"]["Coupon"]&&Data["NewSetting"]["Coupon"].length){for(var i=0;i<Data["NewSetting"]["Coupon"].length;i++){if(Data["NewSetting"]["Coupon"][i]["id"].startsWith("tool")){var id=Data["NewSetting"]["Coupon"][i]["id"];if(m[id+".model"]&&m[id+".chatch.time"]&&m[id+".motion"]&&m[id+".prize"]&&m[id+".ratio"]){d.push({"id":id,"model":m[id+".model"],"chatchTime":m[id+".chatch.time"],"motion":m[id+".motion"],"prize":brk(spl(m[id+".prize"])),"ratio":brk(spl(m[id+".ratio"])),"option":brk(spl(m[id+".option"]||""))});}}}}}
return d;})();r["Mineral"]=(function(){var d=[];if(ser["map"]){var m=ser["map"];if(Data["NewSetting"]&&Data["NewSetting"]["Coupon"]&&Data["NewSetting"]["Coupon"].length){for(var i=0;i<Data["NewSetting"]["Coupon"].length;i++){if(Data["NewSetting"]["Coupon"][i]["id"].startsWith("mineral")){var id=Data["NewSetting"]["Coupon"][i]["id"];if(m[id+".model"]&&m[id+".rank"]&&m[id+".prize"]&&m[id+".ratio"]){d.push({"id":id,"model":m[id+".model"],"rank":m[id+".rank"],"prize":brk(spl(m[id+".prize"])),"ratio":brk(spl(m[id+".ratio"])),"dupindex":brk(spl(m[id+".dupindex"]||""))});}}}}}
return d;})();r["Quiz"]=(function(){var d=[];if(ser["map"]){var m=ser["map"];var c=parseInt(m["quiz.num"])||0;for(var i=0;i<c;i++){var level=parseInt(m["quiz.quiz"+i+".level"])||1;var q=m["quiz.quiz"+i+".q"];var q1=m["quiz.quiz"+i+".q1"];var q2=m["quiz.quiz"+i+".q2"];var q3=m["quiz.quiz"+i+".q3"];var q4=m["quiz.quiz"+i+".q4"];var a=parseInt(m["quiz.quiz"+i+".a"])||0;if(a&&level&&q&&q1&&q2&&q3&&q4){d.push({"level":level,"question":q,"q1":q1,"q2":q2,"q3":q3,"q4":q4,"answer":a});}}}
return d;})();r["QuizSimu"]=(function(){var d={};if(ser["map"]){var m=ser["map"];d["time"]=parseInt(m["quiz.listopen.time"])||10;d["list"]=(function(){var v=[];var c=parseInt(m["quiz.num"])||0;for(var i=0;i<c;i++){var level=parseInt(m["quiz.quiz"+i+".level"])||1;var q=m["quiz.quiz"+i+".q"];var q1=m["quiz.quiz"+i+".q1"];var q2=m["quiz.quiz"+i+".q2"];var q3=m["quiz.quiz"+i+".q3"];var q4=m["quiz.quiz"+i+".q4"];var a=parseInt(m["quiz.quiz"+i+".a"])||0;if(a&&level&&q&&q1&&q2&&q3&&q4){v.push({"level":level,"question":q,"options":[q1,q2,q3,q4],"answer":a});}}
return v;})();}
return d;})();r["Map"]=(function(){var d=[];if(ser["map"]){var m=ser["map"];for(var n in m){d.push({"mapKey":n,"mapValue":m[n]});}}
d=d.sort(function(a,b){return a["mapKey"].localeCompare(b["mapKey"]);});return d;})();return r;})();needRefresh=true;break;case"com.cyberstep.ring.util.Dict_server":Data["ServerList"]=(function(){var r={};Ser["ServerList"]=Ser["ServerList"]||[];Ser["ServerList"][0]=File[cn][File[cn].length-1]["buffer"].unserializeSer();var ser=Ser["ServerList"][0];r["Map"]=(function(){var d=[];if(ser["map"]){var m=ser["map"];for(var n in m){d.push({"mapKey":n,"mapValue":m[n]});}}
d=d.sort(function(a,b){return a["mapKey"].localeCompare(b["mapKey"]);});return d;})();return r;})();break;case"[Lcom.cyberstep.ring.shop.ShopItem;":Data["ShopItem"]=(function(){var r={};Ser["ShopItem"]=Ser["ShopItem"]||[];Ser["ShopItem"][0]=File[cn][File[cn].length-1]["buffer"].unserializeSer();var ser=Ser["ShopItem"][0];r["ShopItem"]=(function(){var d=[];var goodTypeTitle={"1":"StyleData","2":"Head","3":"Eye","4":"Nose","5":"Mouth","6":"Body","7":"Accessory","8":"Item","9":"ETCItem","10":"ValueSet","12":"Furniture","14":"CustomizeCard","15":"Coupon","16":"Emblem","17":"TreasureBox","19":"SubAccessory"};var stateTitle={"-1":"STATE_NOTLIST","0":"STATE_BUYABLE","1":"STATE_HASITEM","2":"STATE_NOTFORSALE","3":"STATE_WEARING","4":"STATE_CASHONLY","5":"STATE_CANTUSE","6":"STATE_PCVAN"};for(var i=0;i<ser.length;i++){if(ser[i]&&ser[i].length){var br=new BufferReader(ser[i]);var goodsID=br.readBytes(br.readIntJava()).map(function(a){return a^0xAA}).getText();var goodsType=br.readByteJava();var gmPrice=br.readIntJava()^0x55555555;var rmPrice=br.readIntJava()^0x55555555;var require=(function(){var v=[];var count=br.readByteJava();for(var j=0;j<count;j++){v.push(br.readUTFJava());}
return v;})();var sex=br.readByteJava();var state=br.readByteJava();var b=br.readByteJava();var rare=((b&0x01)!=0);var neverForSale=((b&0x02)!=0);var requireType=br.readByteJava();var options=(function(){var v=[];var count=br.readByteJava();for(var j=0;j<count;j++){v.push(br.readUTFJava());}
return v;})();var buyCount=br.readIntJava();var attribute=br.readUTFJava();var custom=br.readUTFJava();var orgID=br.readUTFJava();d.push({"goodsID":goodsID,"goodsType":{"value":goodsType,"title":goodTypeTitle},"gmPrice":gmPrice,"rmPrice":rmPrice,"require":brk(require),"sex":sex,"state":{"value":state,"title":stateTitle},"rare":rare,"neverForSale":neverForSale,"requireType":requireType,"options":brk(options),"buyCount":buyCount,"attribute":attribute,"custom":custom,"orgID":orgID});}}
return d;})();return r;})();break;case"[Lcom.cyberstep.ring.sys.chat.ChatMessage;":Data["ChatMessage"]=(function(){var r={};Ser["ChatMessage"]=Ser["ChatMessage"]||[];Ser["ChatMessage"][0]=File[cn][File[cn].length-1]["buffer"].unserializeSer();var ser=Ser["ChatMessage"][0];r["ChatMessage"]=(function(){var d=[];var chatMessageFlag=["FROM_GAME_MASTER","FROM_SPECTATOR","FROM_CHANNEL_CHAT","FROM_LOBBY_CHAT","FROM_BATTLE_CHAT","FROM_ADMIN_CHAT","SYSTEM_FILTERED"];for(var i=0;i<ser.length;i++){if(ser[i]&&ser[i].length){var n=0;var br=new BufferReader(ser[i][n++]);var name=br.readUTFJava();var message=br.readUTFJava();var flag=br.readIntJava();var color=ser[i][n++];br=new BufferReader(ser[i][n++]);var userID=br.readUTFJava();d.push({"name":name,"message":message,"flag":{"value":flag,"flag":chatMessageFlag},"color":color,"userID":userID});}}
return d;})();return r;})();break;case"[Lcom.cyberstep.ring.sys.HostInfo;":Data["HostInfo"]=(function(){var r={};Ser["HostInfo"]=Ser["HostInfo"]||[];for(var i=0;i<File[cn].length;i++){Ser["HostInfo"][i]=Ser["HostInfo"][i]||File[cn][i]["buffer"].unserializeSer();}
r["HostInfo"]=(function(){var d=[];for(var index=0;index<Ser["HostInfo"].length;index++){var ser=Ser["HostInfo"][index];for(var i=0;i<ser.length;i++){if(ser[i]&&ser[i].length){var br=new BufferReader(ser[i]);d.push({"name":br.readUTFJava(),"pName":br.readUTFJava(),"hostAddress":br.readUTFJava(),"playersNum":br.readShortJava(),"maxPlayersNum":br.readShortJava(),"option":br.readUTFJava(),"password":br.readUTFJava(),"pid":br.readIntJava(),"state":br.readByteJava()});}}}
return d;})();return r;})();break;case"com.cyberstep.ring.data.GuildData$Summary":Data["GuildData$Summary"]=(function(){var r={};Ser["GuildData$Summary"]=Ser["GuildData$Summary"]||[];for(var i=0;i<File[cn].length;i++){Ser["GuildData$Summary"][i]=Ser["GuildData$Summary"][i]||File[cn][i]["buffer"].unserializeSer();}
r["GuildData$Summary"]=(function(){var d=[];for(var index=0;index<Ser["GuildData$Summary"].length;index++){var ser=Ser["GuildData$Summary"][index];var n=0;var br=new BufferReader(ser[n++]);var name=br.readUTFJava();var icon="<img src="+'"'+"data:image/png;base64,"+ser[n++].transData("tex","png").getBase64()+'"'+"></img>";br=new BufferReader(ser[n++]);var authority=br.readBooleanJava();d.push({"name":name,"icon":icon,"authority":authority});}
return d;})();return r;})();break;case"com.cyberstep.ring.data.CommunityUserData":Data["CommunityUserData"]=(function(){var r={};Ser["CommunityUserData"]=Ser["CommunityUserData"]||[];for(var i=0;i<File[cn].length;i++){Ser["CommunityUserData"][i]=Ser["CommunityUserData"][i]||File[cn][i]["buffer"].unserializeSer();}
r["CommunityUserData"]=(function(){var d=[];var stateTitle={"0":"LOBBY","1":"GAMEROOM","2":"FIGTING"};for(var index=0;index<Ser["CommunityUserData"].length;index++){var ser=Ser["CommunityUserData"][index];var n=0;var br=new BufferReader(ser[n++]);var lastUpdate=br.readLongJava();var grade=br.readByteJava();var state=br.readByteJava();var channel=br.readUTFJava();var info=br.readUTFJava();var param=ser[n++];var friendlist=param["friendlist"]["list"];for(var i=0;i<friendlist.length;i++){if(friendlist[i]==""){friendlist.splice(i,1);i-=1;}}
param={"friendlist":brk(friendlist),"mailinfoMax":param["mailinfo"]["mailMax"],"mailinfoReceived":param["mailinfo"]["mailReceived"],"config":param["config"].join(",")};d.push({"lastUpdate":lastUpdate,"grade":grade,"state":{"value":state,"title":stateTitle},"channel":channel,"info":info,"param":[param]});}
return d;})();return r;})();break;case"com.cyberstep.ring.data.UserData":Data["UserData"]=(function(){var r={};Ser["UserData"]=Ser["UserData"]||[];for(var i=0;i<File[cn].length;i++){Ser["UserData"][i]=Ser["UserData"][i]||File[cn][i]["buffer"].unserializeSer();}
r["UserData"]=(function(){var d=[];var getBattleRecord=function(t,id){var v={};var br=new BufferReader(t);v["id"]=id;v["average"]=br.readIntJava();v["totalbattle"]=br.readIntJava();v["invidualbattlerank1"]=br.readIntJava();v["invidualbattlerank2"]=br.readIntJava();v["invidualbattlerank3"]=br.readIntJava();v["invidualbattlerank4"]=br.readIntJava();v["teambattlewon"]=br.readIntJava();v["teambattlelost"]=br.readIntJava();v["killtimes"]=br.readIntJava();v["dietimes"]=br.readIntJava();v["knocktimes"]=br.readIntJava();v["knockscore"]=br.readIntJava();v["knockedtimes"]=br.readIntJava();v["knockedscore"]=br.readIntJava();v["totalscore"]=br.readIntJava();v["singlescoremax"]=br.readIntJava();v["singlescoremin"]=br.readIntJava();v["values"]=(function(){var values=(function(){var v=[];var count=br.readShortJava();for(var i=0;i<count;i++){v[br.readByteJava()]=(function(){var a=[];var n=br.readShortJava();for(var j=0;j<n;j++){a.push(br.readShortJava());}
return a;})();}
return v;})();var v=[];for(var i=0;i<values.length;i++){v.push((values[i]||[0]).join(","));}
return brk(v);})();var prizes=(function(){var v=[];var count=br.readShortJava();for(var i=0;i<count;i++){v[br.readByteJava()]=br.readIntJava();}
return v;})();var m=["killerprize","muscleprize","cruelprize","defendprize","peaceprize","fastdieprize","goalprize","fairprize","foulprize","fsprize"];for(var i=0;i<m.length;i++){v[m[i]]=prizes[i]||0;}
return v;};var getFlags=function(t){return Array.from(new Uint8Array(t||[]).getBits()).map(function(a){return(a?true:false);});};var indexOf=function(t){for(var i=0;i<d.length;i++){if(d[i]["userID"]==t){return i;}}
return-1;};var mergeData=function(s,t){for(var n in t){if(isUndefined(s[n])||(s[n]=="")||(s.length==0)){s[n]=t[n];}}
return s;};for(var index=0;index<Ser["UserData"].length;index++){var ser=Ser["UserData"][index];var br=new BufferReader(ser[13]);var u={"guildID":(ser[8]?ser[8].getInt(4,0,false):""),"userID":ser[12],"userName":br.readUTFJava(),"points":br.readIntJava(),"level":br.readShortJava(),"useEmblem":ser[7],"useStyle":ser[1],"useHead":ser[2],"useFace":ser[3],"useBody":ser[4],"useAccs":ser[6],"useSubaccs":ser[11],"useItem":ser[5],"userSkin":(ser[9]?ser[9].getInt(1,0):""),"customize":ser[10]["customize"]||"","customize_sub":ser[10]["customize_sub"]||"","temp_currentrank":ser[10]["temp_currentrank"]||"","temp_nextrank":ser[10]["temp_nextrank"]||"","temp_partner":ser[10]["temp_partner"]||"","collection_rank":ser[10]["collection_rank"]||"","comment":ser[10]["comment"]||"","old_rank":ser[10]["old_rank"]||"","temp_ranktype":ser[10]["temp_ranktype"]||"","temp_ranks":(ser[10]["temp_ranks"]||[]).join(","),"totalrankchange":ser[10]["totalrankchange"]||"","temp_timezone":ser[10]["temp_timezone"]||"","temp_ct":(ser[10]["temp_ct"]?ser[10]["temp_ct"]:""),"temp_last_login_time":(ser[10]["temp_last_login_time"]?ser[10]["temp_last_login_time"]:""),"loginstamp_state":ser[10]["temp_play_record_set"]||"","temp_isprivate":(ser[10]["temp_isprivate"]?true:false),"baggagestyles":(function(){var v="";if(ser[10]&&ser[10]["baggage"]&&ser[10]["baggage"]["styles"]&&ser[10]["baggage"]["styles"].length){v=brk(ser[10]["baggage"]["styles"]);}
return v;})(),"baggageheads":(function(){var v="";if(ser[10]&&ser[10]["baggage"]&&ser[10]["baggage"]["heads"]&&ser[10]["baggage"]["heads"].length){v=brk(ser[10]["baggage"]["heads"]);}
return v;})(),"baggageeyes":(function(){var v="";if(ser[10]&&ser[10]["baggage"]&&ser[10]["baggage"]["eyes"]&&ser[10]["baggage"]["eyes"].length){v=brk(ser[10]["baggage"]["eyes"]);}
return v;})(),"baggagenoses":(function(){var v="";if(ser[10]&&ser[10]["baggage"]&&ser[10]["baggage"]["noses"]&&ser[10]["baggage"]["noses"].length){v=brk(ser[10]["baggage"]["noses"]);}
return v;})(),"baggagemouths":(function(){var v="";if(ser[10]&&ser[10]["baggage"]&&ser[10]["baggage"]["mouths"]&&ser[10]["baggage"]["mouths"].length){v=brk(ser[10]["baggage"]["mouths"]);}
return v;})(),"baggagebodies":(function(){var v="";if(ser[10]&&ser[10]["baggage"]&&ser[10]["baggage"]["bodies"]&&ser[10]["baggage"]["bodies"].length){v=brk(ser[10]["baggage"]["bodies"]);}
return v;})(),"baggageitems":(function(){var v=[];if(ser[10]&&ser[10]["baggage"]&&ser[10]["baggage"]["items"]&&ser[10]["baggage"]["items"].length){for(var i=0;i<ser[10]["baggage"]["items"].length;i++){v.push({"id":ser[10]["baggage"]["items"][i]["id"],"num":ser[10]["baggage"]["items"][i]["num"]});}}
return v;})(),"baggageaccs":(function(){var v="";if(ser[10]&&ser[10]["baggage"]&&ser[10]["baggage"]["accs"]&&ser[10]["baggage"]["accs"].length){v=brk(ser[10]["baggage"]["accs"]);}
return v;})(),"baggagesubaccs":(function(){var v="";if(ser[10]&&ser[10]["baggage"]&&ser[10]["baggage"]["subaccs"]&&ser[10]["baggage"]["subaccs"].length){v=brk(ser[10]["baggage"]["subaccs"]);}
return v;})(),"baggageemblems":(function(){var v="";if(ser[10]&&ser[10]["baggage"]&&ser[10]["baggage"]["emblems"]&&ser[10]["baggage"]["emblems"].length){v=brk(ser[10]["baggage"]["emblems"]);}
return v;})(),"baggagecoupons":(function(){var v=[];if(ser[10]&&ser[10]["baggage"]&&ser[10]["baggage"]["coupons"]&&ser[10]["baggage"]["coupons"]["couponList"]&&ser[10]["baggage"]["coupons"]["couponList"].length){for(var i=0;i<ser[10]["baggage"]["coupons"]["couponList"].length;i++){v.push({"id":ser[10]["baggage"]["coupons"]["couponList"][i]["id"],"num":ser[10]["baggage"]["coupons"]["couponList"][i]["num"],"limit":ser[10]["baggage"]["coupons"]["couponList"][i]["limit"]});}}
return v;})(),"baggagecustomizecard":(function(){var v=[];if(ser[10]&&ser[10]["baggage"]&&ser[10]["baggage"]["customizecard"]){for(var n in ser[10]["baggage"]["customizecard"]){v.push({"id":ser[10]["baggage"]["customizecard"][n]["id"],"num":ser[10]["baggage"]["customizecard"][n]["num"]});}}
return v;})(),"baggagecustomizeeffect":(function(){var v=[];if(ser[10]&&ser[10]["baggage"]&&ser[10]["baggage"]["customizeeffect"]){for(var n in ser[10]["baggage"]["customizeeffect"]){v.push({"id":n,"cardid":ser[10]["baggage"]["customizeeffect"][n]["cardid"],"effectid":ser[10]["baggage"]["customizeeffect"][n]["effectid"]});}}
return v;})(),"baggagecustomizeslot":(function(){var v=[];if(ser[10]&&ser[10]["baggage"]&&ser[10]["baggage"]["customizeslot"]){for(var n in ser[10]["baggage"]["customizeslot"]){v.push({"id":n,"availSlot":ser[10]["baggage"]["customizeslot"][n]["availSlot"],"noSelect":ser[10]["baggage"]["customizeslot"][n]["noSelect"],"selectSlot":ser[10]["baggage"]["customizeslot"][n]["selectSlot"],"ced":(function(){var c=[];for(var i=0;i<ser[10]["baggage"]["customizeslot"][n]["ced"].length;i++){if(ser[10]["baggage"]["customizeslot"][n]["ced"][i]){c.push({"cardid":ser[10]["baggage"]["customizeslot"][n]["ced"][i]["cardid"]||"","effectid":ser[10]["baggage"]["customizeslot"][n]["ced"][i]["effectid"]||""});}}
return c;})(),"ced4excustom":(function(){var c=[];for(var i=0;i<ser[10]["baggage"]["customizeslot"][n]["ced4excustom"].length;i++){if(ser[10]["baggage"]["customizeslot"][n]["ced4excustom"][i]){c.push({"cardid":ser[10]["baggage"]["customizeslot"][n]["ced4excustom"][i]["cardid"]||"","effectid":ser[10]["baggage"]["customizeslot"][n]["ced4excustom"][i]["effectid"]||""});}}
return c;})()});}}
return v;})(),"baggagefurnitures":(function(){var v=[];if(ser[10]&&ser[10]["baggage"]&&ser[10]["baggage"]["furnitures"]&&ser[10]["baggage"]["furnitures"].length){for(var i=0;i<ser[10]["baggage"]["furnitures"].length;i++){v.push({"id":ser[10]["baggage"]["furnitures"][i]["id"],"num":ser[10]["baggage"]["furnitures"][i]["num"]});}}
return v;})(),"baggageetc":(function(){var v="";if(ser[10]&&ser[10]["baggage"]&&ser[10]["baggage"]["etc"]&&ser[10]["baggage"]["etc"].length){v=brk(ser[10]["baggage"]["etc"]);}
return v;})(),"baggageconsumableconsumeTable":(function(){var v=[];if(ser[10]&&ser[10]["baggage"]&&ser[10]["baggage"]["baggageconsumable"]&&ser[10]["baggage"]["baggageconsumable"]["consumeTable"]){for(var n in ser[10]["baggage"]["baggageconsumable"]["consumeTable"]){v.push({"consumeID":n,"consumeValue":ser[10]["baggage"]["baggageconsumable"]["consumeTable"][n]["value"]});}}
return v;})(),"baggageconsumabletrialList":(function(){var v="";if(ser[10]&&ser[10]["baggage"]&&ser[10]["baggage"]["baggageconsumable"]&&ser[10]["baggage"]["baggageconsumable"]["trialList"]&&ser[10]["baggage"]["baggageconsumable"]["trialList"].length){v=brk(ser[10]["baggage"]["baggageconsumable"]["trialList"]);}
return v;})(),"temp_event_info_bag":(function(){var v=[];if(ser[10]&&ser[10]["temp_event_info_bag"]){for(var n in ser[10]["temp_event_info_bag"]){var br=new BufferReader(ser[10]["temp_event_info_bag"][n]);v.push({"index":Number(n),"startDate":br.readIntJava().toString().padStart(4,"0")+"/"+br.readByteJava().toString().padStart(2,"0")+"/"+br.readByteJava().toString().padStart(2,"0")+" "+br.readByteJava().toString().padStart(2,"0")+":"+br.readByteJava().toString().padStart(2,"0"),"d_o_w":br.readByteJava(),"endDate":br.readIntJava().toString().padStart(4,"0")+"/"+br.readByteJava().toString().padStart(2,"0")+"/"+br.readByteJava().toString().padStart(2,"0")+" "+br.readByteJava().toString().padStart(2,"0")+":"+br.readByteJava().toString().padStart(2,"0"),"goal":br.readByteJava(),"goalPoint":br.readIntJava(),"valueDiff":br.readLongJava(),"goalValue":br.readLongJava(),"isContinue":br.readBooleanJava(),"finish":br.readBooleanJava(),"success":br.readBooleanJava(),"present":br.readUTFJava(),"play":br.readUTFJava(),"eachDay":br.readBooleanJava()});}}
return v;})(),"expiration_goodsids":ser[10]["expiration_goodsids"]||"","shortcut":(function(){var v="";if(ser[10]&&ser[10]["shortcut"]&&ser[10]["shortcut"].length){v=brk(ser[10]["shortcut"]);}
return v;})(),"treasurebox":(function(){var v=[];if(ser[10]&&ser[10]["treasurebox"]&&ser[10]["treasurebox"]["baggage"]){for(var n in ser[10]["treasurebox"]["baggage"]){v.push({"id":ser[10]["treasurebox"]["baggage"][n]["id"],"num":ser[10]["treasurebox"]["baggage"][n]["num"],"time":ser[10]["treasurebox"]["baggage"][n]["time"],"exp":ser[10]["treasurebox"]["baggage"][n]["exp"],"prize":ser[10]["treasurebox"]["baggage"][n]["prize"]});}}
return v;})(),"presentbox":(function(){var v=[];if(ser[10]&&ser[10]["presentbox"]&&ser[10]["presentbox"]["list"]&&ser[10]["presentbox"]["list"].length){for(var i=0;i<ser[10]["presentbox"]["list"].length;i++){v.push({"senderID":ser[10]["presentbox"]["list"][i]["senderID"],"senderName":ser[10]["presentbox"]["list"][i]["senderName"],"info":ser[10]["presentbox"]["list"][i]["info"],"args":(ser[10]["presentbox"]["list"][i]["args"]||[]).join(","),"price":ser[10]["presentbox"]["list"][i]["price"],"islimitdate":ser[10]["presentbox"]["list"][i]["islimitdate"],"message":ser[10]["presentbox"]["list"][i]["message"],"sendDate":ser[10]["presentbox"]["list"][i]["sendDate"],"senddate":ser[10]["presentbox"]["list"][i]["senddate"],"strSendDate":ser[10]["presentbox"]["list"][i]["strSendDate"],"receiveDate":ser[10]["presentbox"]["list"][i]["receiveDate"],"type":ser[10]["presentbox"]["list"][i]["type"]});}}
return v;})(),"collection":(function(){var v=[];if(ser[10]&&ser[10]["collection"]){for(var n in ser[10]["collection"]){v.push({"id":n,"flags":brk(getFlags(ser[10]["collection"][n]))});}}
return v;})(),"loginstamp":(function(){var v=[];if(ser[10]&&ser[10]["loginstamp"]&&ser[10]["loginstamp"]["baggage"]){for(var n in ser[10]["loginstamp"]["baggage"]){v.push({"id":n,"logindays":ser[10]["loginstamp"]["baggage"][n]["logindays"],"totaltime":ser[10]["loginstamp"]["baggage"][n]["totaltime"],"update_date":ser[10]["loginstamp"]["baggage"][n]["update_date"],"presentCheck":brk(getFlags(ser[10]["loginstamp"]["baggage"][n]["presentCheck"]))});}}
return v;})(),"temp_equip_record":(function(){var v=[];if(ser[10]&&ser[10]["temp_equip_record"]){for(var n in ser[10]["temp_equip_record"]){v.push({"id":ser[10]["temp_equip_record"][n]["id"],"singleBattleTimes":ser[10]["temp_equip_record"][n]["singleBattleTimes"],"singleWinTimes":ser[10]["temp_equip_record"][n]["singleWinTimes"],"teamBattleTimes":ser[10]["temp_equip_record"][n]["teamBattleTimes"],"teamWinTimes":ser[10]["temp_equip_record"][n]["teamWinTimes"],"m2mBattleTimes":ser[10]["temp_equip_record"][n]["m2mBattleTimes"],"m2mWinTimes":ser[10]["temp_equip_record"][n]["m2mWinTimes"]});}}
return v;})(),"blacklist":(function(){var v=[];if(ser[10]&&ser[10]["blacklist"]&&ser[10]["blacklist"]["list"]&&ser[10]["blacklist"]["list"].length){for(var i=0;i<ser[10]["blacklist"]["list"].length;i++){v.push({"userId":ser[10]["blacklist"]["list"][i]["userId"],"userName":ser[10]["blacklist"]["list"][i]["userName"],"strAddedDate":ser[10]["blacklist"]["list"][i]["strAddedDate"],"msAddedDate":ser[10]["blacklist"]["list"][i]["msAddedDate"]});}}
return v;})(),"skinslot":brk(getFlags(ser[10]["skinslot"])),"avators":(function(){var v=[];if(ser[10]&&ser[10]["avators"]&&ser[10]["avators"].length){for(var i=0;i<ser[10]["avators"].length;i++){v.push({"userMotion":ser[10]["avators"][i]["userMotion"],"userSkin":ser[10]["avators"][i]["userSkin"],"emblem":ser[10]["avators"][i]["emblem"],"style":ser[10]["avators"][i]["style"],"head":ser[10]["avators"][i]["head"],"face":ser[10]["avators"][i]["face"],"body":ser[10]["avators"][i]["body"],"accessory":ser[10]["avators"][i]["accessory"],"subAccessory":ser[10]["avators"][i]["subAccessory"],"equipment":ser[10]["avators"][i]["equipment"]});}}
return v;})(),"bookmark":(function(){var v="";if(ser[10]&&ser[10]["bookmark"]&&ser[10]["bookmark"]["accsbookmark"]&&ser[10]["bookmark"]["accsbookmark"].length){v=brk(ser[10]["bookmark"]["accsbookmark"]);}
return v;})(),"favorite":(function(){var v="";if(ser[10]&&ser[10]["favorite"]&&ser[10]["favorite"].length){v=brk(ser[10]["favorite"]);}
return v;})(),"mapeditor":brk(ser[10]["mapeditor"]),"chatrestriction":(function(){var v=[];if(ser[10]&&ser[10]["chatrestriction"]){v.push({"correctPenalty":ser[10]["chatrestriction"]["correctPenalty"],"lastChatKind":ser[10]["chatrestriction"]["lastChatKind"],"lastMessage":ser[10]["chatrestriction"]["lastMessage"],"timeChatResctriction":ser[10]["chatrestriction"]["timeChatResctriction"],"repeatUse":ser[10]["chatrestriction"]["repeatUse"],"repeatCount":ser[10]["chatrestriction"]["repeatCount"],"repeatHistory":ser[10]["chatrestriction"]["repeatHistory"],"repeatPenalty":ser[10]["chatrestriction"]["repeatPenalty"],"repeatMessage":ser[10]["chatrestriction"]["repeatMessage"],"rushUse":ser[10]["chatrestriction"]["rushUse"],"rushCount":ser[10]["chatrestriction"]["rushCount"],"rushTime":ser[10]["chatrestriction"]["rushTime"],"rushHistory":brk(ser[10]["chatrestriction"]["rushHistory"].map(function(a){return a["value"];})),"rushPenalty":ser[10]["chatrestriction"]["rushPenalty"],"rushMessage":ser[10]["chatrestriction"]["rushMessage"],"notifyChatResctriction":ser[10]["chatrestriction"]["notifyChatResctriction"],"notifyMessage":ser[10]["chatrestriction"]["notifyMessage"],"test":ser[10]["chatrestriction"]["test"]});}
return v;})(),"temp_divorce":(ser[10]["temp_divorce"]?true:false),"temp_emblems":ser[10]["temp_emblems"]||"","avator":ser[10]["avator"]||"","randomcharacter":ser[10]["randomcharacter"]||"","roominvite":ser[10]["roominvite"]||"","temp_unionwars_member":(ser[10]["temp_unionwars_member"]||[]).join(","),"battlerecord":(function(){var v=[];if(ser[10]&&ser[10]["battlerecord_total"]){v.push(getBattleRecord(ser[10]["battlerecord_total"],"total"));}
if(ser[10]&&ser[10]["battlerecord_style"]){for(var n in ser[10]["battlerecord_style"]){v.push(getBattleRecord(ser[10]["battlerecord_style"][n],n));}}
return v;})(),"ratematching_data":(function(){var v=[];if(ser[10]&&ser[10]["ratematching_data"]){for(var n in ser[10]["ratematching_data"]){v.push({"id":n,"value":ser[10]["ratematching_data"][n].join(",")});}}
return v;})(),"history_rate":(ser[10]["history_rate"]||[]).join(","),"history_tr":(ser[10]["history_tr"]||[]).join(","),"recent_record":(function(){var v=[];if(ser[10]&&ser[10]["recent_record"]&&ser[10]["recent_record"].length){for(var i=0;i<ser[10]["recent_record"].length;i++){v.push({"singleBattleTimes":ser[10]["recent_record"][i]["singleBattleTimes"],"singleWonTimes":ser[10]["recent_record"][i]["singleWonTimes"],"teamBattleTimes":ser[10]["recent_record"][i]["teamBattleTimes"],"teamWonTimes":ser[10]["recent_record"][i]["teamWonTimes"],"ym":((ser[10]["recent_record"][i]["ym"]&0xFFF0)>>4).toString().padStart(4,"0")+"/"+(ser[10]["recent_record"][i]["ym"]&0x000F).toString().padStart(2,"0")});}}
return v;})(),"temp_play_record_set":ser[10]["temp_play_record_set"]||"","ch_clear":brk(getFlags(ser[10]["ch_clear"])),"hunter_data":(function(){var v=[];if(ser[10]&&ser[10]["hunter_data"]&&ser[10]["hunter_data"]["counter"]){for(var n in ser[10]["hunter_data"]["counter"]){v.push({"id":n,"value":ser[10]["hunter_data"]["counter"][n].getInt(4,0,false)});}}
return v;})(),"dailyquest":(function(){var v=[];if(ser[10]&&ser[10]["dailyquest"]){v.push({"questID":ser[10]["dailyquest"]["questID"],"date":ser[10]["dailyquest"]["time"],"goal":ser[10]["dailyquest"]["goal"],"isBefore":ser[10]["dailyquest"]["isBefore"],"isComplete":ser[10]["dailyquest"]["isComplete"],"prize":ser[10]["dailyquest"]["prize"]});}
return v;})(),"renewal_quest":(function(){var v=[];if(ser[10]&&ser[10]["renewal_quest"]){for(var n in ser[10]["renewal_quest"]){v.push({"id":n,"value":(ser[10]["renewal_quest"][n]?ser[10]["renewal_quest"][n]["value"]:0)});}}
return v;})(),"missionmissionData":"","missionemploySum":(function(){var v="";if(ser[10]&&ser[10]["mission"]&&ser[10]["mission"]["employSum"]){v=ser[10]["mission"]["employSum"];}
return v;})(),"missionmissionnpcData":(function(){var v=[];if(ser[10]&&ser[10]["mission"]&&ser[10]["mission"]["missionnpcData"]&&ser[10]["mission"]["missionnpcData"].length){for(var i=0;i<ser[10]["mission"]["missionnpcData"].length;i++){v.push({"npcId":ser[10]["mission"]["missionnpcData"][i]["id"],"name":ser[10]["mission"]["missionnpcData"][i]["name"],"stylename":ser[10]["mission"]["missionnpcData"][i]["stylename"],"headname":ser[10]["mission"]["missionnpcData"][i]["headname"],"bodyname":ser[10]["mission"]["missionnpcData"][i]["bodyname"],"facename":ser[10]["mission"]["missionnpcData"][i]["facename"],"skin":ser[10]["mission"]["missionnpcData"][i]["skin"],"playerdata":ser[10]["mission"]["missionnpcData"][i]["playerdata"],"level":ser[10]["mission"]["missionnpcData"][i]["level"],"ability":ser[10]["mission"]["missionnpcData"][i]["ability"].join(","),"value":ser[10]["mission"]["missionnpcData"][i]["value"],"nextExp":ser[10]["mission"]["missionnpcData"][i]["nextExp"],"clearsum":ser[10]["mission"]["missionnpcData"][i]["clearsum"],"expsum":ser[10]["mission"]["missionnpcData"][i]["expsum"]});}}
return v;})(),"missionprogressData":(function(){var v=[];if(ser[10]&&ser[10]["mission"]&&ser[10]["mission"]["missionprogressData"]&&ser[10]["mission"]["missionprogressData"].length){for(var i=0;i<ser[10]["mission"]["missionprogressData"].length;i++){v.push({"npcID":ser[10]["mission"]["missionprogressData"][i]["npcID"],"missionID":ser[10]["mission"]["missionprogressData"][i]["missionID"],"accsid":ser[10]["mission"]["missionprogressData"][i]["accsid"],"itemid":ser[10]["mission"]["missionprogressData"][i]["itemid"],"starttime":ser[10]["mission"]["missionprogressData"][i]["starttime"],"mtime":ser[10]["mission"]["missionprogressData"][i]["mtime"],"isSuccess":ser[10]["mission"]["missionprogressData"][i]["isSuccess"],"end":ser[10]["mission"]["missionprogressData"][i]["end"]});}}
return v;})(),"missionclearMissionList":(function(){var v=[];if(ser[10]&&ser[10]["mission"]&&ser[10]["mission"]["clearMissionList"]){for(var n in ser[10]["mission"]["clearMissionList"]){v.push({"id":n,"value":ser[10]["mission"]["clearMissionList"][n].getInt(4,0,false)});}}
return v;})(),"temp_mission_progress":(function(){var v=[];if(ser[10]&&ser[10]["temp_mission_progress"]&&ser[10]["temp_mission_progress"].length){for(var i=0;i<ser[10]["temp_mission_progress"].length;i++){v.push({"npcID":ser[10]["temp_mission_progress"][i]["npcID"],"missionID":ser[10]["temp_mission_progress"][i]["missionID"],"accsid":ser[10]["temp_mission_progress"][i]["accsid"],"itemid":ser[10]["temp_mission_progress"][i]["itemid"],"starttime":ser[10]["temp_mission_progress"][i]["starttime"],"mtime":ser[10]["temp_mission_progress"][i]["mtime"],"isSuccess":ser[10]["temp_mission_progress"][i]["isSuccess"],"end":ser[10]["temp_mission_progress"][i]["end"]});}}
return v;})(),};var l=indexOf(u["userID"]);if(l!=-1){d[l]=mergeData(d[l],u);}
else{d.push(u);}}
return d;})();r["UserDataPreview"]=(function(){var d=[];return d;})();return r;})();break;case"com.cyberstep.ring.sys.UserList":Data["UserList"]=(function(){var r={};Ser["UserList"]=Ser["UserList"]||[];for(var i=0;i<File[cn].length;i++){Ser["UserList"][i]=Ser["UserList"][i]||File[cn][i]["buffer"].unserializeSer();}
r["UserList"]=(function(){var d=[];var stateTitle={"0":"STATE_LOBBY","1":"STATE_GAMEROOM","2":"STATE_FIGHT","3":"STATE_DUNGEON","4":"STATE_SURVIVAL","5":"STATE_SURVIVAL_FIGHT","6":"STATE_CHAMP","7":"STATE_CHAMP_FIGHT","8":"STATE_MYROOM","9":"STATE_ROYALRUMBLE","10":"STATE_DESERTISLAND","11":"STATE_SKIN","12":"STATE_SHOP","13":"STATE_REPLAY","14":"STATE_ARENA","127":"STATE_LOGOUT"};for(var index=0;index<Ser["UserList"].length;index++){var ser=Ser["UserList"][index];var br=new BufferReader(ser);var version=br.readIntJava();var serverLoad=br.readByteJava();var isDiff=br.readBooleanJava();var infoList=(function(){var v=[];var count=br.readShortJava();for(var i=0;i<count;i++){v.push({"name":br.readUTFJava(),"userID":br.readUTFJava(),"state":{"value":br.readByteJava(),"title":stateTitle},"grade":br.readByteJava(),"invite":br.readByteJava(),"exeType":br.readByteJava(),"rate":br.readShortJava()});}
return v;})();d.push({"version":version,"serverLoad":serverLoad,"isDiff":isDiff,"infoList":infoList});}
return d;})();return r;})();break;case"com.cyberstep.ring.sys.room.GameRoomEntryInfoBag":Data["GameRoomEntryInfoBag"]=(function(){var r={};Ser["GameRoomEntryInfoBag"]=Ser["GameRoomEntryInfoBag"]||[];for(var i=0;i<File[cn].length;i++){Ser["GameRoomEntryInfoBag"][i]=Ser["GameRoomEntryInfoBag"][i]||File[cn][i]["buffer"].unserializeSer();}
r["GameRoomEntryInfoBag"]=(function(){var d=[];var tour=["team_supermanmatch","TeamTagMatch","amped_mantoman","amped_checkmate","team_kingmatch","amped_deathmatch","team_deathmatch","amped_dogfight","team_dogfight","amped_sportsmatch","team_sportsmatch","practice","tutorial","machine_temple","amped_challenge","amped_challenge2","amped_challenge3","achallenge_dragon","aslaughter_1","amped_survival","team_survival","mission_challenge_e","mission_challenge_n","mission_challenge_h","mission_challenge2_e","mission_challenge2_n","mission_challenge2_h","factory_des","ruins_challenge","ruins_ex_challenge","shared_deathmatch","shared_deathmatch_noitem","ninja_kurumi","climber_kurumi","rosetta_random","hlw2009_challenge","extreme_challenge","jungle_challenge","timeattack_challenge_gunman","challenge_gunman_ex","timeattack_challenge_cleaner_maze","zombie_challenge","zombie_challenge_ex","amped_royalrumble","amped_colosseo","tutorial_renewal","whack_mole_pump_challenge","hlw2011_challenge","amped_sp_dogfight","team_sp_dogfight","team_deathmatch_epic","team_deathmatch_rank","team_deathmatch_classic","raid_challenge","omusa_factory","amped_desertisland","team_royalrumble","zombie_challenge2","hunter_random","nightmare_challenge","amped_bot_deathmatch","team_bot_deathmatch","destroso_challenge","ruins_return_challenge","zombie_train_challenge","destroso_challenge2","hlw2013_challenge","challenge_running","challenge_running_ex","amped_arena","extreme_challenge2","defence_challenge","challenge_dodge","hlw2016_challenge","amped_quiz","xmas2017_challenge","mapedit_challenge","amped_battleground"];var tourUsable=["amped_deathmatch","team_deathmatch","amped_dogfight","team_dogfight","amped_singlematch","team_supermanmatch","amped_deathmatch12","team_deathmatch12"];var gameoption=true;var ratematching_enabled=true;for(var index=0;index<Ser["GameRoomEntryInfoBag"].length;index++){var ser=Ser["GameRoomEntryInfoBag"][index];var n=0;var br=new BufferReader(ser[n++]);var version=br.readShortJava();var isDiff=br.readBooleanJava();var infoList=(function(){var typeTitle={"0":"NORMAL","1":"TEAM","2":"CHALLENGE","3":"SURVIVAL","4":"GUILDBATTLE","5":"CHAMP"};var stateTitle={"0":"WAITING","1":"FULL","2":"PLAYING"};var v=[];var count=br.readShortJava();for(var i=0;i<count;i++){v[i]={};v[i]["roomID"]=br.readIntJava();v[i]["username"]=(function(){var a=[];var count=br.readByteJava();var count2=0;if((count&0x80)!=0){count2=(count&0x7F)<<8|br.readByteJava()&0xFF;}
count=(count2?count2:count);for(var i=0;i<count;i++){a.push(br.readUTFJava());}
return brk(a);})();v[i]["userID"]=(function(){var a=[];var count=br.readByteJava();var count2=0;if((count&0x80)!=0){count2=(count&0x7F)<<8|br.readByteJava()&0xFF;}
count=(count2?count2:count);for(var i=0;i<count;i++){a.push(br.readUTFJava());}
return brk(a);})();v[i]["entryMax"]=br.readIntJava();var b=br.readByteJava();v[i]["param_num"]=(b&0x07)+1;v[i]["param_item"]=((b&0x08)?true:false);v[i]["param_pcvan"]=((b&0x10)?true:false);v[i]["param_type"]=b>>5&0x07;v[i]["param_name"]=br.readUTFJava();v[i]["param_adduser"]=((v[i]["param_type"]==3)||(v[i]["param_type"]==5)?ser[n++]:"");v[i]["param_deluser"]=((v[i]["param_type"]==3)||(v[i]["param_type"]==5)?ser[n++]:"");v[i]["param_maxsurviveuser"]=((v[i]["param_type"]==3)||(v[i]["param_type"]==5)?ser[n++]:"");v[i]["param_maxscoreuser"]=((v[i]["param_type"]==3)||(v[i]["param_type"]==5)?ser[n++]:"");v[i]["param_guildname"]=(v[i]["param_type"]==4?br.readUTFJava():"");if((v[i]["param_type"]==3)||(v[i]["param_type"]==5)){br=new BufferReader(ser[n++]);}
v[i]["param_type"]={"value":v[i]["param_type"],"title":typeTitle};b=br.readByteJava();v[i]["state"]={"value":b>>4&0x03,"title":stateTitle};var hasPassword=((b&0x08)?true:false);v[i]["param_npc"]=((b&0x04)?true:false);v[i]["param_turbo"]=b&0x03;if(b&0x80){v[i]["param_num"]+=8;}
v[i]["param_style"]=tour[br.readByteJava()];v[i]["param_number"]=br.readShortJava();v[i]["param_password"]=(hasPassword?br.readUTFJava():"");v[i]["param_r#k2s9"]=new Uint8Array(v[i]["param_password"].length);for(var j=0;j<v[i]["param_password"].length;j++){v[i]["param_r#k2s9"][j]=v[i]["param_password"].charCodeAt(j)^0x1B;}
v[i]["param_status"]=v[i]["state"];v[i]["param_closeinvite"]=br.readBooleanJava();v[i]["param_watch"]=br.readByteJava();v[i]["param_masterGuildID"]=(v[i]["param_style"]=="team_guildbattle"?br.readIntJava():"");v[i]["param_challengerGuildID"]=(v[i]["param_style"]=="team_guildbattle"?br.readIntJava():"");v[i]["param_story_id"]=(v[i]["param_style"]=="story_challenge"?br.readByteJava():"");v[i]["param_story_mode"]=(v[i]["param_style"]=="story_challenge"?br.readByteJava():"");v[i]["param_stageindex"]=ser[n++];br=new BufferReader(ser[n++]);v[i]["param_gameoption"]=(gameoption&&(tourUsable.indexOf(v[i]["param_style"])!=-1)?br.readIntJava():"");if(br.readByteJava()==1){v[i]["param_mapeditor_names"]=ser[n++];br=new BufferReader(ser[n++]);}
else{v[i]["param_mapeditor_names"]="";}}
return v;})();var deletedID=(function(){var v=[];var count=br.readShortJava();for(var i=0;i<count;i++){v.push(br.readIntJava());}
return v;})();var matchingUserNum=(ratematching_enabled?br.readIntJava():"");d.push({"version":version,"isDiff":isDiff,"infoList":infoList,"deletedID":deletedID,"matchingUserNum":matchingUserNum});}
return d;})();return r;})();break;case"com.cyberstep.ring.sys.EntryID":Data["EntryID"]=(function(){var r=[];Ser["EntryID"]=Ser["EntryID"]||[];for(var i=0;i<File[cn].length;i++){Ser["EntryID"][i]=Ser["EntryID"][i]||File[cn][i]["buffer"].unserializeSer();}
r["EntryID"]=(function(){var d=[];for(var index=0;index<Ser["EntryID"].length;index++){var ser=Ser["EntryID"][index];var br=new BufferReader(ser);d.push({"entryID":br.readIntJava()});}
return d;})();return r;})();break;case"com.cyberstep.ring.sys.chat.ChatRoomID":Data["ChatRoomID"]=(function(){var r=[];Ser["ChatRoomID"]=Ser["ChatRoomID"]||[];for(var i=0;i<File[cn].length;i++){Ser["ChatRoomID"][i]=Ser["ChatRoomID"][i]||File[cn][i]["buffer"].unserializeSer();}
r["ChatRoomID"]=(function(){var d=[];for(var index=0;index<Ser["ChatRoomID"].length;index++){var ser=Ser["ChatRoomID"][index];var br=new BufferReader(ser);d.push({"chatRoomID":br.readIntJava(),"ChatRoomTitle":br.readUTFJava()});}
return d;})();return r;})();break;case"com.cyberstep.ring.sys.TotalRank":Data["TotalRank"]=(function(){var r=[];Ser["TotalRank"]=Ser["TotalRank"]||[];for(var i=0;i<File[cn].length;i++){Ser["TotalRank"][i]=Ser["TotalRank"][i]||File[cn][i]["buffer"].unserializeSer();}
r["TotalRank"]=(function(){var d=[];for(var index=0;index<Ser["TotalRank"].length;index++){var ser=Ser["TotalRank"][index];var br=new BufferReader(ser);d.push({"total":br.readIntJava(),"rank":br.readIntJava(),"score":br.readIntJava(),"name":br.readUTFJava(),"userID":br.readUTFJava(),"index":br.readIntJava()});}
return d;})();return r;})();break;case"Resource":Icon=(function(){var r=Icon;var tab=File["Resource"][File["Resource"].length-1]["buffer"].extractTab();var icons=[];for(var i=0;i<tab.length;i++){if(tab[i]["path"]&&tab[i]["buffer"]){var path=tab[i]["path"].replace(/-/g,"/").replace(/(.*).bmp/,'$1.tex');icons.push(path);r[path]=(function(){var u=tab[i]["buffer"];var bit=new DataView(u.buffer,28,2).getInt16(0,LittleEndian);switch(bit){case 24:return URL.createObjectURL(new Blob([u],{"type":"image/bmp"}));break;case 32:var offset=new DataView(u.buffer,10,4).getInt32(0,LittleEndian);var width=new DataView(u.buffer,18,4).getInt32(0,LittleEndian);var height=new DataView(u.buffer,22,4).getInt32(0,LittleEndian);var cvs=document.createElement("canvas");cvs.width=width;cvs.height=height;var ctx=cvs.getContext("2d");var d=ctx.getImageData(0,0,cvs.width,cvs.height);var p=offset;for(var y=height-1;y>-1;y--){for(var x=0;x<width;x++){var n=(y*width+x)*4;d.data[n+2]=u[p];d.data[n+1]=u[p+1];d.data[n]=u[p+2];d.data[n+3]=u[p+3];p+=4;}}
ctx.putImageData(d,0,0);return cvs.toDataURL("image/png");break;}})();}}
checkIcon(icons,false);return r;})();break;}}}
for(var n in Component){var c=(function(){for(var i=0;i<Component[n]["list"].length;i++){if(!(File[Component[n]["list"][i]]&&File[Component[n]["list"][i]].length)){return false;}}
return true;})();if(c){Change[n]=(function(){if(Component[n]["needResource"]&&File["Resource"]&&File["Resource"].length){return true;}
for(var i=0;i<Component[n]["list"].length;i++){if(!e[Component[n]["list"][i]]){return false;}}
return true;})()||(needRefresh&&Translate[n]);}
else{Change[n]=false;}}
var lostIconList=getLostIconList();if(lostIconList.length){console.info(lostIconList.join("\r\n"));}
isValid=true;};this.GetFileList=function(){var r=[];for(var n in File){for(var i=0;i<File[n].length;i++){if(File[n][i]["buffer"].length){r.push({"name":File[n][i]["name"],"title":n});}}}
return r;};this.GetList=function(n){var r=[];for(var i=0;i<List[n].length;i++){if(Data[n][List[n][i]]&&Data[n][List[n][i]].length){r.push({"name":List[n][i],"count":Data[n][List[n][i]].length});}}
return r;};this.GetTable=function(n,c){var reset=(arguments.length>2?arguments[2]:false);Table[n]=Table[n]||{};Table[n][c]=(reset?undefined:Table[n][c]);Table[n][c]=Table[n][c]||getTable(n,c);return Table[n][c];};this.GetQuiz=function(){var randomAarray=function(n,c){c=(c<n?c:n);var m=[];for(var i=0;i<n;i++){m.push(i);}
var v=[];for(var i=0;i<c;i++){var j=(Math.random()*m.length)|0;v.push(m[j]);m.splice(j,1);}
return v;};var list=[];var a=randomAarray(Data["Dict"]["QuizSimu"]["list"].length,20);for(var i=0;i<a.length;i++){var quiz=Data["Dict"]["QuizSimu"]["list"][a[i]];var item={};item["level"]=quiz["level"];item["question"]=quiz["question"];item["options"]=[];var q=randomAarray(4,4);for(var j=0;j<q.length;j++){item["options"].push(quiz["options"][q[j]]);if(q[j]+1==quiz["answer"]){item["answer"]=j+1;};}
list.push(item);}
return{"time":Data["Dict"]["QuizSimu"]["time"],"list":list};};this.GetSetList=function(){var r=[];for(var i=0;i<List["NewSetting"].length;i++){if(Data["NewSetting"][List["NewSetting"][i]]&&Data["NewSetting"][List["NewSetting"][i]].length){for(var n in Data["NewSetting"][List["NewSetting"][i]][0]){if(n=="setidx"){r.push({"name":List["NewSetting"][i],"count":Data["NewSetting"][List["NewSetting"][i]].length});}}}}
return r;};this.GetSet=function(c){Set[c]=Set[c]||getSet(c);return Set[c];};this.GetIcon=function(n){return Icon[n]||Icon[arguments[1]]||(function(w,h){var img=new Image();img.width=w;img.height=h;var cvs=document.createElement("canvas");cvs.width=img.width;cvs.height=img.height;return cvs.toDataURL("image/png");})(32,32);};this.AddFiles=function(fl){var v=[];for(var i=0;i<fl.length;i++){var l=fl[i]["name"].lastIndexOf(".");var ext=(l!=-1?fl[i]["name"].slice(l+1):"ser");var buffer=fl[i]["buffer"];if(!buffer.length){return;}
switch(ext){case"zip":case"zar":var files=(function(){var r=[];var p=0;var t=0;var f;var setFile=function(){if(f){var b=(function(){switch(f["method"]){case 0:return f["compressedBuffer"];break;case 8:return f["compressedBuffer"].inflate();break;}})();r.push({"name":f["path"],"buffer":b});f=undefined;}};var readInt=function(n){var r=buffer.getInt(n,p,true);p+=n;return r;};var readText=function(n){var r=buffer.getText(p,n);p+=n;return r;};var readHeader=function(){while(p+3<buffer.length){if((buffer[p]==0x50)&&(buffer[p+1]==0x4B)){var v=readInt(4);switch(v){case 0x04034B50:case 0x08074B50:return v;break;}
p-=2;}
else{p+=1;}}
return 0;};var readDateTime=function(){var dos=readInt(4);if(dos){return new Date().fromDos(dos);}};var readCRC32=function(){return new Uint8Array(4).setInt32(readInt(4),0,false).getHex();};var readExtra=function(n){var r=[];var e=p+n;while(p<e){var m=readInt(2);switch(m){case 0x7075:var size=readInt(2);var version=readInt(1);var crc32=readInt(4);var path=readText(size-5);r["path"]=path;break;case 0x6375:var size=readInt(2);var version=readInt(1);var crc32=readInt(4);var comment=readText(size-5);r["comment"]=comment;break;default:p=e;break;}}
return r;};while(true){var header=readHeader();switch(header){case 0x04034B50:var eVersion=readInt(2);var flag=readInt(2);var method=readInt(2);var datetime=readDateTime();var crc32=readCRC32();var cSize=readInt(4);var uSize=readInt(4);var nLength=readInt(2);var eLength=readInt(2);var path=readText(nLength);var extra=readExtra(eLength);if(flag>>3&1){t=p;}
setFile();f={"path":path,"compressedBuffer":buffer.slice(p,p+cSize),"datetime":datetime,"crc32":crc32,"method":method};p+=cSize;break;case 0x08074B50:var crc32=readCRC32();var cSize=readInt(4);var uSize=readInt(4);if(t){f=f||{};f["compressedBuffer"]=buffer.slice(t,t+cSize);f["crc32"]=crc32;t=0;}
break;}
if(header==0){setFile();break;}}
return r;})();for(var j=0;j<files.length;j++){v.push(files[j]);}
break;case"ser":case"tab":v.push(fl[i]);break;}}
addFiles(v);};this.Support=function(n){var list=(Component[n]||{})["list"]||[];if(list.length){for(var i=0;i<list.length;i++){if(!(File[list[i]]&&File[list[i]].length)){return false;}}
switch(n){case"QuizSimulator":if(!Data["Dict"]["QuizSimu"]["list"].length){return false;}
break;}
return true;}
return false;};this.ResetChange=function(n){var r={};for(var n in Change){if(Change[n]){r[n]=true;Change[n]=false;}}
return r;};Object.defineProperty(this,"IsValid",{"get":function(){return isValid;}});}</script><script type="text/javascript">"use strict";var Color={"fontColor":"black","titleSwitch":"gray","cellTitle":"cyan"};var Data=new Zar();var Load={};var Catagory="";var Catalog="";var AnimeTarget=[];var CoverList=["/.tex","/icon/card/icon_custom.tex","/icon/enchant/rank1.tex","/icon/enchant/rank2.tex","/icon/enchant/rank3.tex","/icon/enchant/rank4.tex","/icon/enchant/rank5.tex","/icon/enchant/rank6.tex","/icon/enchant/rank7.tex","/icon/enchant/rank8.tex","/icon/enchant/rank9.tex","/icon/enchant/rank10.tex","/icon/enchant/rank11.tex","/icon/enchant/rank12.tex","/icon/enchant/rank13.tex","/icon/enchant/rank14.tex","/icon/enchant/rank15.tex","/icon/enchant/random.tex","/icon/etc/icon_plusone.tex","/icon/etc/icon_pcvan.tex","/icon/etc/icon_frame.tex","/icon/etc/free.tex","/icon/etc/fixedcharges.tex","/icon/seal.tex","/icon/get.tex"];var IconSpace="/icon/space.tex";var Quiz=[];var Timer=0;var LoadCount=0;var Key={"Alt":false,"Control":false,"Shift":true};var Status=(function(){var m={"ShowResult":{"type":"config","defaultValue":true},"ShowExtend":{"type":"config","defaultValue":false},"SetInput":{"type":"config","defaultValue":false},"Tool":{"type":"select"},"NewSettingViewerList":{"type":"select"},"DictViewerList":{"type":"select"},"ServerListViewerList":{"type":"select"},"Cover":{"type":"number","defaultValue":0},"Multiple":{"type":"liststring","defaultValue":""},"Input":{"type":"file","maxSize":50*1024*1024},"InputBase":{"type":"base","maxSize":50*1024*1024},"InputLog":{"type":"log","maxSize":50*1024*1024}};for(var n in m){switch(m[n]["type"]){case"config":case"number":m[n]["value"]=m[n]["defaultValue"];break;case"select":m[n]["defaultValue"]=getSelected(m[n]["type"]+n);m[n]["value"]=m[n]["defaultValue"];break;case"liststring":m[n]["value"]=[];break;case"file":case"base":case"log":m[n]["maxSize"]=m[n]["maxSize"]||0;m[n]["value"]=[];break;}
m[n]["string"]="";}
return m;})();window.requestAnimationFrame(DoAnime);function SetStatus(n,v){if(Status[n]){switch(Status[n]["type"]){case"config":case"select":case"number":if(!isUndefined(v)){Status[n]["value"]=v;}
Status[n]["string"]=(Status[n]["value"]==Status[n]["defaultValue"]?"":Status[n]["value"].toString());UpdateStatus();return true;break;case"liststring":if(!isUndefined(v)){Status[n]["value"]=v;}
Status[n]["string"]=Status[n]["value"].join("_");UpdateStatus();return true;break;case"file":case"base":case"log":if(v.length){if(Status[n]["type"]=="file"){for(var k=0;k<v.length;k++){Status[n]["value"].push(v[k]);}}
else{Status[n]["value"]=v;}
var a=[];for(var k=0;k<Status[n]["value"].length;k++){if(!Status[n]["value"][k].endsWith(":")){a.push(Status[n]["value"][k]);}}
Status[n]["string"]=a.join(";");}
UpdateStatus();return true;}}
return false;}
function UpdateStatus(){var count={"input":0,"inputBase":0,"inputlog":0,"default":0};var text={"input":[],"inputBase":[],"inputlog":[],"default":[]};var js={"input":[],"inputBase":[],"inputlog":[],"default":[]};for(var n in Status){switch(Status[n]["type"]){case"file":if(Status[n]["value"].length){count["input"]=Status[n]["value"].length;text["input"]=(function(){var a=[];for(var i=0;i<Status[n]["value"].length;i++){var s=Status[n]["value"][i].split(":")
if(s[1]){a.push(s[0]+": ("+Status[n]["value"][i].length.toByteLength(2)+")");}
else{a.push(s[0]+": (no record)");count["input"]-=1;}}
return a;})();js["input"].push(Status[n]["string"]);}
break;case"base":if(Status[n]["value"].length){count["inputBase"]=Status[n]["value"].length;text["inputBase"]=(function(){var a=[];for(var i=0;i<Status[n]["value"].length;i++){var s=Status[n]["value"][i].split(":")
if(s[1]){a.push(s[0]+": ("+Status[n]["value"][i].length.toByteLength(2)+")");}
else{a.push(s[0]+": (no record)");count["inputBase"]-=1;}}
return a;})();js["inputBase"].push(Status[n]["string"]);}
break;case"log":if(Status[n]["value"].length){count["inputlog"]=Status[n]["value"].length;text["inputlog"]=(function(){var a=[];for(var i=0;i<Status[n]["value"].length;i++){var s=Status[n]["value"][i].split(":")
if(s[1]){a.push(s[0]+": ("+Status[n]["value"][i].length.toByteLength(2)+")");}
else{a.push(s[0]+": (no record)");count["inputlog"]-=1;}}
return a;})();js["inputlog"].push(Status[n]["string"]);}
break;default:if(Status[n]["string"]){count["default"]+=1;text["default"].push(n+": "+Status[n]["string"]);js["default"].push(n+":"+Status[n]["string"]);}
break;}}
var title=[];var data=[];for(var n in count){if(text[n].length){title.push("【"+n+"】"+count[n]+"\r\n"+text[n].join("\r\n"));}
if(count[n]){data.push(n+"="+js[n].join(";"));}}
var a=document.getElementById("aStatus");var d=new Uint8Array().fromText('"use strict";\r\nSearch = "'+"?"+data.join("&")+'";');a.href=URL.createObjectURL(new Blob([d],{"type":"text/javascript"}));a.download="search.js";title.unshift(a.download+"\r\n"+d.length.toByteLength(2));a.title=title.join("\r\n\r\n");}
function HideTool(){var s=document.getElementById("selectTool");var e=false;for(var i=0;i<s.options.length;i++){switch(s.options[i].value){case"NewSettingViewer":case"DictViewer":case"ServerListViewer":case"ShopItemViewer":case"ChatMessageViewer":case"HostInfoViewer":case"GuildData$SummaryViewer":case"CommunityUserDataViewer":case"UserDataViewer":case"UserListViewer":case"GameRoomEntryInfoBagViewer":case"EntryIDViewer":case"ChatRoomIDViewer":case"TotalRankViewer":case"QuizSimulator":case"IconCover":case"SetCollector":case"UserDataPreviewer":if(Data.Support(s.options[i].value)){s.options[i].style.display="block";e=true;}
else{s.options[i].style.display="none";}
break;}}
if(e){document.getElementById("divInfo").style.display="none";document.getElementById("divTool").style.display="block";if(s.options[s.selectedIndex].style.display=="none"){for(var i=0;i<s.options.length;i++){if(s.options[i].style.display!="none"){s.selectedIndex=i;break;}}}}
else{document.getElementById("divTool").style.display="none";SetInfo("invalid");}}
function SetInfo(e){if(isString(e)){var s=e.split("\r\n");var d=document.createElement("div");for(var i=0;i<s.length;i++){var span=document.createElement("span");span.innerText=s[i];var div=document.createElement("div");div.appendChild(span);d.appendChild(div);}
e=d;}
var div=document.getElementById("divInfo");div.innerHTML="";div.appendChild(e);div.style.display="block";}
function SetFileList(){var list=Data.GetFileList();if(list.length){var title=[];var details=document.createElement("details");details.open=(function(){var v=false;if(document.getElementById("divFileList").childNodes.length){return document.getElementById("divFileList").childNodes[0].open;}
return v;})();var summary=document.createElement("summary");summary.innerHTML=list.length+" 个文件";details.appendChild(summary);for(var i=0;i<list.length;i++){var p=document.createElement("p");p.innerHTML=list[i]["name"];p.title=list[i]["title"];p.style.margin="0px";details.appendChild(p);title.push(list[i]["name"]);}
summary.title=title.join("\r\n");document.getElementById("divFileList").innerHTML="";document.getElementById("divFileList").appendChild(details);}}
function SetTableList(){if(Data.IsValid){var list=Data.GetList("NewSetting");document.getElementById("selectNewSettingViewerList").onchange=null;document.getElementById("selectNewSettingViewerList").innerHTML="";for(var i=0;i<list.length;i++){var o=document.createElement("option");o.value=list[i]["name"];o.innerHTML=list[i]["name"]+"（"+list[i]["count"]+"）";o.title=list[i]["name"];document.getElementById("selectNewSettingViewerList").appendChild(o);}
var n="NewSettingViewerList";if(Status[n]["value"]){setSelected(Status[n]["type"]+n,Status[n]["value"]);}
document.getElementById("selectNewSettingViewerList").onchange=NewSettingChanged;}}
function SetContentList(){if(Data.IsValid){var list=Data.GetList("Dict");document.getElementById("selectDictViewerList").onchange=null;document.getElementById("selectDictViewerList").innerHTML="";for(var i=0;i<list.length;i++){var o=document.createElement("option");o.value=list[i]["name"];o.innerHTML=list[i]["name"]+"（"+list[i]["count"]+"）";o.title=list[i]["name"];document.getElementById("selectDictViewerList").appendChild(o);}
var n="DictViewerList";if(Status[n]["value"]){setSelected(Status[n]["type"]+n,Status[n]["value"]);}
document.getElementById("selectDictViewerList").onchange=DictChanged;}}
function SetEntranceList(){if(Data.IsValid){var list=Data.GetList("ServerList");document.getElementById("selectServerListViewerList").onchange=null;document.getElementById("selectServerListViewerList").innerHTML="";for(var i=0;i<list.length;i++){var o=document.createElement("option");o.value=list[i]["name"];o.innerHTML=list[i]["name"]+"（"+list[i]["count"]+"）";o.title=list[i]["name"];document.getElementById("selectServerListViewerList").appendChild(o);}
var n="ServerListViewerList";if(Status[n]["value"]){setSelected(Status[n]["type"]+n,Status[n]["value"]);}
document.getElementById("selectServerListViewerList").onchange=ServerListChanged;}}
function SetSetList(){if(Data.IsValid){var list=Data.GetSetList();document.getElementById("divMultiple").innerHTML="";for(var i=0;i<list.length;i++){var c=document.createElement("input");c.type="checkbox";c.checked=(Status["Multiple"]["value"].indexOf(list[i]["name"])!=-1?true:false);c.onchange=MultipleChanged;var l=document.createElement("label");l.title=list[i]["name"];l.appendChild(c);l.appendChild(document.createTextNode(list[i]["name"]+" ( "+list[i]["count"]+"/"+list[i]["count"]+", 100.00% )"));document.getElementById("divMultiple").appendChild(l);}}}
function SetCollector(){if(Data.IsValid){var list=Data.GetSetList();document.getElementById("divCollector").innerHTML="";LoadCount+=(function(){var v=0;for(var i=0;i<list.length;i++){v+=list[i]["count"];}
return v;})();for(var i=0;i<list.length;i++){var d=document.createElement("div");d.id="divCollector"+list[i]["name"];d.style.textAlign="left";var set=Data.GetSet(list[i]["name"]);for(var j=0;j<set.length;j++){var img=new Image();img.onclick=CollectorChanged;img.ondragstart=function(){return false;};img.onload=function(){LoadCount-=1;if(!LoadCount){var set=!document.getElementById("aSaveLog").href&&Status["InputLog"]["value"].length;SetLog();SetPic();if(set){var f=Status["InputLog"]["value"][0].split(":");ReadInputLog(f[0],new Uint8Array().fromBase64(f[1]).getText(),false);}}};img.src=Data.GetIcon(set[j]["icon"],IconSpace);img.srcSet=set[j];img.srcSet["darked"]=false;img.srcCatagory=list[i]["name"];img.title=list[i]["name"]+" "+set[j]["setidx"]+"\r\n"+set[j]["id"]+"\r\n"+set[j]["name"];d.appendChild(img);}
document.getElementById("divCollector").appendChild(d);}
ShowCollector();}}
function ShowCollector(){var div=document.getElementById("divMultiple");for(var i=0;i<div.childNodes.length;i++){var d=document.getElementById("divCollector"+div.childNodes[i].title);if(d){d.style.display=(div.childNodes[i].childNodes[0].checked?"block":"none");}}
if(!LoadCount){SetPic();}}
function SetResult(id,v){if(v){document.getElementById(id).innerHTML="";document.getElementById(id).appendChild(v);}}
function ReadNewSetting(){var reset=(arguments.length>0?arguments[0]:false);if(!Data.IsValid){return;}
Catagory=getSelected("selectNewSettingViewerList");SetResult("divNewSetting",Data.GetTable("NewSetting",Catagory,reset));}
function ReadDict(){var reset=(arguments.length>0?arguments[0]:false);if(!Data.IsValid){return;}
var Catalog=getSelected("selectDictViewerList");SetResult("divDict",Data.GetTable("Dict",Catalog,reset));}
function ReadServerList(){var reset=(arguments.length>0?arguments[0]:false);if(!Data.IsValid){return;}
var Catalog=getSelected("selectServerListViewerList");SetResult("divServerList",Data.GetTable("ServerList",Catalog,reset));}
function ReadShopItem(){var reset=(arguments.length>0?arguments[0]:false);if(!Data.IsValid){return;}
SetResult("divShopItem",Data.GetTable("ShopItem","ShopItem",reset));}
function ReadChatMessage(){var reset=(arguments.length>0?arguments[0]:false);if(!Data.IsValid){return;}
SetResult("divChatMessage",Data.GetTable("ChatMessage","ChatMessage",reset));}
function ReadHostInfo(){var reset=(arguments.length>0?arguments[0]:false);if(!Data.IsValid){return;}
SetResult("divHostInfo",Data.GetTable("HostInfo","HostInfo",reset));}
function ReadGuildData$Summary(){var reset=(arguments.length>0?arguments[0]:false);if(!Data.IsValid){return;}
SetResult("divGuildData$Summary",Data.GetTable("GuildData$Summary","GuildData$Summary",reset));}
function ReadCommunityUserData(){var reset=(arguments.length>0?arguments[0]:false);if(!Data.IsValid){return;}
SetResult("divCommunityUserData",Data.GetTable("CommunityUserData","CommunityUserData",reset));}
function ReadUserData(){var reset=(arguments.length>0?arguments[0]:false);if(!Data.IsValid){return;}
SetResult("divUserData",Data.GetTable("UserData","UserData",reset));SetResult("divUserDataPreview",Data.GetTable("UserData","UserDataPreview",reset));}
function ReadUserList(){var reset=(arguments.length>0?arguments[0]:false);if(!Data.IsValid){return;}
SetResult("divUserList",Data.GetTable("UserList","UserList",reset));}
function ReadGameRoomEntryInfoBag(){var reset=(arguments.length>0?arguments[0]:false);if(!Data.IsValid){return;}
SetResult("divGameRoomEntryInfoBag",Data.GetTable("GameRoomEntryInfoBag","GameRoomEntryInfoBag",reset));}
function ReadEntryID(){var reset=(arguments.length>0?arguments[0]:false);if(!Data.IsValid){return;}
SetResult("divEntryID",Data.GetTable("EntryID","EntryID",reset));}
function ReadChatRoomID(){var reset=(arguments.length>0?arguments[0]:false);if(!Data.IsValid){return;}
SetResult("divChatRoomID",Data.GetTable("ChatRoomID","ChatRoomID",reset));}
function ReadTotalRank(){var reset=(arguments.length>0?arguments[0]:false);if(!Data.IsValid){return;}
SetResult("divTotalRank",Data.GetTable("TotalRank","TotalRank",reset));}
function ReadBuffer(fl){Data.AddFiles(fl);if(Data.IsValid){SetFileList();var change=Data.ResetChange();if(change["NewSettingViewer"]){SetTableList();ReadNewSetting(true);}
if(change["DictViewer"]){SetContentList();ReadDict(true);}
if(change["ServerListViewer"]){SetEntranceList();ReadServerList(true);}
if(change["ShopItemViewer"]){ReadShopItem(true);}
if(change["ChatMessageViewer"]){ReadChatMessage(true);}
if(change["HostInfoViewer"]){ReadHostInfo(true);}
if(change["GuildData$SummaryViewer"]){ReadGuildData$Summary(true);}
if(change["CommunityUserDataViewer"]){ReadCommunityUserData(true);}
if(change["UserDataViewer"]){ReadUserData(true);}
if(change["UserListViewer"]){ReadUserList(true);}
if(change["GameRoomEntryInfoBagViewer"]){ReadGameRoomEntryInfoBag(true);}
if(change["EntryIDViewer"]){ReadEntryID(true);}
if(change["ChatRoomIDViewer"]){ReadChatRoomID(true);}
if(change["TotalRankViewer"]){ReadTotalRank(true);}
HideTool();ToolChanged({"target":document.getElementById("selectTool")});}}
function ReadInput(fl){var a=[];for(var k=0;k<fl.length;k++){a.push(fl[k]["name"]+":"+(fl[k]["buffer"].length<=Status["Input"]["maxSize"]?fl[k]["buffer"].getBase64():""));}
if(Status["SetInput"]["value"]){SetStatus("Input",a);}
ReadBuffer(fl);}
function ReadBlob(l){if(!SupportAPI("File")){alert("No support File API with this browser.");return;}
SetInfo("reading");var v=[];var r=new FileReader();var n=0;var read=function(i){if(i<l.length){r.readAsArrayBuffer(l[i]["blob"]);}
else{ReadInput(v);}};r.onload=function(){v.push({"name":l[n++]["name"],"buffer":new Uint8Array(this.result)});read(n);};read(n);}
function ReadFile(e){if(e.target.files.length){var l=[];for(var i=0;i<e.target.files.length;i++){if(e.target.files[i].size>0x3FFFFFFF){SetInfo("FileTooLarge");return;}
l.push({"name":e.target.files[i]["name"],"blob":e.target.files[i]});}
ReadBlob(l);}}
function LoadFile(e){SetInfo("loading");var n=e.target.name;var r=new XMLHttpRequest();var t=new Date();var l=0;var s=0;var onProgress=function(e){if(e.lengthComputable&&e.total){var n=new Date();if(n-t>=1000){var v=(e.loaded-l)/(n-t);var d=(e.total-e.loaded)/v;SetInfo(e.loaded.toByteLength(2)+" / "+e.total.toByteLength(2)+" - "+(e.loaded/e.total*100).toFixed(2)+" %"+"\r\n"+(d?v*1000:0).toByteLength(2)+"/s"+"　　"+new Date(d-8*3600*1000).format("time"));t=n;l=e.loaded;}}};r.addEventListener("progress",onProgress);r.onload=function(){r.removeEventListener("progress",onProgress);ReadBlob([{"name":n,"blob":r.response}]);};r.onreadystatechange=function(){switch(r.readyState){case 4:if(r.readyState-s>1){SetInfo("failed");}
break;default:s=r.readyState;break;}};r.open("GET",n,true);r.responseType="blob";r.send();}
function LoadFileInfo(){var script=document.createElement("script");script.src="Config.js";script.type="text/javascript";script.async=false;script.onload=function(){var t=document.createElement("table");if(Config){var th=t.createTHead();var header=th.insertRow();for(var n in Config){var h=document.createElement("th");h.innerHTML=n;header.appendChild(h);}
var tb=t.createTBody();for(var i=0;i<Config[n].length;i++){var row=tb.insertRow();for(var n in Config){var c=row.insertCell();switch(n){case"operate":if(!IncludeAgent("Chrome")||(location.protocol!="file:")){var aa=document.createElement("a");aa.innerText="Load";aa.href="javascript:void(0)";aa.name=Config["file"][i];aa.onclick=LoadFile;var da=document.createElement("div");da.appendChild(aa);c.appendChild(da);}
var am=document.createElement("a");am.innerText="Download";am.href=Config["file"][i];am.type="application/zip";am.download="";var dm=document.createElement("div");dm.appendChild(am);c.appendChild(dm);if(Config[n][i]){var a=document.createElement("a");a.innerText=(function(){switch(true){case Config[n][i].startsWith("https://www.jianguoyun.com/p/")||Config[n][i].startsWith("https://pan.baidu.com/s/"):return"NetDisk";break;case Config[n][i].startsWith("https://qm.qq.com/cgi-bin/qm/"):return"QQGroup";break;default:return"Other";break;}})();a.href=Config[n][i];a.target="_blank";var d=document.createElement("div");d.appendChild(a);c.appendChild(d);}
break;default:c.style.textAlign=(n=="length"?"right":"left");c.style.color=(n=="datetime"?"gray":"");c.innerHTML=Config[n][i]||"";if((n=="file")&&Tips){var a=Config[n][i].split(".")[0].split("_");var v=[];for(var n in Tips){if(a[a.length-1].indexOf(n)!=-1){v.push(Tips[n]);}}
if(v.length){c.title=v.join("\r\n");}}
break;}}}}
if(Intro){var tf=t.createTFoot();var l=Object.keys(Config).length;for(var i=0;i<Intro.length;i++){if(Intro[i]["text"]){var f=tf.insertRow();var c=f.insertCell();c.colSpan=l;c.innerHTML=Intro[i]["text"].replace(/\n/g,"<br/>");if(Intro[i]["color"]){c.style.color=Intro[i]["color"];}}}}
SetInfo(t);};script.onerror=function(e){SetInfo(e.type);};document.getElementsByTagName("head")[0].appendChild(script);}
function DoAnime(){var nowTime=new Date();var t=AnimeTarget;for(var i=0;i<t.length;i++){if((t[i].tag==Catagory)&&(nowTime-t[i].lastTime>t[i].childNodes[t[i].currentIndex]["interval"])){var nextIndex=(t[i].currentIndex==t[i].childNodes.length-1?0:t[i].currentIndex+1);t[i].childNodes[nextIndex].style.display="inline";t[i].childNodes[t[i].currentIndex].style.display="none";t[i].currentIndex=nextIndex;t[i].lastTime=nowTime;}}
window.requestAnimationFrame(DoAnime);}
function CoverImage(){var cover=new Image();cover.src=CoverList[Status["Cover"]["value"]];var src=document.getElementById("imgSource");var cvs=document.createElement("canvas");cvs.width=src.width;cvs.height=src.height;var ctx=cvs.getContext("2d");ctx.drawImage(src,0,0,src.width,src.height);var h=src.height/cover.height|0;var w=src.width/cover.width|0
for(var y=0;y<h;y++){for(var x=0;x<w;x++){ctx.drawImage(cover,x*cover.width,y*cover.height,cover.width,cover.height);}}
document.getElementById("imgResult").src=cvs.toDataURL("image/png");var a=document.getElementById("aSaveIcon");URL.revokeObjectURL(a.href);var d=new Uint8Array().fromBase64(document.getElementById("imgResult").src.split(",")[1]);a.href=URL.createObjectURL(new Blob([d],{"type":"image/png"}));a.download="image.png";document.getElementById("imgResult").title=a.download+"\r\n"+d.length.toByteLength(2);}
function ReadInputBase(n,d){var b=(arguments.length>2?arguments[2]:true);var img=new Image();img.onload=function(){var m=[];if(!img.width||!img.height){m.push("Invalid image !");}
else{if(img.width%32){m.push("img.width % 32 != 0");}
if(img.height%32){m.push("img.height % 32 != 0");}}
if(m.length){alert(m.join("\r\n"));}
else{if(b){var s=d.split(",")[1];SetStatus("InputBase",[n+":"+(s.length/3*2<=Status["InputBase"]["maxSize"]?s:"")]);}
document.getElementById("imgSource").src=this.src;}};img.src=d;}
function ReadBase(e){if(e.target.files.length){if(e.target.files[0].size>0x3FFFFFFF){SetInfo("FileTooLarge");return;}
var r=new FileReader();r.onload=function(){ReadInputBase(e.target.files[0]["name"],this.result);};r.readAsDataURL(e.target.files[0]);}}
function StatCollector(c){var div=document.getElementById("divMultiple");for(var i=0;i<div.childNodes.length;i++){if(div.childNodes[i].childNodes[1].data.startsWith(c+" ")){var cn=document.getElementById("divCollector"+c).childNodes;var n=(function(){var v=0;for(var i=0;i<cn.length;i++){if(!cn[i].srcSet["darked"]){v+=1;}}
return v;})();div.childNodes[i].childNodes[1].data=c+" ( "+n+"/"+cn.length+", "+(n*100/cn.length).toFixed(2)+"% )";}}}
function DarkImage(t){if(!t.srcSet["darked"]){t.src=Data.GetIcon(t.srcSet["icon"],IconSpace);}
else{var cvs=document.createElement("canvas");cvs.width=t.width;cvs.height=t.height;var ctx=cvs.getContext("2d");ctx.drawImage(t,0,0);var d=ctx.getImageData(0,0,cvs.width,cvs.height);for(var y=0;y<cvs.height;y++){for(var x=0;x<cvs.width;x++){var n=(y*cvs.width+x)*4;d.data[n]=d.data[n]*0.4;d.data[n+1]=d.data[n+1]*0.4;d.data[n+2]=d.data[n+2]*0.4;}}
ctx.putImageData(d,0,0);t.src=cvs.toDataURL("image/png");}}
function ReadInputLog(n,t){var b=(arguments.length>2?arguments[2]:true);if(b){SetStatus("InputLog",[n+":"+(s.length<=Status["InputLog"]["maxSize"]?s.getBase64():"")]);}
var map={};var stat={};var a=t.split("\r\n");var div=document.getElementById("divCollector");for(var index=0;index<a.length;index++){var s=a[index].split("=");if(s.length==2){var c=s[0].trim();var d=s[1].trim().split(",");map[c]={};for(var i=0;i<div.childNodes.length;i++){if(div.childNodes[i].id.slice("divCollector".length)==c){for(var n=0;n<d.length;n++){var id=d[n].trim();for(var j=0;j<div.childNodes[i].childNodes.length;j++){if(div.childNodes[i].childNodes[j].srcSet["id"]==id){map[c][id]=true;break;}}}
for(var j=0;j<div.childNodes[i].childNodes.length;j++){var img=div.childNodes[i].childNodes[j];if((map[c][img.srcSet["id"]]?false:true)!=img.srcSet["darked"]){stat[c]=true;LoadCount+=1;}}
break;}}}}
for(var i=0;i<div.childNodes.length;i++){var c=div.childNodes[i].id.slice("divCollector".length);for(var j=0;j<div.childNodes[i].childNodes.length;j++){var img=div.childNodes[i].childNodes[j];var t=img.srcSet["darked"];img.srcSet["darked"]=(map[c][img.srcSet["id"]]?false:true);if(img.srcSet["darked"]!=t){DarkImage(img);}}}
for(var n in stat){if(stat[n]){StatCollector(n);}}}
function ReadLog(e){if(e.target.files.length){if(e.target.files[0].size>0x3FFFFFFF){SetInfo("FileTooLarge");return;}
var r=new FileReader();r.onload=function(){ReadInputLog(e.target.files[0]["name"],this.result);};r.readAsText(e.target.files[0]);}}
function SetLog(){document.getElementById("fileFileLog").value="";var set=(function(){var v=[];for(var i=0;i<document.getElementById("divCollector").childNodes.length;i++){var d=[];var cn=document.getElementById("divCollector").childNodes[i];for(var j=0;j<cn.childNodes.length;j++){var img=cn.childNodes[j];if(!img.srcSet["darked"]){d.push(img.srcSet["id"]);}}
v.push(cn.id.slice("divCollector".length)+"="+d.join(","));}
return v.join("\r\n");})();var a=document.getElementById("aSaveLog");URL.revokeObjectURL(a.href);var d=new Uint8Array().fromText(set);a.href=URL.createObjectURL(new Blob([d],{"type":"text/plain"}));a.download=Title+"_set.log";a.title=a.download+"\r\n"+d.length.toByteLength(2);}
function SetPic(){var pic=(function(){var countX=20;var countY=(function(){var v=0;for(var i=0;i<document.getElementById("divCollector").childNodes.length;i++){if(document.getElementById("divCollector").childNodes[i].style.display!="none"){v+=Math.ceil(document.getElementById("divCollector").childNodes[i].childNodes.length/countX);}}
return v;})();var cvs=document.createElement("canvas");cvs.width=countX*32;cvs.height=countY*32;var ctx=cvs.getContext("2d");ctx.fillStyle="#333842";ctx.fillRect(0,0,cvs.width,cvs.height);var h=0;for(var i=0;i<document.getElementById("divCollector").childNodes.length;i++){if(document.getElementById("divCollector").childNodes[i].style.display!="none"){var cn=document.getElementById("divCollector").childNodes[i].childNodes;for(var j=0;j<cn.length;j++){ctx.drawImage(cn[j],(j%countX)*32,h+(j/countX|0)*32,cn[j].width,cn[j].height);}
h+=Math.ceil(cn.length/countX)*32;}}
return cvs.toDataURL("image/png");})();var a=document.getElementById("aSavePic");URL.revokeObjectURL(a.href);var d=new Uint8Array().fromBase64(pic.split(",")[1]);a.href=URL.createObjectURL(new Blob([d],{"type":"image/png"}));a.download=Title+"_set.png";a.title=a.download+"\r\n"+d.length.toByteLength(2);}
function TimerQuiz(){var countDown=(function(){var t=document.getElementById("timerQuiz");return(t?parseInt(t.innerHTML)|0:0);})();countDown-=1;if(countDown){document.getElementById("timerQuiz").innerHTML=countDown;Timer=setTimeout("TimerQuiz()",1000);}
else{CreateQuiz(-2);}}
function CreateQuiz(n){var t=document.createElement("table");var th=t.createTHead();var header=th.insertRow();var h=document.createElement("th");h.innerHTML=(function(){switch(true){case n==-2:return"挑战失败";break;case n==-1:return"挑战开始";break;case n>Quiz["list"].length-1:return"挑战成功";break;default:return"第 "+(n+1)+" 题";break;}})();h.style.cursor="default";header.appendChild(h);var tb=t.createTBody();var m=tb.insertRow().insertCell();m.id="timerQuiz";m.innerHTML=(function(){switch(true){case n==-2:return"╮(╯▽╰)╭";break;case n==-1:return"↖(^ω^)↗";break;case n>Quiz["list"].length-1:return"<(￣︶￣)>";break;default:return"↓";break;}})();var q=tb.insertRow().insertCell();q.innerHTML=(function(){switch(true){case n==-2:return"点击此处重新挑战";break;case n==-1:return"点击此处开始挑战";break;case n>Quiz["list"].length-1:return"点击此处再次挑战";break;default:return Quiz["list"][n]["question"];break;}})();if((n<0)||(n>Quiz["list"].length-1)){q.style.cursor="pointer";q.onclick=function(){Quiz=Data.GetQuiz();CreateQuiz(0);};}
else{m.innerHTML=Quiz["time"];Timer=setTimeout("TimerQuiz()",1000);q.style.color="cyan";for(var i=0;i<Quiz["list"][n]["options"].length;i++){var row=tb.insertRow();var c=row.insertCell();c.innerHTML=Quiz["list"][n]["options"][i];if(i==Quiz["list"][n]["answer"]-1){c.answer=true;}
c.style.cursor="pointer";c.onclick=function(){clearTimeout(Timer);if(this.answer){CreateQuiz(n+1);}
else{CreateQuiz(-2);}}}}
var tf=t.createTFoot();var div=document.getElementById("divQuizSimulator");div.innerHTML="";div.appendChild(t);}
function ToolChanged(e){if(e.currentTarget){SetStatus("Tool",e.currentTarget.options[e.currentTarget.selectedIndex].value);}
for(var i=0;i<e.target.options.length;i++){var select=document.getElementById("select"+e.target.options[i].value+"List");if(select){select.style.display=((i==e.target.selectedIndex)&&(e.target.options[i].style.display!="none")?"":"none");}
var div=document.getElementById("div"+e.target.options[i].value);if(div){div.style.display=((i==e.target.selectedIndex)&&(e.target.options[i].style.display!="none")?"block":"none");if((div.style.display=="block")&&!Load[e.target.options[i].value]){switch(e.target.options[i].value){case"NewSettingViewer":case"DictViewer":case"ServerListViewer":case"ShopItemViewer":case"ChatMessageViewer":case"HostInfoViewer":case"GuildData$SummaryViewer":case"CommunityUserDataViewer":case"UserDataViewer":case"UserListViewer":case"GameRoomEntryInfoBagViewer":case"EntryIDViewer":case"ChatRoomIDViewer":case"TotalRankViewer":break;case"QuizSimulator":CreateQuiz(-1);break;case"IconCover":var selector=document.getElementById("divSelector");var base=Data.GetIcon(IconSpace);for(var j=0;j<CoverList.length;j++){var img=new Image();img.title=CoverList[j].slice(1).replace(/.tex/g,"").replace(/\//g,".")||"none";CoverList[j]=Data.GetIcon(CoverList[j]);img.src=CoverList[j];img.srcIndex=j;img.style.backgroundImage="url("+base+")";img.onclick=function(){SetStatus("Cover",this.srcIndex);CoverImage();};selector.appendChild(img);}
if(!document.getElementById("imgSource").src&&Status["InputBase"]["value"].length){var f=Status["InputBase"]["value"][0].split(":");ReadInputBase(f[0],"data:image/"+f[0].slice(f[0].lastIndexOf(".")+1)+";base64,"+f[1],false);}
else{document.getElementById("imgSource").src=base;}
if(Status["Cover"]["value"]){CoverImage();}
break;case"SetCollector":SetSetList();SetCollector();break;case"UserDataPreviewer":break;}
Load[e.target.options[i].value]=true;}}}}
function NewSettingChanged(e){SetStatus("NewSettingViewerList",e.currentTarget.options[e.currentTarget.selectedIndex].value);ReadNewSetting();}
function DictChanged(e){SetStatus("DictViewerList",e.currentTarget.options[e.currentTarget.selectedIndex].value);ReadDict();}
function ServerListChanged(e){SetStatus("ServerListViewerList",e.currentTarget.options[e.currentTarget.selectedIndex].value);ReadServerListViewer();}
function MultipleChanged(e){var a=[];for(var i=0;i<e.target.parentNode.parentNode.childNodes.length;i++){if(e.target.parentNode.parentNode.childNodes[i].childNodes[0].checked){a.push(e.target.parentNode.parentNode.childNodes[i].title);}}
SetStatus("Multiple",a);ShowCollector();}
function CollectorChanged(e){var img=e.target;img.srcSet["darked"]=(img.srcSet["darked"]?false:true);LoadCount+=1;DarkImage(img);StatCollector(img.srcCatagory);}
function KeyChange(e){if(e.type=="keydown"){switch(e.key){case"Alt":case"Control":case"Shift":break;default:switch(true){case e.altKey:Key["Alt"]=true;break;case e.ctrlKey:Key["Control"]=true;break;case e.shiftKey:Key["Shift"]=true;break;}
break;}}
if(e.type=="keyup"){switch(e.key){case"Alt":break;case"Control":if(Key["Control"]){Key["Control"]=false;}
else{SetStatus("SetInput",!Status["SetInput"]["value"]);UpdateConfig();}
break;case"Shift":if(Key["Shift"]){Key["Shift"]=false;}
else{SetStatus("ShowResult",!Status["ShowResult"]["value"]);UpdateConfig();}
break;}}}
function StartPress(e){var m={"aTitle":{"status":"ShowResult","target":[]},"fileFile":{"status":"ShowExtend","target":["aStatus"]}};if(m[e.target.id]){e.target.pressEvent=setTimeout(function(){SetStatus(m[e.target.id]["status"],!Status[m[e.target.id]["status"]]["value"]);UpdateConfig();for(var i=0;i<m[e.target.id]["target"].length;i++){var switchId=m[e.target.id]["target"][i];switch(switchId){case"aStatus":document.getElementById(switchId).style.display=(Status[m[e.target.id]["status"]]["value"]?"block":"none");break;}}
e.target.pressEvent=-1;},1000);}}
function StopPress(e){if(e.target.pressEvent>0){switch(e.target.id){case"aTitle":case"fileFile":clearTimeout(e.target.pressEvent);e.target.pressEvent=0;break;}}
else if(e.target.pressEvent<0){e.preventDefault();}}
function UpdateLink(){var loadLink=function(id,text,url){var a=document.createElement("a");a.id="a"+id.slice(3);a.href=url;a.target="_blank";a.innerHTML=text;a.style.textDecoration="none";a.style.color=Color["fontColor"];document.getElementById(id).innerHTML="";document.getElementById(id).appendChild(a);};loadLink("divTitle",Title,"http://shang.qq.com/wpa/qunwpa?idkey=11334256789a3e86e679f77ae86fb5f26d9e3baaff07f166f653df49a745a0f1");loadLink("divCopyright","Copyright © 心のsky Group","http://wpa.qq.com/msgrd?v=3&uin=308973930&site="+Title+"_"+Version+".html&menu=yes");}
function UpdateAccept(){var loadAccept=function(id,m){var v=[];for(var i=0;i<m.length;i++){v.push("★"+m[i].join(","));}
v=v.join("\r\n");document.getElementById(id).title=v;document.getElementById(id).accept=(IncludeAgent("QQ")?"":v.replace(/★/g,"").replace(/\r\n/g,","));};loadAccept("fileFile",[[".zar",".zip"],[".ser",".tab"]]);loadAccept("fileFileBase",[[".bmp",".png"]]);loadAccept("fileFileLog",[[".log"]]);}
function UpdateConfig(){var t=[];for(var n in Status){if(Status[n]["type"]=="config"){t.push(n+": "+Status[n]["value"]);}
switch(n){case"ShowResult":document.getElementById("divTitle").childNodes[0].style.color=(Status["ShowResult"]["value"]?Color["fontColor"]:Color["titleSwitch"]);document.getElementById("divResult").style.display=(Status["ShowResult"]["value"]?"block":"none");break;case"ShowExtend":document.getElementById("aStatus").style.display=(Status["ShowExtend"]["value"]?"block":"none");break;case"SetInput":document.getElementById("divTitle").childNodes[0].style.fontWeight=(Status["SetInput"]["value"]?"bolder":"");break;}}
document.getElementById("divTitle").title=t.join("\r\n");}
function Initialize(){var LoadConfig=(function(){UpdateLink();UpdateAccept();UpdateConfig();})();var LoadControl=(function(){document.getElementById("divFile").style.display="block";var a=document.createElement("a");a.innerText="GetData";a.href="javascript:void(0)";a.onclick=LoadFileInfo;SetInfo(a);})();var LoadCheckFonts=(function(){var table=document.createElement("table");var d=document.getElementsByTagName("body")[0];d.appendChild(table);var f=getComputedStyle(table)["fontFamily"];d.removeChild(table);var l=f.split(",").map(function(a){a=a.trim();if(a.startsWith('"')||a.startsWith("'")){a=a.slice(1);}
if(a.endsWith('"')||a.endsWith("'")){a=a.slice(0,a.length-1);}
return a;});var s=[];for(var i=0;i<l.length;i++){if(!ExistFont(l[i])){s.push(l[i]);}}
if(s.length){var a=document.createElement("a");a.innerText="Lost fonts: "+s.join(", ")+".";a.href="https://lrfasd.github.io/ampedZ/FONTS.html";a.target="_blank";a.style.background="orange";document.getElementById("divMessage").appendChild(a);}})();var LoadUrlParameter=(function(){var readSearch=function(t){var r={};var s=t.slice(1).split("&");for(var i=0;i<s.length;i++){var l=s[i].indexOf("=");var n=s[i].slice(0,l).toLowerCase();var v=s[i].slice(l+1);if(n&&v){r[n]=v;}}
return r;};var s=mergeObject(readSearch(Search),readSearch(location.search),true);for(var n in s){switch(n.toLowerCase()){case"help":var m=(function(){var r="";var helphelp="\r\n<help>\r\n　[bgcolor]　Help of bgcolor\r\n　[show]　Help of show\r\n　[check]　Help of check\r\n　[input]　Help of input\r\n　[default]　Help of default\r\n　[all]　Help above all\r\n";var helpbgcolor="\r\n<bgcolor>\r\n　[#rrggbbaa]　RGBA Hex\r\n";var helpshow="\r\n<show>\r\n　[version]　Version\r\n　[bgcolor]　BackgroundColor\r\n";var helpcheck="\r\n<check>\r\n　[le]　LittleEndian\r\n　[api]　SupportAPI\r\n　[agent]　UserAgent\r\n　[font]　ExistFont\r\n";var helpinput="\r\n<input>\r\n　[filename.ext:filebufferbase64string]　Input File Info\r\n";var helpdefault="\r\n<default>\r\n　Global Config\r\n　{ShowResult}　[true] or [false]\r\n　{ShowExtend}　[true] or [false]\r\n\r\n　Mode\r\n　{Tool}　Tool Name\r\n　{NewSettingViewerList}　List Name\r\n　{DictViewerList}　List Name\r\n　{ServerListViewerList}　List Name\r\n　{Cover}　Cover Index\r\n　{Multiple}　List of Collector Set Name join as _\r\n　{Input}　File Path\r\n　{InputBase}　File Path\r\n　{InputLog}　File Path\r\n";var v=s[n].split(",");for(var j=0;j<v.length;j++){switch(v[j].toLowerCase()){case"help":r+=helphelp;break;case"bgcolor":r+=helpbgcolor;break;case"show":r+=helpshow;break;case"check":r+=helpcheck;break;case"input":r+=helpinput;break;case"default":r+=helpdefault;break;case"all":return helphelp+helpbgcolor+helpshow+helpcheck+helpinput+helpdefault;break;}}
return r;})();var p=document.createElement("p");p.style.textAlign="left";p.style.fontSize="14px";p.style.wordWrap="break-word";p.innerHTML=("【"+n+"】\r\n\r\nexpurl/rmstZ.html?key1=value1&key2=value2,value3|value4&key3=name1:value5,value6;name2:value7|value8\r\n　(?)　Parameters Start\r\n　(&)　Parameter Array Split\r\n　(=)　Expression Set\r\n　(;)　Pair Array Split\r\n　(:)　Value Set\r\n　(,)　Value Array Split\r\n　(|)　Value Or\r\n\r\n<key>　{name}　[value]　explain\r\n"+m).toHtml().replace(/\r\n/g,"<br/>").replace(/\n/g,"<br/>");SetResult("divHelp",p);break;case"bgcolor":var v=s[n].split(",");var c=v[v.length-1].slice(0,8).padEnd(8,"0").splitEvery(2);if(c.isHex()){var a=parseInt(c[0],16)/256;var r=parseInt(c[1],16);var g=parseInt(c[2],16);var b=parseInt(c[3],16);document.body.style.backgroundColor="rgba("+r+", "+g+", "+b+", "+a+")";}
break;case"show":var m=(function(){var r="";var showversion="\r\nVersion："+Version+"\r\n";var showbgcolor="\r\nBgColor："+(document.body.style.backgroundColor==""?"rgb(255, 255, 255)":document.body.style.backgroundColor)+"\r\n";var v=s[n].split(",");for(var j=0;j<v.length;j++){switch(v[j].toLowerCase()){case"version":r+=showversion;break;case"bgcolor":r+=showbgcolor;break;case"all":return showversion+showbgcolor;break;}}
return r;})();var p=document.createElement("p");p.style.textAlign="left";p.style.fontSize="14px";p.style.wordWrap="break-word";p.innerHTML=("【"+n+"】\r\n"+m).toHtml().replace(/\r\n/g,"<br/>").replace(/\n/g,"<br/>");SetResult("divHelp",p);break;case"check":var m=(function(){var r="";var checkle="\r\nLittleEndian："+LittleEndian+"\r\n";var checkapi=(function(){var n=["File","TypedArrays"];var m=[];for(var k=0;k<n.length;k++){m.push("\r\nSupport"+n[k]+"API："+SupportAPI(n[k]));}
return m.join("")+"\r\n";})();var checkagent=(function(){var n=["MSIE","Mozilla","Chrome","AppleWebKit","Safari","Mobile Safari","UCBrowser","QQ","MicroMessenger"];var m=[];for(var k=0;k<n.length;k++){m.push("\r\nInclude"+n[k].replace(/\ /g,"")+"Agent："+IncludeAgent(n[k]));}
return m.join("")+"\r\n";})();var checkfont=(function(){var n=["Consolas","FZDaHei-B02S","HYGothic-Extra","Lucida Bright","Lucida Sans","Lucida Sans Typewriter"];var m=[];for(var k=0;k<n.length;k++){m.push("\r\nExist "+n[k].replace(/\ /g,"")+" Font："+ExistFont(n[k]));}
return m.join("")+"\r\n";})();var v=s[n].split(",");for(var j=0;j<v.length;j++){switch(v[j].toLowerCase()){case"le":r+=checkle;break;case"api":r+=checkapi;break;case"agent":r+=checkagent;break;case"font":r+=checkfont;break;case"all":return checkle+checkapi+checkagent+checkfont;break;}}
return r;})();var p=document.createElement("p");p.style.textAlign="left";p.style.fontSize="14px";p.style.wordWrap="break-word";p.innerHTML=("【"+n+"】\r\n"+m).toHtml().replace(/\r\n/g,"<br/>").replace(/\n/g,"<br/>");SetResult("divHelp",p);break;case"input":var fl=[];var v=s[n].split(";");for(var j=0;j<v.length;j++){var f=v[j].split(":");if(f.length==2){fl.push({"name":f[0],"buffer":new Uint8Array().fromBase64(f[1])});}}
if(fl.length){SetInfo("reading");setTimeout(function(){ReadInput(fl);},0);}
break;case"inputbase":var v=s[n].split(";");for(var j=0;j<v.length;j++){var f=v[j].split(":");if(f.length==2){SetStatus("InputBase",[f[0]+":"+(f[1].length/3*2<=Status["InputBase"]["maxSize"]?f[1]:"")]);break;}}
break;case"inputlog":var v=s[n].split(";");for(var j=0;j<v.length;j++){var f=v[j].split(":");if(f.length==2){SetStatus("InputLog",[f[0]+":"+(f[1].length/3*2<=Status["InputLog"]["maxSize"]?f[1]:"")]);break;}}
break;case"default":var matchOption=function(t){t=t.toLowerCase();for(var n in Status){if(t==n.toLowerCase()){return n;}}};var v=s[n].split(";");for(var j=0;j<v.length;j++){var c=v[j].split(":");if(c.length==2){c[0]=matchOption(c[0]);Status[c[0]]=Status[c[0]]||{};switch(Status[c[0]]["type"]){case"config":var l=c[1].split("|");for(var k=0;k<l.length;k++){l[k]=l[k].trim();l[k]=l[k].toLowerCase();if((l[k]=="true")||(l[k]=="false")){l[k]=(l[k]=="true"?true:false);SetStatus(c[0],l[k]);UpdateConfig();break;}}
break;case"select":var l=c[1].split("|");for(var k=0;k<l.length;k++){l[k]=l[k].trim();SetStatus(c[0],l[k]);if(setSelected(Status[c[0]]["type"]+c[0],l[k])){break;}}
break;case"number":var l=c[1].split("|");for(var k=0;k<l.length;k++){l[k]=parseInt(l[k]);if(!isNaN(l[k])){SetStatus(c[0],l[k]);break;}}
break;case"liststring":var cs=[];var aa=c[1].split("_");for(var ai=0;ai<aa.length;ai++){var l=aa[ai].split("|");for(var k=0;k<l.length;k++){l[k]=l[k].trim();if(l[k]){cs.push(l[k]);break;}}}
cs=cs.unrepeat();SetStatus(c[0],cs);break;}}}
break;}}})();var addEvent=(function(){window.onkeydown=KeyChange;window.onkeyup=KeyChange;document.getElementById("aTitle").onmousedown=StartPress;document.getElementById("aTitle").ontouchstart=StartPress;document.getElementById("aTitle").onmouseout=StopPress;document.getElementById("aTitle").ontouchmove=StopPress;document.getElementById("aTitle").ontouchend=StopPress;document.getElementById("aTitle").ontouchcancel=StopPress;document.getElementById("aTitle").onclick=StopPress;document.getElementById("fileFile").onchange=ReadFile;document.getElementById("fileFile").onmousedown=StartPress;document.getElementById("fileFile").ontouchstart=StartPress;document.getElementById("fileFile").onmouseout=StopPress;document.getElementById("fileFile").ontouchmove=StopPress;document.getElementById("fileFile").ontouchend=StopPress;document.getElementById("fileFile").ontouchcancel=StopPress;document.getElementById("fileFile").onclick=StopPress;document.getElementById("selectTool").onchange=ToolChanged;document.getElementById("selectNewSettingViewerList").onchange=NewSettingChanged;document.getElementById("selectDictViewerList").onchange=DictChanged;document.getElementById("selectServerListViewerList").onchange=ServerListChanged;document.getElementById("fileFileBase").onchange=ReadBase;document.getElementById("imgSource").title=document.getElementById("fileFileBase").title;document.getElementById("imgSource").onload=function(){CoverImage();};document.getElementById("imgSource").onclick=function(){document.getElementById("fileFileBase").click();};document.getElementById("imgResult").onclick=function(){document.getElementById("aSaveIcon").click();};document.getElementById("fileFileLog").onchange=ReadLog;document.getElementById("aLoadLog").href="javascript:void(0)";document.getElementById("aLoadLog").onclick=function(){document.getElementById("fileFileLog").click();};})();}
window.onload=Initialize;</script></body></html>